import{u as x,R as m,j as s,S as n,m as a,T as v,U as h,s as o,C as j}from"./index-Dr9ZTIop.js";import{L as b}from"./LittleHeader-XNWv_M-9.js";import{_ as r}from"./index-CPykWLTA.js";const N=({props:l})=>{var d;const{studentInfoData:i}=h(l);x();const{teacherDetail:e}=o(l);return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-[200px] border-r ",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"avatar",children:s.jsx("div",{className:"mask mask-squircle w-12 h-12",children:s.jsx("img",{src:e!=null&&e.avatar?e==null?void 0:e.avatar:i!=null&&i.avatar?i==null?void 0:i.avatar:j,alt:"Avatar"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:e!=null&&e.staffName?e==null?void 0:e.staffName:`${i==null?void 0:i.studentFirstName} ${i==null?void 0:i.studentLastName}`}),s.jsx("div",{className:"text-[10px] font-semibold opacity-50 flex flex-wrap gap-1 ",children:e!=null&&e.classesAssigned?(d=e==null?void 0:e.classesAssigned)==null?void 0:d.map(c=>s.jsx("div",{className:"pr-2 border-r-2",children:c.className})):i==null?void 0:i.classAssigned})]})]})}),s.jsx("div",{className:"w-[100px] border-r ml-2",children:e?e==null?void 0:e.status.split("-")[1]:i==null?void 0:i.status.split("-")[1]})]})},u=()=>{const{data:l}=x(),{complainData:i}=m(l==null?void 0:l._id);return s.jsxs("div",{children:[s.jsx(b,{name:"Report and Complains"}),s.jsx("div",{className:"mb-28"}),s.jsx("div",{className:"mb-28"}),s.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[s.jsxs("div",{className:"text-[gray] w-[1090px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[s.jsx("div",{className:"w-[80px] border-r",children:"Resolved"}),s.jsx("div",{className:"w-[200px] border-r",children:"Name"}),s.jsx("div",{className:"w-[100px] border-r",children:"Status"}),s.jsx("div",{className:"w-[400px] border-r",children:"Complains"}),s.jsx("div",{className:"w-[100px] border-r",children:"Urgency"}),s.jsx("div",{className:"w-[80px] border-r",children:"Make as seen"}),s.jsx("div",{className:"w-[80px] border-r",children:"Make as Resolved"})]}),s.jsx("div",{className:" w-[1090px] overflow-hidden ",children:i==null?void 0:i.map((e,d)=>s.jsx("div",{children:s.jsx("div",{children:s.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden ${d%2===0?"bg-slate-50":"bg-white"}`,children:[s.jsx("div",{className:"w-[80px] border-r",children:s.jsx("label",{children:s.jsx("input",{checked:e==null?void 0:e.resolve,type:"checkbox",className:"checkbox"})})}),s.jsx(N,{props:e.reporterID}),s.jsx("div",{className:"w-[400px] py-2 flex justify-start border-r font-normal ml-2",children:e==null?void 0:e.title}),s.jsx("div",{className:"w-[100px] border-r",children:e==null?void 0:e.importance}),s.jsx("div",{className:"w-[80px] border-r pl-6 ",children:s.jsx("label",{onClick:()=>{n(l==null?void 0:l._id,e==null?void 0:e._id).then(c=>{c.status===201?(a(`api/view-school-complain/${l==null?void 0:l._id}`),r.success("complain has been marked as Seen")):r.error("something went wrong")})},children:s.jsx("input",{checked:e==null?void 0:e.seen,type:"checkbox",className:"checkbox checkbox-error"})})}),s.jsx("div",{className:"w-[80px] border-r  pl-6",children:s.jsx("label",{onClick:()=>{v(l==null?void 0:l._id,e==null?void 0:e._id).then(c=>{c.status===201?(a(`api/view-school-complain/${l==null?void 0:l._id}`),r.success("complain has been resolved")):r.error("something went wrong")})},children:s.jsx("input",{checked:e==null?void 0:e.resolve,type:"checkbox",className:"checkbox checkbox-warning "})})})]},e)})}))})]})]})};export{u as default};
