import{H as u,t as b,b3 as A,j as e,cb as q,cc as Q,X as P,A as k,a6 as G,cg as J,cN as L,C,a0 as X,m as T,r as N,a as S,cL as K,bb as Z,cP as I,k as ee,b4 as V,h as M,aE as F,B as D,cQ as se,ae,b2 as le,_ as te,cR as ie,Y as ce,cS as de,cT as re,i as ne,a1 as xe,an as me,aG as oe,b6 as he,c2 as je,a3 as ue}from"./index-Dr9ZTIop.js";import{C as U,A as B,p as Y,a as H,D as O}from"./index-Dd92SExZ.js";/* empty css                    */import{S as ve}from"./index-QaJKv7Yx.js";import{b as W}from"./index-BIHAHyvx.js";import{_ as p,I as Ne}from"./index-CPykWLTA.js";import"./react-datepicker-Bv15p8ZS.js";import{I as be}from"./Input-CHfh9ry9.js";import{B as fe}from"./BlockPaymentScreen-NQY3Whni.js";U.register(B,Y,H);const ge=()=>{var r;const{studentInfo:i}=u(),{oneClass:a}=b(i==null?void 0:i.presentClassID),{classStudents:l}=A(a==null?void 0:a._id);let c=0,s=0;for(let d=0;d<((r=l==null?void 0:l.students)==null?void 0:r.length);d++)(l==null?void 0:l.students[d].gender)==="Male"?c++:s++;const t={labels:[`Male: ${c}, Female: ${s}`],datasets:[{label:"My Class Male Chart vs. Female Chart",data:[c,s],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]};return e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"w-full ",children:e.jsx(O,{data:t})})})},pe=()=>{var n,x,v;var i={infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0};const{studentInfo:a}=u(),{schoolAnnouncement:l}=q(a==null?void 0:a.schoolIDs),{schoolEvent:c}=Q(a==null?void 0:a.schoolIDs);let s=(n=l==null?void 0:l.announcements)==null?void 0:n.slice(0,5),t=(x=c==null?void 0:c.events)==null?void 0:x.slice(0,5),d=[].concat(s,t);const m=(v=P.shuffle(d))==null?void 0:v.slice(0,5),o=Array.from({length:2});return e.jsx("div",{className:"w-90% mx-7",children:(o==null?void 0:o.length)>0?e.jsx(ve,{...i,children:m==null?void 0:m.map((h,f)=>e.jsxs("div",{className:"px-5",children:[e.jsx("h3",{className:"text-[30px] ",children:h==null?void 0:h.title}),e.jsxs("h3",{className:"text-[10px] mb-2 -mt-1 opacity-75 capitalize",children:[h==null?void 0:h.date," · ",h==null?void 0:h.status," · posted data:"," ",k(h==null?void 0:h.createdAt).fromNow()]}),e.jsx("h3",{className:"text-[13px] opacity-60 font-normal h-[60px] ",children:h==null?void 0:h.details})]},f))}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[e.jsx(G,{}),e.jsx("p",{className:"text-[12px] mt-3 capitalize",children:"no Announcement or Event yet"})]})})},we=()=>{const{studentInfo:i}=u(),{data:a}=J(i==null?void 0:i._id),{purchasedStore:l}=L(i==null?void 0:i._id);return e.jsx("div",{children:e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[e.jsxs("div",{className:"text-[gray] w-[1100px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[e.jsx("div",{className:"w-[180px] border-r",children:"Date Purchased"}),e.jsx("div",{className:"w-[250px] border-r",children:"Items Purchased"}),e.jsx("div",{className:"w-[100px] border-r",children:"Total cost paid"}),e.jsx("div",{className:"w-[150px] border-r",children:"Paid Receipt"}),e.jsx("div",{className:"w-[80px] border-r",children:"delievered"}),e.jsx("div",{className:"w-[10px] border-r"}),e.jsx("div",{className:"w-[150px] border-r",children:"Name"}),e.jsx("div",{className:"w-[80px] border-r",children:"Class"})]}),(l==null?void 0:l.length)>0?e.jsx("div",{className:" w-[1100px] overflow-hidden ",children:l==null?void 0:l.map((c,s)=>{var t;return e.jsx("div",{children:s<=2&&e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden ${s%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[180px] border-r",children:c==null?void 0:c.date}),e.jsx("div",{className:"w-[250px] border-r ",children:(t=c==null?void 0:c.cart)==null?void 0:t.map((r,d)=>e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center gap-3 my-2",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:r!=null&&r.avatar?r==null?void 0:r.avatar:C,alt:"Avatar"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:r.title}),e.jsxs("div",{className:"text-[12px] opacity-50 ",children:["₦",r.cost.toLocaleString()," * ",r.QTY]})]})]})},d))}),e.jsxs("div",{className:"w-[100px] border-r ml-1",children:["₦",(c==null?void 0:c.amount).toLocaleString()]}),e.jsx("div",{className:"w-[150px] border-r ml-1",children:c==null?void 0:c.reference}),e.jsx("div",{className:"w-[80px] border-r pl-6 ",children:e.jsx("label",{children:e.jsx("input",{checked:c==null?void 0:c.delievered,type:"checkbox",className:"checkbox checkbox-error",onClick:()=>{X(c==null?void 0:c._id).then(r=>{r.status===201&&(T(`api/view-school-purchase/${a==null?void 0:a._id}`),N.useEffect(()=>{},[c.delievered]))})}})})}),e.jsx("div",{className:"w-[10px] border-r ml-1"}),e.jsx("div",{className:"w-[150px] border-r ml-1",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:c==null?void 0:c.studentName}),e.jsx("div",{className:"text-[12px] opacity-50 ",children:c!=null&&c.studentClass?"student":"Teacher"})]})}),e.jsx("div",{className:"w-[80px] border-r ml-1",children:c==null?void 0:c.studentClass})]},c)})})})})}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(W,{}),e.jsx("p",{className:"mt-2 text-[15px]",children:"You haven't reported any complains yet"})]})]})})},ye=()=>e.jsxs("div",{children:[e.jsx("div",{className:"mb-5",children:e.jsx("hr",{})}),e.jsxs("div",{className:" rounded-md w-full  ",children:[e.jsxs("div",{className:"mb-4 text-[12px] text-medium capitalize",children:["Top 5 Recent Purchases"," ",e.jsx("span",{className:"font-bold ml-5",children:e.jsx(S,{to:"/purchase-history",children:"View All "})})]}),e.jsx("div",{className:"border p-4 rounded-md",children:e.jsx(we,{})})]})]}),ke=()=>{var c,s;const{studentInfo:i}=u(),{purchasedStore:a}=L(i==null?void 0:i._id);let l={};for(let t=0;t<(a==null?void 0:a.length);t++)l=a[0];return e.jsx("div",{children:Object.values(l).length!==0?e.jsxs("div",{className:"text-blue-950",children:[e.jsx("p",{className:"font-medium leading-tight mb-3 text-[12px]",children:l!=null&&l.delievered?e.jsxs("p",{children:["This Item Purchase is now due for Pick Up,",e.jsx("br",{}),e.jsx("span",{className:"font-bold",children:"Thanks for being patient with us!"})]}):e.jsxs("p",{children:["You'd made this purchase but it hasn't been comfirm... We are still on it. ",e.jsx("br",{}),e.jsx("span",{className:"font-bold",children:"Please be patient with us!"})]})}),e.jsxs("div",{className:"flex items-center flex-wrap gap-5",children:[e.jsx("div",{className:"w-[200px] border-r  ",children:(c=l==null?void 0:l.cart)==null?void 0:c.map((t,r)=>{var d;return e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center gap-3 my-2",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:t!=null&&t.avatar?t==null?void 0:t.avatar:C,alt:"Avatar"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:t.title}),e.jsxs("div",{className:"text-[12px] opacity-50 ",children:["₦",(d=t==null?void 0:t.cost)==null?void 0:d.toLocaleString()," * ",t.QTY]})]})]})},r)})}),e.jsxs("div",{className:"w-[100px] border-r font-medium",children:[e.jsxs("div",{className:"text-[12px] w-full flex justify-start",children:[" ","Amount Paid"," "]}),e.jsxs("div",{children:[" ₦",(s=l==null?void 0:l.amount)==null?void 0:s.toLocaleString()," "]})]}),e.jsxs("div",{className:"font-medium",children:[e.jsx("div",{className:"text-[12px]  w-full flex justify-start",children:"You Receipt Code"}),e.jsx("div",{className:"font-bold",children:l==null?void 0:l.reference}),e.jsx("div",{className:"text-[12px]  text-[silver] italic",children:l==null?void 0:l.date})]})]}),e.jsxs("p",{className:"text-[12px] mt-8",children:["Please show this ",e.jsx("strong",{className:"font-bold",children:"Recipt code"}),", when going to Pick up your items",e.jsx("br",{}),"This will help fast track all protocols that will delay you unneccessary!"]})]}):e.jsxs("div",{className:"flex justify-center items-center h-[130px] p-2 flex-col",children:[e.jsx(W,{}),e.jsx("p",{className:"text-[12px]",children:"You've not made any recent Purchase"})]})})},Se=()=>{var t;const{studentInfo:i}=u(),{studentFees:a}=K(i==null?void 0:i._id),[l,c]=N.useState("");let s={};for(let r=0;r<(a==null?void 0:a.length);r++)s=a[0];return e.jsxs("div",{children:[e.jsx("div",{className:"mb-10"}),e.jsxs("p",{className:"text-[13px] mb-3",children:["School Fees Record",e.jsx(S,{to:"/school-fee-history",children:e.jsx("span",{className:"font-bold ml-2",children:"View History"})})]}),e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",children:[e.jsxs("div",{className:"text-[gray] w-[900px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4 pb-0",children:[e.jsx("div",{className:"w-[180px] border-r",children:"Date Paid"}),e.jsx("div",{className:"w-[250px] border-r",children:"Student Info "}),e.jsx("div",{className:"w-[130px] border-r",children:"School Fee Paid"}),e.jsx("div",{className:"w-[150px] border-r ml-1",children:"Payment Receipt Code"}),e.jsx("div",{className:"w-[150px] border-r",children:"confirm"}),e.jsx("div",{className:"w-[80px] border-r",children:"Remark"})]}),e.jsx("div",{className:" w-[900px] overflow-hidden ",children:e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-0 overflow-hidden bg-slate-50 py-5 
                    `,children:[e.jsx("div",{className:"w-[180px] border-r",children:s==null?void 0:s.date}),e.jsx("div",{className:"w-[250px] border-r ",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center gap-3 my-2",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:i!=null&&i.avatar?i==null?void 0:i.avatar:C,alt:"Avatar"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:s==null?void 0:s.studentName}),e.jsxs("div",{className:"text-[12px] opacity-50 ",children:[s==null?void 0:s.studentClass," - ",s==null?void 0:s.term]})]})]})})}),e.jsxs("div",{className:"w-[130px] border-r ml-1",children:["₦",(t=s==null?void 0:s.amount)==null?void 0:t.toLocaleString()]}),e.jsx("div",{className:"w-[145px] border-r ml-1",children:s==null?void 0:s.reference}),e.jsx("div",{className:"w-[150px] border-r pl-1 ",onClick:()=>{c(s==null?void 0:s._id)},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"my_modal_6",className:`btn text-[12px] font-medium text-white 
                          ${s!=null&&s.confirm?"bg-blue-950":"bg-red-600"}
                          ${s!=null&&s.confirm?"hover:bg-blue-900":"hover:bg-red-500"}
                          w-[95%] capitalize
                          `,children:s!=null&&s.confirm?"confirm":"not yet confirm"}),e.jsx("input",{type:"checkbox",id:"my_modal_6",className:"modal-toggle"})]})}),e.jsx("div",{className:"w-[80px] border-r pl-6 ",children:e.jsx("input",{id:"my_modal_6",checked:s==null?void 0:s.confirm,type:"checkbox",className:`checkbox ${s!=null&&s.confirm?"checkbox-success":"checkbox-error"}`,onClick:()=>{Z(s==null?void 0:s._id).then(r=>{})}})})]})})]})]})};U.register(B,Y,H);const Ce=()=>{var r;const{studentInfo:i}=u(),{oneClass:a}=b(i==null?void 0:i.presentClassID),{classStudents:l}=A(a==null?void 0:a._id);let c=0,s=0;for(let d=0;d<((r=l==null?void 0:l.students)==null?void 0:r.length);d++)(l==null?void 0:l.students[d].gender)==="Male"?c++:s++;const t={labels:[`Present: ${c}, Absent: ${s}`],datasets:[{label:"My Class Attendace Chart",data:[c,s],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]};return e.jsx("div",{className:"w-full flex justify-center mt-10",children:e.jsx("div",{className:"w-full ",children:e.jsx(O,{data:t})})})},E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_e=()=>{var s,t;const{studentInfo:i}=u(),{oneClass:a}=b(i==null?void 0:i.presentClassID),{viewTimeTable:l}=I(a==null?void 0:a._id),c=Object.values(P.groupBy(l,"day"));return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 text-blue-950",children:[e.jsx("p",{className:"font-bold"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsxs("div",{className:"border rounded-md min-h-[130px] p-2 pb-0 ",children:[e.jsx("p",{className:"font-medium leading-tight",children:"Number of Students:"}),e.jsx("div",{className:"mt-5"}),e.jsxs("div",{className:"flex items-end gap-2 ",children:[e.jsx("h1",{className:"text-[60px] md:text-[70px] font-medium mb-0 leading-none",children:(s=a==null?void 0:a.students)==null?void 0:s.length})," ",e.jsx("span",{className:"mb-1 font-medium text-[15px] -ml-2",children:"students"})]})]}),e.jsxs("div",{className:"border rounded-md min-h-[130px] p-2 pb-0 ",children:[e.jsx("p",{className:"font-medium leading-tight",children:"Number of Subjects:"}),e.jsx("div",{className:"mt-5"}),e.jsxs("div",{className:"flex items-end gap-2 ",children:[e.jsx("h1",{className:"text-[60px] md:text-[70px] font-medium mb-0 leading-none",children:(t=a==null?void 0:a.classSubjects)==null?void 0:t.length})," ",e.jsx("span",{className:"mb-1 font-medium text-[15px] -ml-2",children:"Subjects"})]})]}),e.jsx("div",{className:"border rounded-md min-h-[130px] p-2 pb-0 col-span-3 w-[97.5%]",children:e.jsxs("div",{className:"flex items-end gap-2 ",children:[e.jsx("h1",{className:"text-[60px] md:text-[70px] font-medium mb-0 leading-none"})," ",e.jsx(ke,{})]})})]})]}),e.jsx("div",{className:"border-t my-5"}),e.jsxs("div",{className:"w-full min-h-[130px] bg-blue-950 rounded-lg mt-1 text-white p-3",children:[e.jsx("p",{className:"text-[20px] mb-2",children:"Announcement/Event"}),e.jsx(pe,{})]}),e.jsxs("div",{className:"w-full min-h-[130px] border bg-blue-900 rounded-lg text-white p-3 mt-5  overflow-x-auto relative",children:[e.jsxs("div",{className:"sticky z-20 top-0 left-0",children:[e.jsx("p",{className:"text-[20px] mb-2",children:"My Today's class Schedule"}),e.jsx("p",{className:"text-[20px] font-bold -mt-3",children:E[k(Date.now()).day()]})]}),e.jsx("div",{className:"flex mt-5 w-full mr-5",children:c==null?void 0:c.map((r,d)=>e.jsx("div",{className:`
                flex flex-col py-2 my-0 
                `,children:e.jsx("div",{className:"flex gap-4 mr-5",children:r==null?void 0:r.map((m,o)=>e.jsx("div",{className:"flex",onClick:()=>{},children:(m==null?void 0:m.day)===E[k(Date.now()).day()]&&e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:" h-[170px] flex justify-center items-center rounded-lg flex-col w-[200px] text-blue-950 bg-white border",children:[e.jsx("p",{children:m==null?void 0:m.subject}),e.jsx("p",{children:m==null?void 0:m.time})]})})},o))})},d))})]}),e.jsx(Se,{}),e.jsx("div",{className:"border-t my-5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"mb-10",children:"Chart"}),e.jsxs("div",{className:"flex flex-wrap justify-center",children:[e.jsx("div",{className:"",children:e.jsx(ge,{})}),e.jsx("div",{className:"",children:e.jsx(Ce,{})})]}),e.jsx("p",{className:"text-[12px]",children:"Male vs Female"})]}),e.jsx("div",{className:"mt-10",children:e.jsx(ye,{})})]})},Pe=({props:i})=>{var c,s,t,r;const{mainStudentAttendance:a}=ee(i),l=(s=(c=a==null?void 0:a.data)==null?void 0:c.attendance)==null?void 0:s.filter(d=>d.present===!0).length;return e.jsxs("div",{className:"ml-2",children:[l/((r=(t=a==null?void 0:a.data)==null?void 0:t.attendance)==null?void 0:r.length)*100,"%"]})},Ae=()=>{const{studentInfo:i}=u(),{oneClass:a}=b(i==null?void 0:i.presentClassID),{classStudents:l}=A(a==null?void 0:a._id),c=P.sortBy(l==null?void 0:l.students,[s=>s.totalPerformance]);return e.jsx("div",{className:"",children:e.jsx("div",{className:"carousel carousel-center h-[400px] rounded-box *:bg-slate-100 gap-2",children:c==null?void 0:c.map((s,t)=>e.jsx("div",{className:"carousel-item",children:t<3&&e.jsxs("div",{children:[e.jsx("img",{src:s!=null&&s.avatar?s==null?void 0:s.avatar:C,alt:"Pizza",className:"w-[280px] h-[82%] object-cover "}),e.jsxs("div",{className:"p-2 text-[12px]",children:[e.jsxs("p",{children:["Name:"," ",e.jsxs("span",{className:"capitalize font-bold",children:[s==null?void 0:s.studentFirstName," ",s==null?void 0:s.studentLastName]})]}),e.jsxs("p",{children:["Class:"," ",e.jsx("span",{className:"capitalize font-bold",children:s==null?void 0:s.classAssigned})]}),e.jsxs("div",{className:"flex items-center text-[10px] gap-3 mt-3 leading-tight",children:[e.jsxs("p",{children:["Grade Ratio:"," ",e.jsx("span",{className:"capitalize font-bold",children:s!=null&&s.totalPerformance?s==null?void 0:s.totalPerformance:0})]}),"·",e.jsxs("p",{className:"flex",children:["Attendance Rate:"," ",e.jsx("span",{className:"mr-0 capitalize font-bold",children:e.jsx(Pe,{props:s==null?void 0:s._id})})]})]})]})]})},s==null?void 0:s._id))})})},Te=[{id:"1",day:"Mon"},{id:"2",day:"Tue"},{id:"3",day:"Wed"},{id:"4",day:"Thurs"},{id:"5",day:"Fri"},{id:"6",day:"Sat"},{id:"7",day:"Sun"}],Me=()=>{const i=new Date,a=i.toLocaleString("default",{month:"long"}),l=i.toLocaleString("default",{weekday:"long"}),c=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),s=Array.from({length:c},(t,r)=>r+1);return e.jsxs("div",{className:"flex flex-col items-center mr-10 mb-12",children:[e.jsx("div",{className:"my-4 text-[25px] text-blue-950 font-bold",children:"Calendar"}),e.jsxs("div",{className:"w-[80%] text-blue-950  mb-5 flex justify-center items-center gap-2",children:[e.jsxs("div",{className:"text-blue-950  font-semibold",children:[l,","]}),e.jsxs("div",{className:"text-blue-950  font-semibold",children:[a," 2024"]})]}),e.jsxs("div",{className:"w-full grid grid-cols-7 gap-5",children:[Te.map(t=>e.jsx("div",{className:"w-full flex justify-center text-white font-semibold",children:t.day})),s.map(t=>e.jsx("div",{className:`flex items-center justify-center py-2 px-3 rounded-full ${t===i.getDate()?"bg-indigo-800 border-[2px]  border-white text-white":"bg-white"}`,children:t},t))]})]})},Fe=({props:i})=>{var o;const[a,l]=N.useState(""),[c,s]=N.useState(""),{studentInfo:t}=u(),{oneClass:r}=b(t==null?void 0:t.presentClassID),{subjectData:d}=V(r==null?void 0:r._id),m=()=>{se(t==null?void 0:t._id,a).then(n=>{var x,v;(n==null?void 0:n.status)===201?(T(`api/view-school-teacher/${t==null?void 0:t.schoolIDs}`),p.success("Added Successfully...!")):p.error(`${(v=(x=n==null?void 0:n.response)==null?void 0:x.data)==null?void 0:v.message}`)}).then(()=>{l(""),s("")})};return e.jsx("div",{children:e.jsxs("div",{className:" text-[13px] font-medium",children:[t!=null&&t.monitor?e.jsxs("label",{htmlFor:"mark_complains",className:" transition-all duration-300 cursor-pointer ",children:[e.jsx("p",{children:"+ Mark Active(on-going) Class"}),e.jsx("p",{className:"text-[10px] mt-1",children:"(only class prefect can do this)"})]}):e.jsxs("label",{className:" transition-all duration-300 cursor-pointer ",children:[e.jsx("p",{children:"+ Mark Active Class"}),e.jsx("p",{className:"text-[10px]",children:"(only class prefect can do this)"})]}),e.jsx("div",{className:""}),e.jsx("input",{type:"checkbox",id:"mark_complains",className:"modal-toggle"}),e.jsxs("div",{className:"modal bgw rounded-md text-blue-950 text-left",role:"dialog",children:[e.jsxs("div",{className:"modal-box bg-gray-100 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Mark an ongoing class!"}),e.jsx("label",{htmlFor:"mark_complains",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(M,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Have an insight of who is in your class at the moment of every period, this helps us you give a quantitative and quality Education...!",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" ","Subject Teacher:"," ",e.jsx("span",{className:"font-medium",children:a})]}),a&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(F,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex w-full gap-2 mb-10",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Subject Presently Having"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-bordered w-full mt-2",value:a,onChange:n=>{l(n.target.value)},children:[e.jsx("option",{selected:!0,disabled:!0,defaultValue:"Choose Importance",children:"Choose Subject ongoing"}),(o=d==null?void 0:d.classSubjects)==null?void 0:o.map(n=>e.jsx("option",{value:n==null?void 0:n.subjectTeacherName,children:n==null?void 0:n.subjectTitle},n==null?void 0:n._id))]})]})})})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:a!==""?e.jsx("label",{htmlFor:"mark_complains",className:"bg-blue-950 text-white py-4 px-8 rounded-md cursor-pointer ",onClick:m,children:"Mark Class ongoing"}):e.jsx(D,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"mark_complains",children:"Close"})]})]})})},De=({props:i})=>{const a=ae(),[l,c]=N.useState(!1),[s,t]=N.useState(""),{studentInfo:r}=u(),{state:d}=le(r==null?void 0:r.classAssigned);V(d==null?void 0:d._id);const m=()=>{c(!0),ie(r==null?void 0:r.schoolIDs,r==null?void 0:r._id,s).then(x=>{(x==null?void 0:x.status)===200?(p.success("Parent's email added/updated successfully"),setTimeout(()=>{c(!1),n(!0)},1e3)):((x==null?void 0:x.status)===404||!(x!=null&&x.status))&&p.error("Couldn't update parent's email")})},[o,n]=N.useState(!1);return e.jsxs("div",{children:[e.jsx(Ne,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:" text-[13px] font-medium",children:[e.jsx("div",{className:""}),e.jsx("input",{type:"checkbox",checked:!(r!=null&&r.parentEmail),id:"update_email",className:"modal-toggle",value:s,onChange:x=>{t(x.target.value)}}),e.jsx("div",{className:"modal bgw text-blue-950 text-left",children:e.jsxs("div",{className:"modal-box bg-gray-100 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Input Parent's Email"}),e.jsx("label",{htmlFor:"update_email",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(M,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Provide the email address of the parent or guardian associated with this student.",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:["Parent's Email:"," ",e.jsx("span",{className:"font-medium",children:s})]}),s.length>0&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"Email provided"}),e.jsx(F,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex w-full gap-2 mb-10",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Parent's Email Address"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(be,{className:"w-[95%]",value:s,onChange:x=>t(x.target.value)})]})})})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:s!==""?e.jsxs("label",{htmlFor:"update_email",className:"bg-blue-950 text-white py-4 px-8 rounded-md flex items-center gap-2 cursor-pointer ",onClick:o?()=>{a("/")}:m,children:[o?"View Dashboard":e.jsx("div",{children:"Proceed"}),l&&e.jsx(te,{size:20,color:"white"})]}):e.jsx(D,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]})}),e.jsx("label",{className:"modal-backdrop",htmlFor:"update_email",children:"Close"})]})]})},Re=()=>{var d,m,o,n,x,v,h,f,w,y;const{studentInfo:i}=u(),{studentAttendance:a}=ce(i==null?void 0:i._id),{oneClass:l}=b(i==null?void 0:i.presentClassID);let c=0,s=[];for(let j=0;j<((d=a==null?void 0:a.attendance)==null?void 0:d.length);j++)a!=null&&a.attendance[j].present&&c++;for(let j=0;j<((m=l==null?void 0:l.classSubjects)==null?void 0:m.length);j++){let _=(n=(o=l==null?void 0:l.classSubjects[j])==null?void 0:o.quiz)==null?void 0:n.length;s.push(_)}for(let j=0;j<((x=l==null?void 0:l.classSubjects)==null?void 0:x.length);j++)l==null||l.assignment.length;const{remarks:t}=de(i==null?void 0:i._id);let r={};for(let j=0;j<(t==null?void 0:t.data.length);j++)r=t==null?void 0:t.data[0];return console.log(r),e.jsx("div",{className:"mt-5 border rounded-md p-2 bg-slate-100 text-[12px] w-full",children:e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[e.jsxs("div",{className:"text-[gray] w-[1100px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[e.jsx("div",{className:"w-[180px] border-r",children:"Recorded Date"}),e.jsx("div",{className:"w-[100px] border-r",children:"Attendance"}),e.jsx("div",{className:"w-[100px] border-r",children:"Test Taken"}),e.jsx("div",{className:"w-[100px] border-r",children:"Assignment Taken"}),e.jsx("div",{className:"w-[100px] border-r",children:"Quiz Taken"}),e.jsx("div",{className:"w-[400px] border-r",children:"Class Teacher Remarks"})]}),e.jsx("div",{className:" w-[1100px] overflow-hidden ",children:e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden bg-slate-50
                        `,children:[e.jsx("div",{className:"w-[180px] border-r",children:k(r==null?void 0:r.createdAt).format("lll")}),e.jsxs("div",{className:"w-[100px] border-r",children:[c," / ",(v=a==null?void 0:a.attendance)==null?void 0:v.length]}),e.jsxs("div",{className:"w-[100px] border-r",children:[(h=i==null?void 0:i.performance)==null?void 0:h.length,"/",P.sumBy(s)]}),e.jsxs("div",{className:"w-[100px] border-r ml-1",children:[" ",(f=i==null?void 0:i.assignmentResolve)==null?void 0:f.length,"/",(w=l==null?void 0:l.assignment)==null?void 0:w.length]}),e.jsxs("div",{className:"w-[100px] border-r ml-1",children:[" ",(y=i==null?void 0:i.performance)==null?void 0:y.length]}),e.jsx("div",{className:"w-[400px] border-r ",children:r==null?void 0:r.remark}),e.jsx("div",{className:"w-[10px] border-r ml-1"})]})})})})]})})},ze=({props:i})=>{const[a,l]=N.useState(""),[c,s]=N.useState(""),{studentInfo:t}=u();b(t==null?void 0:t.presentClassID);const r=()=>{re(t==null?void 0:t._id,{title:c,importance:a}).then(d=>{var m,o;(d==null?void 0:d.status)===201?(T(`api/create-student-complain/${t==null?void 0:t._id}`),p.success("Added Successfully...!")):p.error(`${(o=(m=d==null?void 0:d.response)==null?void 0:m.data)==null?void 0:o.message}`)}).then(()=>{l(""),s("")})};return e.jsx("div",{className:"",children:e.jsxs("div",{className:" text-[13px]  font-medium",children:[e.jsx("label",{htmlFor:"mark_my_complains",className:" transition-all duration-300 cursor-pointer ",children:"+ Mark Complains"}),e.jsx("div",{className:""}),e.jsx("input",{type:"checkbox",id:"mark_my_complains",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md text-blue-950 text-left",role:"dialog",children:[e.jsxs("div",{className:"modal-box bg-white  rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Make Complains and Tips for Improvement"}),e.jsx("label",{htmlFor:"mark_my_complains",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(M,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Is there anything that seriously disturb you... Please keep it no more, make the complain and let's start addressing it now!!",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" ","Importance: ",e.jsx("span",{className:"font-medium",children:a})]}),a&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(F,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Complains Detail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"border w-full resize-none h-[200px] mb-5 rounded-md mt-2 p-2 bg-gray-100 outline-none",value:c,onChange:d=>{s(d.target.value)},placeholder:"Complains Detail"}),e.jsx("div",{className:"flex w-full gap-2 mb-10",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Importance ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select bg-gray-100 select-bordered w-full mt-2",value:a,onChange:d=>{l(d.target.value)},children:[e.jsx("option",{selected:!0,disabled:!0,defaultValue:"Choose Importance",children:"Choose Importance"}),e.jsx("option",{value:"Urgently Urgent",children:"Urgently Urgent"}),e.jsx("option",{value:"Very Urgent",children:"Very Urgent"}),e.jsx("option",{value:"Urgent",children:"Urgent"})]})]})})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:a!==""&&c!==""?e.jsx("label",{htmlFor:"mark_my_complains",className:"bg-blue-950 text-white py-4 px-8 rounded-md cursor-pointer ",onClick:r,children:"Publish This Complain"}):e.jsx(D,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"mark_my_complains",children:"Close"})]})]})})},$e="/assets/dummy-article-img-wiPHrJBO.jpg";document.title="School's Article Page";const Ee=()=>{ne();const{studentInfo:i}=u(),{allArticle:a}=xe(i==null?void 0:i.schoolIDs);return e.jsx("div",{children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full mt-6",children:a&&(a==null?void 0:a.map((l,c)=>e.jsx("div",{children:c<1&&e.jsx(S,{to:`/articles/${l==null?void 0:l._id}`,children:e.jsxs("div",{className:"card  rounded-md bg-white border text-zinc-600 cursor-pointer hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title flex justify-between",children:e.jsx("div",{className:"text-nowrap overflow-ellipsis overflow-hidden whitespace-nowrap",children:l==null?void 0:l.desc})}),e.jsx("p",{className:"text-[13px]",children:l==null?void 0:l.title}),e.jsx("div",{className:"text-[12px] font-semibold",children:k(l==null?void 0:l.createdAt).fromNow()})]}),e.jsx("figure",{children:e.jsx("img",{src:l!=null&&l.image?l==null?void 0:l.image:$e,alt:"Article",className:"w-full h-full "})})]})})})))})})})},Qe=()=>{var v,h,f,w,y,j,_,R,z,$;const i=Array.from({length:2}),{studentInfo:a}=u();document.title=`${a==null?void 0:a.studentFirstName}'s Record and Stats`;const{schoolInfo:l,loading:c}=me(a==null?void 0:a.schoolIDs);let s=l,t={};if((s==null?void 0:s.length)>0)for(let g=0;g<s.length;g++)t=s[0];let r="";if(t!==null)for(let g=0;g<((v=t==null?void 0:t.term)==null?void 0:v.reverse().length);g++)r=t==null?void 0:t.term[0];const{oneClass:d}=b(a==null?void 0:a.presentClassID),{termData:m}=oe(r),{gradeData:o}=he(a==null?void 0:a._id),{schoolInfo:n}=je(a==null?void 0:a.schoolName);let x=o==null?void 0:o.reportCard.find(g=>g.classInfo===`${d==null?void 0:d.className} session: ${n==null?void 0:n.presentSession}(${d==null?void 0:d.presentTerm})`);return e.jsx("div",{className:"text-blue-950 flex flex-col h-full",children:e.jsxs("div",{className:" grid grid-cols-1 lg:grid-cols-5 gap-3 mt-5",children:[e.jsxs("div",{className:"min-w-[250px] h-full flex flex-col rounded-md border p-4 col-span-3",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("div",{className:"mb-4 text-medium capitalize font-semibold flex gap-2",children:[e.jsx("div",{children:" My Class:"}),e.jsx("div",{className:"font-bold",children:a==null?void 0:a.classAssigned})]})}),e.jsx("div",{className:" gap-6 font-medium cursor-pointer text-[12px] mb-10 bg-blue-950 leading-tight text-white px-6 py-4  rounded-md  text-center",children:e.jsx(Fe,{})}),e.jsx("p",{className:`capitalize font-medium ${x!=null&&x.approve?"text-red-500":"text-blue-950"}`,children:x!=null&&x.approve?"ready now":"not yet Ready"}),e.jsx("div",{className:"flex ",children:x!=null&&x.approve?e.jsx(S,{to:"/print-result",children:e.jsx("div",{className:"bg-orange-500 hover:bg-orange-600 p-2 text-white rounded-md cursor-pointer transition-all duration-300 capitalize",children:"view this term's report card"})}):e.jsx("div",{className:"bg-orange-500 hover:bg-orange-600 p-2 text-white rounded-md cursor-pointer transition-all duration-300 capitalize",children:"Term's report card(Not Ready)"})}),e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"font-semibold text-[13px]",children:"Your Performance"}),e.jsxs("p",{className:"text-[20px] text-blue-900",children:["★".repeat(Math.round((a==null?void 0:a.totalPerformance)/20))," ",e.jsxs("span",{className:"text-[12px] font-bold",children:["(",((a==null?void 0:a.totalPerformance)/20).toFixed(2),")"]})]})]}),e.jsx(_e,{}),e.jsx("div",{className:"flex-1 mt-10"}),e.jsx("div",{className:"text-[13px] font-medium mt-4",children:e.jsx("div",{className:"flex items-center gap-4"})})]}),e.jsxs("div",{className:"min-w-[300px] overflow-hidden min-h-[300px] flex flex-col rounded-md border p-4 col-span-2",children:[e.jsxs("div",{children:[e.jsx("div",{children:e.jsxs("div",{className:"  gap-2 mb-10",children:[e.jsx("div",{className:"flex gap-2 pb-10",children:e.jsx("div",{className:" gap-6 font-medium cursor-pointer text-[12px] bg-orange-600 leading-tight text-white px-6 py-4  rounded-md  text-center",children:e.jsx(ze,{})})}),e.jsxs("div",{className:"font-medium text-[12px] text-blue-950 px-6 py-2 rounded-sm  text-center w-full flex flex-col items-center overflow-hidden",children:[e.jsxs("p",{className:"font-bold text-left pb-3 text-[15px] ",children:["Student of the Week for class ",a==null?void 0:a.classAssigned]}),d!=null&&d.weekStudent?e.jsxs("div",{className:"w-[260px]  rounded-t-md min-h-[320px] border",children:[e.jsx("img",{className:"w-full h-[300px] object-cover rounded-t-md",src:(f=(h=d==null?void 0:d.weekStudent)==null?void 0:h.student)!=null&&f.avatar?(y=(w=d==null?void 0:d.weekStudent)==null?void 0:w.student)==null?void 0:y.avatar:C}),e.jsxs("p",{className:"flex px-2 justify-start my-2 text-[15px]",children:["Name:"," ",e.jsxs("span",{className:"font-bold ml-2",children:[(_=(j=d==null?void 0:d.weekStudent)==null?void 0:j.student)==null?void 0:_.studentFirstName," ",(z=(R=d==null?void 0:d.weekStudent)==null?void 0:R.student)==null?void 0:z.studentLastName]})]}),e.jsx("p",{className:"text-left px-2 pb-2",children:($=d==null?void 0:d.weekStudent)==null?void 0:$.remark})]}):"No record yet"]})]})}),(i==null?void 0:i.length)>0?e.jsxs("div",{className:"flex justify-center flex-col gap-3 w-full items-center ",children:[e.jsx("div",{className:"w-full",children:e.jsx("p",{className:"font-bold text-left pb-5 text-[15px] ",children:"Top 3 Performancing Students"})}),e.jsx("div",{className:" overflow-hidden",children:e.jsx(Ae,{})})]}):e.jsxs("div",{className:"flex flex-col w-full items-center",children:[e.jsx(ue,{size:30}),e.jsxs("p",{className:"font-medium text-[13px]",children:["No complains Record yet:"," "]})]})]}),e.jsx("div",{className:"border-b my-5"}),e.jsx("div",{className:"flex flex-col items-center w-full  justify-center",children:e.jsx("div",{className:" flex justify-center gap-3 w-full items-center",children:e.jsx(Me,{})})}),e.jsx("div",{className:"mb-5",children:e.jsx("hr",{})}),e.jsx("p",{children:"Last Week Performance"}),e.jsx(Re,{}),e.jsx("div",{className:"my-10",children:e.jsx("hr",{})}),e.jsxs("div",{className:"mt-2 text-blue-950",children:[e.jsxs("div",{className:"flex gap-3 text-[15px] ",children:[e.jsx("p",{children:"Most Recent Article"}),e.jsx(S,{to:"/articles",children:e.jsx("p",{className:"font-bold",children:"View More"})})]}),e.jsx(Ee,{})]})]}),!(a!=null&&a.parentEmail)&&e.jsx(De,{}),n!=null&&n.freeMode?null:e.jsx("div",{children:!(m!=null&&m.plan)&&!(m!=null&&m.payRef)&&e.jsx(fe,{})})]})})};export{Qe as default};
