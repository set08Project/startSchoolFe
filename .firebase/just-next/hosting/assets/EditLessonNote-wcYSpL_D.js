import{i as E,ae as L,b8 as M,r as d,bE as k,j as a,_ as I,X as f,c5 as O}from"./index-Dr9ZTIop.js";import{L as P}from"./LittleHeader-BOV1o-nT.js";import{d as K,C as z}from"./ckeditor-gCzDPHbr.js";import{M as A}from"./MainInput-BSdtGsqX.js";document.title="update and Improve Lesson Note ";const X=()=>{const{noteID:v}=E(),V=L(),{teacherInfo:p}=M(),[j,h]=d.useState(!1),[w,$]=d.useState(""),[N,W]=d.useState(""),[T,g]=d.useState(""),[x,S]=d.useState([""]),{lessonNoteData:i}=k(v),y=()=>{h(!0);const l=f.reduce(x,(s,{label:t,value:u})=>(s[t]=u,s),{}),o=f.reduce(N,(s,{label:t,value:u})=>(s[t]=u,s),{}),r=f.reduce(T,(s,{label:t,value:u})=>(s[t]=u,s),{}),c={...l,...o,...r,content:w};O(p==null?void 0:p._id,v,c).then(s=>{s.status===201?(h(!1),V("/lesson-note")):h(!1)})};let b={...i},n={...i},e={...i};const m=[{label:"This lesson is for what week?",placeholder:"Week 1",name:"week",defaultValue:`${e==null?void 0:e.week}`},{label:"Input the started date",placeholder:"10/02/2024",name:"createDate",defaultValue:`${e==null?void 0:e.createDate}`},{label:"This lesson is for what class?",placeholder:"JSS 1B",name:"classes",defaultValue:`${e==null?void 0:e.classes}`},{label:"This lesson is for what subject?",placeholder:"Mathematics",name:"subject",defaultValue:`${e==null?void 0:e.subject}`},{label:"This lesson is for what topic?",placeholder:"Probabilty",name:"topic",defaultValue:`${e==null?void 0:e.topic}`},{label:"This lesson is for what sub-topic?",placeholder:"Sub-Topic",name:"subTopic",defaultValue:`${e==null?void 0:e.subTopic}`},{label:"This lesson is for how many periods?",placeholder:"2 - 5",name:"period",defaultValue:`${e==null?void 0:e.period}`},{label:"How long will this lesson take?",placeholder:"40 minutes x no of periods",name:"duration",defaultValue:`${e==null?void 0:e.duration}`},{label:"What are your teaching materials?",placeholder:"die, coins, or charts",name:"instructionalMaterial",defaultValue:`${e==null?void 0:e.instructionalMaterial}`},{label:"What are your reference materials?",placeholder:"Integrated Mathematics",name:"referenceMaterial",defaultValue:`${e==null?void 0:e.referenceMaterial}`}],C=m.map(l=>l.defaultValue);return a.jsxs("div",{children:[a.jsx(P,{name:`${document.title} `}),a.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 text-blue-950 mt-10",children:m==null?void 0:m.map((l,o)=>{let r=C[o];return a.jsx("div",{children:a.jsxs("div",{className:"text-[12px] ",children:[a.jsx("label",{children:l.label}),a.jsx(A,{className:"w-auto ml-0",placeholder:l.placeholder,defaultValue:r,value:x[o]?x[o].value:r,onChange:c=>{const s=c.target.value;S(t=>{const u=[...t];return u[o]={label:l.name,value:s},u})}})]})})})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[{placeholder:"Previous Knowledge",name:"previousKnowledge",defaultValue:`${i==null?void 0:i.previousKnowledge}`},{placeholder:"Specific Objectives",name:"specificObjectives",defaultValue:`${i==null?void 0:i.specificObjectives}`}].map((l,o)=>a.jsx("div",{children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-[12px]",children:l.placeholder}),a.jsx("textarea",{className:"w-full col-span-1 bg-white transition-all duration-300 focus:outline-1 focus:outline outline-blue-950 rounded-md py-1 px-2 text-[13px] h-[100px] resize-none mx-0 border",defaultValue:l.defaultValue,onChange:r=>{const c=r.target.value;g(s=>{const t=[...s];return t[o]={label:l==null?void 0:l.name,value:c},t})}})]})}))}),a.jsx("p",{className:"text-[12px] mt-3",children:"Lesson Note"}),a.jsx("div",{className:"w-full my-1  min-h-[300px] border",children:a.jsx(K.CKEditor,{editor:z,data:b==null?void 0:b.content,onChange:(l,o)=>{const r=o.getData();$(r)}})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-16",children:[{placeholder:"Evaluation",name:"evaluation",defaultValue:`${n==null?void 0:n.evaluation}`},{placeholder:"Summary",name:"summary",defaultValue:`${n==null?void 0:n.summary}`},{placeholder:"Presentation",name:"presentation",defaultValue:`${n==null?void 0:n.presentation}`},{placeholder:"Assignment",name:"assignment",defaultValue:`${n==null?void 0:n.assignment}`}].map((l,o)=>(l==null||l.defaultValue,a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-[12px]",children:l.placeholder}),a.jsx("textarea",{className:"w-full col-span-1 bg-white transition-all duration-300 focus:outline-1 focus:outline outline-blue-950 rounded-md py-1 px-2 text-[13px] h-[100px] resize-none mx-0 border",defaultValue:l.defaultValue,onChange:r=>{const c=r.target.value;g(s=>{const t=[...s];return t[o]={label:l==null?void 0:l.name,value:c},t})}})]})))}),a.jsx("button",{onClick:y,className:"btn text-white bg-blue-950 mt-3 px-12 hover:bg-blue-900 border-none",children:j?a.jsxs("div",{children:[a.jsx(I,{size:10,color:"white"}),a.jsx("span",{children:"Processing..."})]}):"Submit Improved Note "})]})};export{X as default};
