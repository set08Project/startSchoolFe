import{i as u,u as f,aZ as b,a1 as v,U as w,r as y,a_ as I,j as s,f as g,A as r,a$ as k,m as _,a as h,a2 as N,b0 as z}from"./index-Dr9ZTIop.js";import{d as S}from"./dummy-BcUwpZQ2.js";import{P as m}from"./index-Dv11XXwU.js";import{U as $}from"./index-CI8joyPh.js";document.title="Viewing Article";const M=()=>{const{view:l}=u(),{data:i}=f(),{oneArticle:e}=b(l),{allArticle:x}=v(e==null?void 0:e.schoolID);w(e==null?void 0:e.schoolID);const t=x==null?void 0:x.filter(a=>a.studentID===(e==null?void 0:e.studentID));let c=e==null?void 0:e.like,d=c==null?void 0:c.some(a=>a===(i==null?void 0:i._id)),n=0;return d?n=(c==null?void 0:c.length)-1:n=c==null?void 0:c.length,y.useEffect(()=>{I(l,i==null?void 0:i._id)},[]),s.jsxs("div",{children:[s.jsx(g,{name:document.title}),s.jsx("div",{className:"w-full flex justify-center",children:s.jsxs("div",{className:"space-y-4 md:w-[95%]",children:[s.jsx("div",{className:"text-[28px] text-black font-bold capitalize leading-tight",children:s.jsx("strong",{children:e==null?void 0:e.desc})}),s.jsxs("div",{className:"flex items-center gap-4 text-black font-semibold",children:[s.jsx("div",{className:"",children:s.jsx("img",{src:e!=null&&e.avatar?e==null?void 0:e.avatar:S,alt:"",className:"avatar rounded-full h-[50px] w-[50px] object-cover"})}),s.jsxs("div",{children:[s.jsx("div",{children:e!=null&&e.student?e==null?void 0:e.student:"s"}),s.jsxs("div",{className:"",children:[s.jsx("span",{className:"text-zinc-500 text-[12px]",children:"Published:"})," ",s.jsx("span",{className:"capitalize  text-[12px]",children:r(e==null?void 0:e.createdAt).fromNow()})]})]})]}),s.jsx("div",{className:"w-full text-black  mt-20",dangerouslySetInnerHTML:{__html:e==null?void 0:e.content}}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("div",{className:"mt-32",children:s.jsx("hr",{})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative flex",onClick:()=>{k(l,i==null?void 0:i._id).then(()=>{_(`api/viewing-one-article/${l}`)})},children:[s.jsx(m,{className:"cursor-pointer absolute "}),s.jsx(m,{className:"text-red-500 cursor-pointer animate-ping opacity-40 absolute"}),s.jsxs("span",{className:"text-[12px] font-semibold ml-5",children:[" ",d&&"You"," ",n>=1?`${d?"and":""} ${n} person${n>1?"s":""} have loved this write up`:"have love this write up"]})]})}),s.jsx("div",{className:"mt-g32",children:s.jsx("hr",{})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[12px] font-semibold mb-5 underline",children:"More from Khushi_developer"}),s.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5  gap-4",children:t==null?void 0:t.map(a=>{var j,o;return s.jsxs(h,{to:`/articles/${a==null?void 0:a._id}`,className:"m-2 sm:w-[300px]",children:[s.jsx("img",{alt:"image",src:a==null?void 0:a.coverImage,className:"w-full  rounded-t-md sm:w-[300px] sm:h-[200px] object-cover border"}),s.jsxs("div",{className:"p-2 border-r border-l border-b",children:[s.jsxs("div",{className:"flex mt-2 gap-2 mb-3",children:[s.jsx("img",{alt:"image",src:a==null?void 0:a.avatar,className:"w-[40px] h-[40px] rounded-[50%] object-cover border"}),s.jsxs("div",{children:[s.jsx("p",{className:"capitalize text-[12px] font-semibold",children:a==null?void 0:a.student}),s.jsx("p",{className:"text-[12px]",children:r(a==null?void 0:a.createdAt).fromNow()})]})]})," ",s.jsx("p",{className:"font-semibold leading-tight mb-4",children:a==null?void 0:a.desc}),s.jsx("p",{className:"text-[14px] mb-5",children:a==null?void 0:a.title}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(m,{}),s.jsx("span",{className:"font-semibold text-[12px]",children:(j=a==null?void 0:a.like)==null?void 0:j.length})]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(N,{}),s.jsx("span",{className:"font-semibold text-[12px]",children:(o=a==null?void 0:a.view)==null?void 0:o.length})]})]})]})]},a._id)})})]})]})})]})};document.title="School's Article Page";const U=()=>{const{view:l}=u(),{data:i}=f(),{allArticle:e}=v(i==null?void 0:i._id),x=()=>Math.floor(Math.random()*4+2);return s.jsx("div",{children:l?s.jsx(M,{}):s.jsxs(s.Fragment,{children:[s.jsx(g,{name:document.title}),s.jsx("div",{className:"w-full flex justify-end",children:s.jsx(h,{to:"/create-article",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(z,{size:25}),s.jsx("p",{className:"text-[12px] font-bold text-blue-950",children:"Create New Thought"})]})})}),s.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-10 gap-4",children:e&&(e==null?void 0:e.map(t=>{var c,d;return s.jsx(h,{to:`${t==null?void 0:t._id}`,children:s.jsxs("div",{className:"card rounded-md bg-white border text-zinc-600 cursor-pointer hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mt-[-10px] text-[15px] font-medium flex gap-3 ",children:[s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(N,{}),s.jsx("p",{className:"text-[12px]",children:(c=t==null?void 0:t.view)==null?void 0:c.length})]}),s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(m,{}),s.jsx("p",{className:"text-[12px]",children:(d=t==null?void 0:t.like)==null?void 0:d.length})]})]}),s.jsx("h2",{className:"card-title flex justify-between mt-[5px]",children:s.jsx("div",{className:"text-nowrap overflow-ellipsis overflow-hidden whitespace-nowrap ",children:t==null?void 0:t.desc})}),s.jsxs("p",{className:"mt-[-10px] text-[10px] font-medium",children:["Writen by ",t==null?void 0:t.student]}),s.jsx("p",{className:"text-[13px] leading-tight",children:t==null?void 0:t.title}),s.jsxs("div",{className:"flex justify-between gap-4 items-center h-4",children:[s.jsx("div",{className:"text-[11px] font-medium capitalize ",children:r(t==null?void 0:t.createdAt).fromNow()}),s.jsxs("p",{className:"text-[10px] font-bold text-gray-400",children:[x(),"Mins Read"]})]})]}),s.jsx("figure",{children:s.jsx($,{alt:"cover image",thumbhash:"1QcSHQRnh493V4dIh4eXh1h4kJUI",src:t==null?void 0:t.coverImage,autoSizes:!0,className:"w-full h-[200px] object-cover"})})]})})}))})]})})};export{U as default};
