import{u as C,y as F,ae as ne,r as p,j as e,af as y,B as S,ag as oe,ah as re,ai as ce,aj as V,ak as _,al as I,am as de,m as g,Z as v,an as R,ao as $,ap as T,aq as O,ar as k,as as J,h as D,_ as P,at as me,au as ue,av as xe,C as q,aw as he,ax as fe,ay as K,az as Q,aA as Z,aB as W,aC as X,aD as ee,aE as L,aF as pe,aG as je,aH as z,aI as be,aJ as ge,O as we,aK as U,aL as ve}from"./index-Dr9ZTIop.js";import{b as Ne,d as ye,e as B,f as Y,g as se,h as te,i as le,j as ie}from"./index-BIHAHyvx.js";import{I as Se}from"./index-GGel301t.js";import{_ as N,I as E}from"./index-CPykWLTA.js";import{I as A}from"./Input-CHfh9ry9.js";import{A as Te,a as ke}from"./AddNewStudent-DBFQn_YX.js";import{A as Ce}from"./AddAnyItems-a-uCWnmx.js";import"./LittleHeader-XNWv_M-9.js";import"./index-C2a7vhFd.js";import"./react-datepicker-Bv15p8ZS.js";const H=({log:i,name:r,but:c})=>{const{data:o}=C(),a=F(),t=ne(),l=()=>{document.startViewTransition?document.startViewTransition(()=>{a(V(!1))}):a(V(!1))},j=()=>{document.startViewTransition?document.startViewTransition(()=>{a(V(!1)),a(_(!1))}):(a(V(!1)),a(_(!1)))},[u,x]=p.useState(""),n=h=>{console.log("updated...");const d=h.target.files[0],b=new FormData;if(b.append("avatar",d),x(d),u){a(I(!0));const s=setTimeout(()=>{de(o==null?void 0:o._id,b).then(m=>{var w,f;g(`api/view-school/${o==null?void 0:o._id}`),m.status===201?(N.success("Image has been updated"),a(I(!1))):(N.error(`${(f=(w=m==null?void 0:m.response)==null?void 0:w.data)==null?void 0:f.message}`),a(I(!1)))}),clearTimeout(s)},50)}};return e.jsxs("div",{className:"border w-[250px] bg-blue-50 shadow-sm min-h-48 rounded-md p-1 ",children:[e.jsx("div",{className:"flex flex-col items-between  w-full",children:r==null?void 0:r.map(({title:h,icon:d,to:b},s)=>e.jsx(y,{to:`${b}`,className:`w-full\r
          `,onClick:j,children:e.jsxs("div",{className:"text-[12px] w-full py-3 font-medium  duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between",children:[e.jsx("div",{children:h}),e.jsx("div",{className:"text-[17px]",children:d})]})},s))}),c&&e.jsx("div",{className:"w-full flex justify-center mt-3",children:e.jsx(y,{to:"/upgrade",onClick:l,children:e.jsx(S,{name:"Add to Store",className:" text-[12px] uppercase font-bold bg-blue-950 text-white rounded-[5px] py-3"})})}),i&&e.jsxs("label",{htmlFor:"id",className:"text-[12px] font-medium py-3 duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between",onClick:()=>{j()},children:[e.jsx("label",{htmlFor:"id",children:"Upload Avatar"}),e.jsx("input",{id:"id",className:"hidden",onChange:n,type:"file"}),e.jsx("div",{children:e.jsx(Se,{size:17})})]}),i&&e.jsxs("div",{className:"text-[12px] font-medium py-3 duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between",onClick:()=>{a(oe()),a(re(null)),j();const h=setTimeout(()=>{window.location.reload(),t("/"),clearTimeout(h)},200)},children:[e.jsx("div",{children:"Log-out"}),e.jsx("div",{children:e.jsx(ce,{size:17})})]}),e.jsx("div",{className:"mt-4"}),e.jsx("hr",{}),e.jsx("p",{className:"p-2 text-center break-words text-[12px] font-bold uppercase ",children:o==null?void 0:o.schoolName})]})},ae=({children:i,tip:r,side:c})=>e.jsx("div",{className:"w-full ",children:e.jsx("div",{className:`tooltip ${c&&"tooltip-bottom "} -mt-5 w-full `,"data-tip":r,children:i})}),Ve=()=>{const i=F();v(a=>a.sessionToggle);const r=()=>{document.startViewTransition?document.startViewTransition(()=>{i(k(!0)),i($(!1))}):(i(k(!0)),i($(!1)))},{data:c}=C(),{schoolInfo:o}=R(c==null?void 0:c._id);return e.jsxs("div",{className:"border w-[250px] bg-blue-50 shadow-sm min-h-42 rounded-md p-1 ",children:[e.jsx("p",{className:"text-[14px] mt-2 font-bold ml-2",children:"Academic Session created"}),e.jsx("div",{className:"flex flex-col items-between  w-full",children:(o==null?void 0:o.length)>0?e.jsx("div",{children:o==null?void 0:o.map((a,t)=>e.jsx("div",{children:t<3&&e.jsx("div",{className:"w-full",onClick:()=>{document.startViewTransition?document.startViewTransition(()=>{i($(!1)),i(T(!0)),i(O(a==null?void 0:a._id))}):(i($(!1)),i(T(!0)),i(O(a==null?void 0:a._id)))},children:e.jsx("div",{className:"text-[12px] w-full py- font-medium  duration-300 transition-all hover:bg-blue-950 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between border",children:e.jsxs(ae,{tip:"Add New Term",children:[" ",e.jsxs("div",{className:"w-full flex pl-2 mt-7 mb-2",onClick:()=>{console.log("Let's do this: ",a._id)},children:["Session: ",a==null?void 0:a.year]})]})})},`${t+a}`)},a._id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-1 mt-3",children:[e.jsx(Ne,{size:13}),e.jsx("p",{className:"mt-3 text-[12px] font-medium",children:"Session hasn't been declared"})]})}),e.jsx("div",{className:"mt-4"}),e.jsx("hr",{}),e.jsxs("div",{className:"flex w-full justify-center items-center cursor-pointer hover:text-blue-900 transition-all duraion-300 mt-2",onClick:r,children:[e.jsx("p",{className:"font-bold",children:"+"}),e.jsx("p",{className:"p-2 text-center break-words text-[12px] font-bold uppercase ",children:"Add New Session"})]})]})},G=()=>{const i=F(),[r,c]=p.useState(""),[o,a]=p.useState(!1),{dataID:t}=J(),{data:l}=C(),j=()=>{document.startViewTransition?document.startViewTransition(()=>{i(k(!1))}):i(k(!1))},u=()=>{a(!0),me(t,{year:r}).then(x=>{x.status===201?(g(`api/view-school-session/${l==null?void 0:l._id}`),g(`api/view-school/${l==null?void 0:l._id}`),document.startViewTransition?document.startViewTransition(()=>{N.error("Something went wrong"),i(k(!1))}):(i(k(!1)),N.success("Session created"))):document.startViewTransition?document.startViewTransition(()=>{g(`api/view-school-session/${l==null?void 0:l._id}`),g(`api/view-school/${l==null?void 0:l._id}`),N.success("Session created"),i(k(!1))}):(i(k(!1)),g(`api/view-school-session/${l==null?void 0:l._id}`),g(`api/view-school/${l==null?void 0:l._id}`),N.success("Session created"))}).then(()=>{c(""),a(!1)})};return e.jsxs("div",{className:"flex justify-center bg-blue-50   ",children:[e.jsx(E,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"w-[300px] sm:w[400px] md:w-[500px] min-h-[300px] border rounded-md bg-white shadow-lg p-4",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Session"}),e.jsx("p",{className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",onClick:j,children:e.jsx(D,{})})]}),e.jsx("hr",{}),e.jsx("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:"Please note that each session you create, holds records of that particular session."}),e.jsx("div",{className:"mt-10 w-full gap-2 flex items-center",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Session Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{placeholder:"Session Year: 2023/2024",className:"mx-0 h-10 w-full",value:r,onChange:x=>{c(x.target.value)}})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:r!==""?e.jsx("div",{children:o?e.jsx("div",{children:e.jsx(S,{icon:e.jsx(P,{size:20,color:"white",className:"mb-0"}),name:"creating Session",className:"bg-blue-950 py-0 mx-0"})}):e.jsx(S,{name:"Proceed",className:"bg-blue-950  mx-0",onClick:()=>{u()}})}):e.jsx(S,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]})]})},_e=()=>{const i=v(n=>n.termID),r=F(),[c,o]=p.useState(!1),[a,t]=p.useState("");J();const{data:l}=C(),j=()=>{document.startViewTransition?document.startViewTransition(()=>{r(T(!1))}):r(T(!1))},{sessionData:u}=ue(i),x=()=>{o(!0),xe(i,{term:a}).then(n=>{var h,d;console.log(n),n.status===201?(g(`api/view-school-term-detail/${i}`),document.startViewTransition?document.startViewTransition(()=>{g(`api/view-school-session/${l==null?void 0:l._id}`),g(`api/view-school/${l==null?void 0:l._id}`),N.success("Term Session created"),r(T(!1))}):(r(T(!1)),g(`api/view-school-session/${l==null?void 0:l._id}`),g(`api/view-school/${l==null?void 0:l._id}`),N.success("Term Session created"))):(t(""),o(!1),document.startViewTransition?document.startViewTransition(()=>{var b,s;g(`api/view-school-session/${l==null?void 0:l._id}`),g(`api/view-school/${l==null?void 0:l._id}`),N.error(`${(s=(b=n==null?void 0:n.response)==null?void 0:b.data)==null?void 0:s.message}`),r(T(!1))}):(r(T(!1)),g(`api/view-school-term-detail/${i}`),N.error(`${(d=(h=n==null?void 0:n.response)==null?void 0:h.data)==null?void 0:d.message}`)))}).then(()=>{t(""),o(!1)})};return e.jsxs("div",{className:"flex justify-center bg-blue-50   ",children:[e.jsx(E,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"w-[500px] min-h-[300px] border rounded-md bg-white shadow-lg p-4",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Session"}),e.jsx("p",{className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",onClick:j,children:e.jsx(D,{})})]}),e.jsx("hr",{}),e.jsx("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:"Please note that each Term you create, holds records of that particular Term."}),e.jsxs("div",{className:"mt-10 w-full gap-2 flex items-center",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Session Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{placeholder:"Session Year: 2023/2024",className:"mx-0 h-10 w-full",defaultValue:u==null?void 0:u.year,value:u==null?void 0:u.year})]}),e.jsxs("div",{className:"w-full -mt-5",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Session Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-info bg-white border-[#3B82F6] select-bordered w-full mt-2",value:a,onChange:n=>{t(n.target.value)},children:[e.jsx("option",{selected:!0,children:"Choose Term"}),e.jsx("option",{value:"1st Term",children:"1st Term"}),e.jsx("option",{value:"2nd Term",children:"2nd Term"}),e.jsx("option",{value:"3rd Term",children:"3rd Term"})]})]})]}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:a!==""?e.jsx("div",{children:c?e.jsx("div",{children:e.jsx(S,{icon:e.jsx(P,{size:20,color:"white",className:"mb-0"}),name:"creating Term",className:"bg-blue-950 py-0 mx-0"})}):e.jsx(S,{name:"Proceed",className:"bg-blue-950  mx-0",onClick:()=>{x()}})}):e.jsx(S,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]})]})},Fe=()=>{var d,b;const i=F(),r=v(s=>s.toggle),c=v(s=>s.toggleMenu),o=v(s=>s.imageToggle),a=v(s=>s.sessionToggled),t=v(s=>s==null?void 0:s.sessionToggle),l=v(s=>s==null?void 0:s.sessionTermToggle),[j,u]=p.useState(!1),x=()=>{document.startViewTransition?document.startViewTransition(()=>{i(V(!c)),i(_(!1))}):(i(V(!c)),i(_(!1)))},{data:n}=C(),{schoolInfo:h}=R(n==null?void 0:n._id);return e.jsxs("div",{className:"h-[50px] bg-blue-50 border-b w-full flex justify-center items-center  z-10 fixed top-0 left-0 text-blue-950",onClick:()=>{},children:[e.jsxs("div",{className:"flex items-center  justify-end w-[90%]",children:[e.jsxs("div",{className:"mr-5 font-medium cursor-pointer flex items-center bg-slate-200 px-4 py-2 rounded-sm z-30",onClick:()=>{u(!j),i($(!a))},children:[" ",e.jsx(ye,{}),e.jsxs("span",{className:"text-[12px] mx-1",children:["Session: ",e.jsxs("span",{children:[h&&((d=h[0])==null?void 0:d.year)," "]})]}),e.jsx("div",{className:"transition-all duration-300 ",children:a?e.jsx(B,{className:"-rotate-180 duration-300 transition-all"}):e.jsx(B,{className:"-rotate-0 duration-300 transition-all"})})]}),e.jsxs("div",{className:"flex items-center px-2 py-1 border rounded-full gap-3 duration-300 transition-all cursor-pointer z-10 bg-white shadow-sm",onClick:()=>{u(!1),i(_(!r)),i(V(!1))},children:[e.jsx("div",{className:"w-8 h-8 rounded-full border flex justify-center items-center",children:o?e.jsx(P,{color:"#172554",size:13}):e.jsx("img",{className:"w-full h-full rounded-full border object-cover",src:n!=null&&n.avatar?n==null?void 0:n.avatar:q})}),r?e.jsx(Y,{className:"rotate-180 duration-300 transition-all"}):e.jsx(Y,{className:"rotate-0 duration-300 transition-all"})]}),e.jsx("div",{className:" md:hidden text-[30px] cursor-pointer ml-3  duration-300 transition-all",children:c?e.jsx(D,{className:"duration-500 transition-all",onClick:x}):e.jsx(he,{className:"duration-500 transition-all",onClick:x})})]}),e.jsx("div",{className:`absolute duration-300 transition-all ${r?"right-6 top-14  ":"right-6 -top-56  "}`,children:e.jsx(H,{name:[{title:"Account",icon:e.jsx(fe,{}),to:"settings"}],log:!0})}),e.jsx("div",{className:`absolute duration-300 transition-all ${a?"right-24 top-14  ":"right-24 -top-56  "}`,children:e.jsx(Ve,{})}),t&&e.jsx("div",{className:" absolute top-0 right-0 w-full md:w-[calc(100%-250px)] backdrop-blur-md  flex items-center justify-center h-screen",children:e.jsx(G,{})}),((b=n==null?void 0:n.session)==null?void 0:b.length)===0&&e.jsx("div",{className:" absolute top-0 right-0 w-full md:w-[calc(100%-250px)] backdrop-blur-md  flex items-center justify-center h-screen",children:e.jsx(G,{})}),l&&e.jsx("div",{className:" absolute top-0 right-0 w-full md:w-[calc(100%-250px)] backdrop-blur-md  flex items-center justify-center h-screen",children:e.jsx(_e,{})}),c&&e.jsx("div",{className:`absolute md:hidden duration-300 transition-all ${c?"right-6 top-14  ":"right-6 -top-24  "}`,children:e.jsx(H,{name:[{title:"Dashboard",icon:e.jsx(K,{}),to:"/"},{title:"View Staffs",icon:e.jsx(Q,{}),to:"view-staff"},{title:"View Students",icon:e.jsx(se,{}),to:"view-students"},{title:"View Classrooms",icon:e.jsx(te,{}),to:"class-room"},{title:"View Subjects",icon:e.jsx(Z,{}),to:"subjects"},{title:"Complains",icon:e.jsx(W,{}),to:"report"},{title:"Lesson Notes",icon:e.jsx(le,{}),to:"lesson-note"},{title:"Gallaries",icon:e.jsx(X,{}),to:"view-gallery"},{title:"Store",icon:e.jsx(ie,{}),to:"store"},{title:"Settings",icon:e.jsx(ee,{}),to:"settings"}],but:!0})})]})},Pe=()=>{const{data:i}=C(),[r,c]=p.useState(""),[o,a]=p.useState(""),[t,l]=p.useState(0),[j,u]=p.useState(""),[x,n]=p.useState(""),[h,d]=p.useState(!1),b=m=>{const w=m.target.files[0],f=URL.createObjectURL(w);n(f),u(w)},s=()=>{d(!0);const m=new FormData;m.append("title",r),m.append("cost",`${t}`),m.append("description",`${o}`),m.append("avatar",j),j!==""?pe(i==null?void 0:i._id,m).then(w=>{var f,M;w.status===201?(g(`api/view-store/${i==null?void 0:i._id}`),d(!1),N.success("Product Uploaded"),l(0),n(""),a(""),c(""),u("")):(d(!1),N.error(`${(M=(f=w==null?void 0:w.response)==null?void 0:f.data)==null?void 0:M.message}`),l(0),n(""),a(""),c(""),u("")),a(""),c(""),u("")}).then(()=>{l(0),n(""),a(""),c("")}):(d(!1),N.error("Image is not included"))};return e.jsxs("div",{children:[e.jsx(E,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"mt-5 text-[13px] font-medium text-blue-950 flex justify-start w-full bg-blue-400",children:[e.jsx("label",{htmlFor:"assign_subject_timetable",className:"bg-black text-white border-none font-medium py-4 px-9 leading-tight rounded-md cursor-pointer",children:"Add item to Store"}),e.jsx("div",{className:"mt-5"}),e.jsx("input",{type:"checkbox",id:"assign_subject_timetable",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md",role:"dialog",children:[e.jsxs("div",{className:"modal-box  rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Items to Store"}),e.jsx("label",{htmlFor:"assign_subject_timetable",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(D,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 leading-tight text-[13px] font-medium text-left",children:["Please note that by assigning this subject to this class, it automtically becomes one of the class must take suject.",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Product Title: ",r]}),r&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(L,{className:"text-green-500 text-[25px] mb-1 "})]})]}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Product Cost: ",t>0&&t]}),t&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(L,{className:"text-green-500 text-[25px] mb-1 "})]})]}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Product Description: ",o.slice(0,30),"..."]}),o&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(L,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"mt-10 flex gap-4 w-full justify-start",children:[e.jsx("label",{className:" text-white bg-blue-950 border px-6 py-3 cursor-pointer rounded-md  mt-4 ",htmlFor:"pix",children:"Upload Image"}),x&&e.jsx("img",{className:"w-16 h-10 border rounded-md mt-4 object-cover",src:x}),e.jsx("input",{id:"pix",className:"hidden",type:"file",onChange:b})]})}),e.jsx("div",{className:"mt-4 w-full gap-2 flex flex-col items-center text-left",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px] mt-4",children:["Product Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{className:" w-full mt-2 mb-8 ml-0",placeholder:"ProductTitle",value:r,defaultValue:r,onChange:m=>{c(m.target.value)}}),e.jsxs("div",{className:"flex w-full gap-2 mb-10",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Product Cost ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{value:t,type:"number",defaultValue:t,placeholder:"Product Cost",className:"w-full mt-2 ml-0",onChange:m=>{l(m.target.value)}})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Product Description"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{value:o,placeholder:"Product Description",className:"ml-0 w-full mt-2",defaultValue:o,onChange:m=>{a(m.target.value)}})]})]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:r!==""&&t!==0&&o!==""?e.jsx("label",{htmlFor:"assign_subject_timetable",className:"bg-blue-950 text-white py-4 px-8 rounded-md cursor-pointer transition-all duration-300 ",onClick:()=>{s()},children:h?e.jsxs("div",{children:[e.jsx(P,{size:10,color:"white"}),e.jsx("span",{className:"ml-2",children:"Loading...."})]}):"Proceed"}):e.jsx(S,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"assign_subject_timetable",children:"Close"})]})]})]})},Me=()=>{var b;const i=F(),r=v(s=>s.imageToggle);v(s=>s.starting);const c=v(s=>s.user);p.useState("");const[o,a]=p.useState(!1),{data:t}=C(),{schoolInfo:l,loading:j}=R(c.id);let u=l,x={};if((u==null?void 0:u.length)>0)for(let s=0;s<u.length;s++)x=u[0];let n="";if(x!==null)for(let s=0;s<((b=x==null?void 0:x.term)==null?void 0:b.reverse().length);s++)n=x==null?void 0:x.term[0];const{termData:h}=je(n),d=()=>{document.startViewTransition?document.startViewTransition(()=>{i(_(!1))}):i(_(!1))};return p.useEffect(()=>{if((l==null?void 0:l.length)===1||(l==null?void 0:l.length)===0){let s=[];for(let m=0;m<(l==null?void 0:l.length);m++)s=l[m].term;(s==null?void 0:s.length)===1?i(z(!0)):i(z(!1))}else i(z(!1))},[]),e.jsxs("div",{className:"overflow-y-auto min-h-[100vh] w-full border-r bg-white text-blue-900 flex flex-col ",children:[e.jsxs("div",{className:"w-full flex px-2 mt-6 ",children:[e.jsx("div",{className:" w-16 h-16 object-cover flex border rounded-full items-center justify-center ",children:r?e.jsx("div",{className:"flex justify-center items-center w-full h-full object-cover rounded-full border",children:e.jsx(P,{size:20,color:"#172554"})}):e.jsx("img",{className:"w-full h-full object-cover rounded-full border",src:t!=null&&t.avatar?t==null?void 0:t.avatar:q})}),e.jsxs("div",{className:"ml-2",children:[e.jsx("div",{className:"break-words font-bold text-[16px]",children:(t==null?void 0:t.schoolName.length)>15?e.jsx(ae,{side:!0,tip:t==null?void 0:t.schoolName,children:e.jsxs("p",{children:[t==null?void 0:t.schoolName.substring(0,15),"..."]})}):t==null?void 0:t.schoolName}),e.jsxs("p",{className:"break-words font-medium text-slate-400 text-[14px] mt-2",children:["ID: ",t==null?void 0:t.enrollmentID]}),e.jsxs("p",{className:"break-words font-medium text-slate-400  text-[14px] -mt-1",children:["Session: ",j?"":t==null?void 0:t.presentSession]}),e.jsxs("p",{className:"text-[12px] font-bold",children:["Term: ",j?"":t!=null&&t.presentTerm?t==null?void 0:t.presentTerm:e.jsx("span",{className:"text-red-400 ml-1",children:"Please create TERM"})]}),t!=null&&t.freeMode?e.jsx("div",{className:"mt-3 px-1 text-center flex flex-col border mx-0 rounded-md py-1 bg-blue-50",children:e.jsxs("div",{className:"mb-2 text-[12px] text-left font-medium w-[125px]",children:["You are seeing this, because you are on your First Free Term Mode.",e.jsx("br",{}),e.jsx("p",{className:"mt-1 font-bold",children:"Thank you for coming on board!"})]})}):e.jsx("div",{children:!(h!=null&&h.plan)&&(h==null?void 0:h.payRef)===""&&e.jsx(S,{name:o?e.jsx("span",{className:"ml-3",children:"Processing..."}):"Renew Plan",icon:o&&e.jsx(P,{size:10,color:"white",className:"absolute -mt-1 ml-1"}),className:"text-[14px] w-full uppercase px-0 pr-2 font-bold bg-red-500 ml-0",onClick:()=>{a(!0),be(c==null?void 0:c.id,t==null?void 0:t.email).then(s=>{var m,w,f,M;((m=s==null?void 0:s.data)==null?void 0:m.status)===201&&location.replace((M=(f=(w=s==null?void 0:s.data)==null?void 0:w.data)==null?void 0:f.data)==null?void 0:M.authorization_url)}).then(()=>{a(!1)})}})})]})]}),e.jsxs("div",{className:"mt-20 px-2 text-center flex flex-col border mx-2 rounded-md py-4",children:[e.jsxs("div",{className:"mb-4 text-[13px] font-medium ",children:["Encourage Parents to Purchase Learning Materials for thier child by having more items in your Library Store"," "]}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(Pe,{})})]}),e.jsxs("div",{className:"mt-10 px-2 flex flex-col h-[90%]",children:[e.jsxs(y,{to:"/dashboard",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["Dashboard",e.jsx(K,{})]}),e.jsxs(y,{to:"/view-staff",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["View Staffs",e.jsx(Q,{})]}),e.jsxs(y,{to:"/view-students",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["View Students",e.jsx(se,{})]}),e.jsxs(y,{to:"/class-room",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["View Classrooms",e.jsx(te,{})]}),e.jsxs(y,{to:"/subjects",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["View Subjects",e.jsx(Z,{})]}),e.jsxs(y,{to:"/report",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["Complains",e.jsx(W,{})]}),e.jsxs(y,{to:"/lesson-note",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["Lesson Note",e.jsx(le,{})]}),e.jsxs(y,{to:"/view-gallery",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["Galleries",e.jsx(X,{})]}),e.jsxs(y,{to:"/store",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["Store",e.jsx(ie,{})]}),e.jsxs(y,{to:"/result-history/",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:d,children:["Operation History",e.jsx(ge,{})]}),e.jsx("div",{className:"flex-1"}),e.jsxs(y,{to:"/settings",className:({isActive:s})=>s?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[4px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm  flex items-center justify-between hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[4px]",onClick:d,children:["Settings",e.jsx(ee,{})]})]})]})},Be=()=>{const{data:i}=C(),r=v(f=>f.showStaffComp),c=v(f=>f.showStudent),o=v(f=>f.classroomToggled),a=F(),[t,l]=p.useState(""),[j,u]=p.useState(0),[x,n]=p.useState(0),[h,d]=p.useState(0),[b,s]=p.useState(!1),m=()=>{document.startViewTransition?document.startViewTransition(()=>{a(U(!1))}):a(U(!1))},w=()=>{try{s(!0),ve(i==null?void 0:i._id,{className:t.toLocaleUpperCase(),class1stFee:j,class2ndFee:x,class3rdFee:h}).then(f=>{f.status===201?(g("api/view-classrooms/"),s(!1),m()):(s(!1),N.error(`${f.response.data.message}`))})}catch(f){return f}};return e.jsxs("div",{className:"flex w-[100%] ",children:[e.jsx("div",{className:"md:flex w-[250px] h-[100vh] fixed hidden  transition-all duration-300 z-50",children:e.jsx(Me,{})}),e.jsx("div",{className:"flex w-[calc(100%)] justify-end",children:e.jsxs("div",{className:"flex flex-col w-[100%] transition-all duration-300 md:w-[calc(100%-250px)] justify-end",children:[e.jsx(Fe,{}),e.jsxs("div",{className:"min-h-[calc(100vh-72px)] p-4 m-2 border rounded-md mt-16 relative ",onClick:()=>{},children:[e.jsx(we,{}),r&&e.jsx("div",{className:"top-0 w-full h-full left-0 absolute overflow-hidden rounded-md ",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(Te,{})}),c&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(ke,{})}),o&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(Ce,{upper:!0,fee:!0,titleCall:"Creating new classroom",offFn:m,text:"Place the name this would be generally called across the life-span of the school's existance!",placeStart:"JSS 1A",placeEnd:"JSS 1A",startTitle:"Enter Class Name",endTitle:"Class Assigned",setStart:l,start:t,handleFn:w,loading:b,num1:j,num2:x,num3:h,setNumb1:u,setNumb2:n,setNumb3:d})})]})]})})]})};export{Be as default};
