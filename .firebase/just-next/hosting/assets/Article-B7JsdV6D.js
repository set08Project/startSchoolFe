import{i as o,H as N,aZ as w,U as y,a1 as f,r as k,a_ as $,j as s,f as b,A as h,a$ as z,m as _,a as j,b0 as I,a2 as S}from"./index-Dr9ZTIop.js";import{d as M}from"./dummy-BcUwpZQ2.js";import{P as r}from"./index-Dv11XXwU.js";import{U as H}from"./index-CI8joyPh.js";document.title="Viewing Article";const P=()=>{var m;const{view:l}=o(),{studentInfo:i}=N(),{oneArticle:e}=w(l);y(e==null?void 0:e.studentID);const{allArticle:n}=f(e==null?void 0:e.schoolID),t=n==null?void 0:n.filter(a=>a.studentID===(e==null?void 0:e.studentID));let d=e==null?void 0:e.like,x=d==null?void 0:d.some(a=>a===(i==null?void 0:i._id)),c=0;return x?c=(d==null?void 0:d.length)-1:c=d==null?void 0:d.length,k.useEffect(()=>{$(l,i==null?void 0:i._id)},[]),s.jsxs("div",{children:[s.jsx(b,{name:`viewing ${(m=e==null?void 0:e.student)==null?void 0:m.split(" ")[0]} Article`}),s.jsx("div",{className:"w-full flex justify-center",children:s.jsxs("div",{className:"space-y-4 md:w-[95%]",children:[s.jsx("div",{className:"text-[28px] text-black font-bold capitalize leading-tight",children:s.jsx("strong",{children:e==null?void 0:e.desc})}),s.jsxs("div",{className:"flex items-center gap-4 text-black font-semibold",children:[s.jsx("div",{className:"",children:s.jsx("img",{src:e!=null&&e.avatar?e==null?void 0:e.avatar:M,alt:"",className:"avatar rounded-full h-[50px] w-[50px] object-cover"})}),s.jsxs("div",{children:[s.jsx("div",{children:e!=null&&e.student?e==null?void 0:e.student:"s"}),s.jsxs("div",{className:"",children:[s.jsx("span",{className:"text-zinc-500 text-[12px]",children:"Published:"})," ",s.jsx("span",{className:"capitalize  text-[12px]",children:h(e==null?void 0:e.createdAt).fromNow()})]})]})]}),s.jsx("div",{className:"w-full text-black  mt-20",dangerouslySetInnerHTML:{__html:e==null?void 0:e.content}}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("div",{className:"mt-32",children:s.jsx("hr",{})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative flex",onClick:()=>{z(l,i==null?void 0:i._id).then(()=>{_(`api/viewing-one-article/${l}`)})},children:[s.jsx(r,{className:"cursor-pointer absolute "}),s.jsx(r,{className:"text-red-500 cursor-pointer animate-ping opacity-40 absolute"}),s.jsxs("span",{className:"text-[12px] font-semibold ml-5",children:[" ",x&&"You"," ",c>=1?`${x?"and":""} ${c} person${c>1?"s":""} have loved this write up`:"have love this write up"]})]})}),s.jsx("div",{className:"mt-g32",children:s.jsx("hr",{})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[12px] font-semibold mb-5 underline",children:["More from ",e==null?void 0:e.student]}),s.jsx("div",{className:"w-full grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-3 gap-4 ",children:t==null?void 0:t.map(a=>{var u,g,v;return s.jsxs(j,{to:`/articles/${a==null?void 0:a._id}`,className:"m-2 w-full lg:w-[300px]",children:[s.jsx("img",{alt:"image",src:a==null?void 0:a.coverImage,className:"w-full  rounded-t-md lg:w-[300px] lg:h-[200px] object-cover border"}),s.jsxs("div",{className:"p-2 border-r border-l border-b",children:[s.jsxs("div",{className:"flex mt-2 gap-2 mb-3",children:[s.jsx("img",{alt:"image",src:a==null?void 0:a.avatar,className:"w-[40px] h-[40px] rounded-[50%] object-cover border"}),s.jsxs("div",{children:[s.jsx("p",{className:"capitalize text-[12px] font-semibold",children:a==null?void 0:a.student}),s.jsx("p",{className:"text-[12px]",children:h(a==null?void 0:a.createdAt).fromNow()})]})]})," ",s.jsx("p",{className:"font-semibold leading-tight mb-4",children:a==null?void 0:a.desc}),s.jsxs("p",{className:"text-[14px] mb-5",children:[" ",((u=a==null?void 0:a.title)==null?void 0:u.length)>60?`${(g=a==null?void 0:a.title)==null?void 0:g.slice(0,60)}...`:a==null?void 0:a.title]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(r,{}),s.jsx("span",{className:"font-semibold text-[12px]",children:(v=a==null?void 0:a.like)==null?void 0:v.length})]})]})]},a._id)})})]})]})})]})};document.title="School's Article Page";const E=()=>{const{view:l}=o(),{studentInfo:i}=N(),{allArticle:e}=f(i==null?void 0:i.schoolIDs),n=()=>Math.floor(Math.random()*4+2);return s.jsx("div",{children:l?s.jsx(P,{}):s.jsxs(s.Fragment,{children:[s.jsx(b,{name:document.title}),s.jsx("div",{className:"w-full flex justify-end",children:s.jsx(j,{to:"/create-article",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(I,{size:25}),s.jsx("p",{className:"text-[12px] font-bold text-blue-950",children:"Create New Thought"})]})})}),s.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-10 gap-4",children:e&&(e==null?void 0:e.map(t=>{var d,x,c,m;return s.jsx(j,{to:`${t==null?void 0:t._id}`,children:s.jsxs("div",{className:"card rounded-md bg-white border text-zinc-600 cursor-pointer hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mt-[-10px] text-[15px] font-medium flex gap-3 ",children:[s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(S,{}),s.jsx("p",{className:"text-[12px]",children:(d=t==null?void 0:t.view)==null?void 0:d.length})]}),s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(r,{}),s.jsx("p",{className:"text-[12px]",children:(x=t==null?void 0:t.like)==null?void 0:x.length})]})]}),s.jsx("h2",{className:"card-title flex justify-between mt-[5px]",children:s.jsx("div",{className:"text-nowrap overflow-ellipsis overflow-hidden whitespace-nowrap ",children:t==null?void 0:t.desc})}),s.jsxs("p",{className:"mt-[-10px] text-[10px] font-medium",children:["Writen by ",t==null?void 0:t.student]}),s.jsx("p",{className:"text-[13px] leading-tight",children:((c=t==null?void 0:t.title)==null?void 0:c.length)>60?`${(m=t==null?void 0:t.title)==null?void 0:m.slice(0,60)}...`:t==null?void 0:t.title}),s.jsxs("div",{className:"flex justify-between gap-4 items-center h-4",children:[s.jsx("div",{className:"text-[11px] font-medium capitalize ",children:h(t==null?void 0:t.createdAt).fromNow()}),s.jsxs("p",{className:"text-[10px] font-bold text-gray-400",children:[n(),"Mins Read"]})]})]}),s.jsx("figure",{children:s.jsx(H,{alt:"cover image",thumbhash:"1QcSHQRnh493V4dIh4eXh1h4kJUI",src:t==null?void 0:t.coverImage,autoSizes:!0,className:"w-full h-[200px] object-cover"})})]})})}))})]})})};export{E as default};
