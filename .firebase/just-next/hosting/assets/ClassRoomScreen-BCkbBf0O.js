import{y as V,n as I,Z as L,j as l,f as $,B as H,X as k,a as B,s as P,C as A,b3 as M,aK as R}from"./index-Dr9ZTIop.js";import{c as _}from"./index-BIHAHyvx.js";document.title="View Students";const E=({props:d})=>{const{teacherDetail:a}=P(d);return l.jsxs("div",{className:"w-[220px] flex gap-2 border-r",children:[l.jsx("img",{className:"w-16 shadow-md h-14 rounded-2xl border object-cover",src:a!=null&&a.avatar?a==null?void 0:a.avatar:A}),l.jsxs("div",{children:[l.jsx("p",{className:"leading-tight",children:a==null?void 0:a.staffName}),l.jsx("div",{className:"mt-6"}),l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx(_,{className:"ml-1 mb-1"}),l.jsx("span",{children:a==null?void 0:a.staffRating})]})]})]})},K=({props:d})=>{var e;const{classStudents:a}=M(d),t=(e=a==null?void 0:a.students)==null?void 0:e.map(s=>(s==null?void 0:s.totalPerformance)===void 0?0:s==null?void 0:s.totalPerformance),n=(t==null?void 0:t.reduce((s,c)=>s+c,0))/(t==null?void 0:t.length);return l.jsxs("div",{className:"",children:[n||0,"%"]})},Z=()=>{const d=V(),{schoolClassroom:a}=I(),t=L(e=>e==null?void 0:e.classroomToggled),n=()=>{document.startViewTransition?document.startViewTransition(()=>{d(R(!t))}):d(R(!t))};return l.jsxs("div",{className:"",children:[l.jsx("div",{className:"mb-0"}),l.jsx($,{name:"View and Manage Class Rooms"}),l.jsx("div",{className:"mt-10"}),l.jsx("div",{className:"flex w-full justify-end",children:l.jsx(H,{name:"Add new ClassRoom",className:"uppercase text-[12px] font-medium bg-blue-950 py-4 px-8 hover:bg-blue-900 cursor-pointer transition-all duration-300 ",onClick:n})}),l.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[l.jsxs("div",{className:"text-[gray] w-[1480px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[l.jsx("div",{className:"w-[80px] border-r",children:"Class"}),l.jsx("div",{className:"w-[100px] border-r",children:"Number of Students"}),l.jsx("div",{className:"w-[100px] border-r",children:"Number of Subjects Offered"}),l.jsx("div",{className:"w-[270px] border-r",children:"Class School-Fee"}),l.jsx("div",{className:"w-[20px] border-r"}),l.jsx("div",{className:"w-[270px] border-r",children:"school fee paid Ratio"}),l.jsx("div",{className:"w-[220px] border-r",children:"class teacher Info"}),l.jsx("div",{className:"w-[150px] border-r",children:"Class Academic Performance"}),l.jsx("div",{className:"w-[180px] border-r",children:"View Detail"})]}),l.jsx("div",{className:" w-[1480px] overflow-hidden",children:k.sortBy(a==null?void 0:a.classRooms,"className").map((e,s)=>{var c,i,x,m,h,j,r,u,N,f,b,v,g,w,F,y,o,C,S,T;return l.jsx("div",{children:l.jsx("div",{children:l.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-16 px-4 my-2  overflow-hidden ${s%2===0?"bg-slate-50":"bg-white"}`,children:[l.jsx("div",{className:"w-[80px] border-r",children:e==null?void 0:e.className}),l.jsx("div",{className:"w-[100px] border-r",children:(c=e==null?void 0:e.students)==null?void 0:c.length}),l.jsx("div",{className:"w-[100px] border-r",children:(i=e==null?void 0:e.classSubjects)==null?void 0:i.length}),l.jsxs("div",{className:"w-[270px] border-r flex justify-between pr-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"1st Term"}),l.jsxs("p",{className:"mt-3 font-bold",children:["₦",parseInt(e==null?void 0:e.class1stFee).toLocaleString()]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"2nd Term"}),l.jsxs("p",{className:"mt-3 font-bold",children:["₦",parseInt(e==null?void 0:e.class2ndFee).toLocaleString()]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"3rd Term"}),l.jsxs("p",{className:"mt-3 font-bold",children:["₦",parseInt(e==null?void 0:e.class3rdFee).toLocaleString()]})]})]}),l.jsx("div",{className:"w-[20px] border-r",children:"-"}),l.jsxs("div",{className:"w-[270px] border-r flex justify-between pr-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"1st Term"}),l.jsxs("p",{className:`mt-3 font-bold *:
                         ${((x=e==null?void 0:e.schoolFeesHistory)==null?void 0:x.length)/((m=e==null?void 0:e.students)==null?void 0:m.length)*100>=70?"text-blue-950":"text-red-500"} 
                        `,children:[parseFloat((((h=e==null?void 0:e.schoolFeesHistory)==null?void 0:h.length)/((j=e==null?void 0:e.students)==null?void 0:j.length)*100).toFixed(2))?parseFloat((((r=e==null?void 0:e.schoolFeesHistory)==null?void 0:r.length)/((u=e==null?void 0:e.students)==null?void 0:u.length)*100).toFixed(2)):0,"%"]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"2nd Term"}),l.jsxs("p",{className:`mt-3 font-bold *:
                         ${((N=e==null?void 0:e.schoolFeesHistory)==null?void 0:N.length)/((f=e==null?void 0:e.students)==null?void 0:f.length)*100>=70?"text-blue-950":"text-red-500"} 
                        `,children:[parseFloat((((b=e==null?void 0:e.schoolFeesHistory2)==null?void 0:b.length)/((v=e==null?void 0:e.students)==null?void 0:v.length)*100).toFixed(2))?parseFloat((((g=e==null?void 0:e.schoolFeesHistory2)==null?void 0:g.length)/((w=e==null?void 0:e.students)==null?void 0:w.length)*100).toFixed(2)):0,"%"]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"3rd Term"}),l.jsxs("p",{className:`mt-3 font-bold *:
                         ${((F=e==null?void 0:e.schoolFeesHistory3)==null?void 0:F.length)/((y=e==null?void 0:e.students)==null?void 0:y.length)*100>=70?"text-blue-950":"text-red-500"} 
                        `,children:[parseFloat((((o=e==null?void 0:e.schoolFeesHistory3)==null?void 0:o.length)/((C=e==null?void 0:e.students)==null?void 0:C.length)*100).toFixed(2))?parseFloat((((S=e==null?void 0:e.schoolFeesHistory)==null?void 0:S.length)/((T=e==null?void 0:e.students)==null?void 0:T.length)*100).toFixed(2)):0,"%"]})]})]}),l.jsx("div",{className:"w-[220px]",children:e!=null&&e.classTeacherName?l.jsx(E,{props:e==null?void 0:e.teacherID}):l.jsx("div",{children:"no teacher assigned yet"})}),l.jsx("div",{className:"w-[150px] border-r  ",children:l.jsx(K,{props:e==null?void 0:e._id})}),l.jsx(B,{to:`class-details/${e==null?void 0:e._id}`,className:"w-[180px] border-r",children:l.jsx(H,{name:"View class",className:"py-3 w-[85%] bg-black text-white  hover:bg-neutral-800 transition-all duration-300",onClick:()=>{}})})]},e)})})})})]})]})};export{Z as default};
