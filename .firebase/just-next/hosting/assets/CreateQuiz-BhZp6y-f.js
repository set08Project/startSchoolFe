import{y,Z as k,r as o,j as e,cy as I,ae as z,i as T,cu as $,o as P,cz as A,m as O,cA as q,cB as S}from"./index-Dr9ZTIop.js";import{L as M}from"./LittleHeader-BOV1o-nT.js";import{B as u}from"./Button-DHzYgftV.js";import{I as b}from"./Input-BTpLumrn.js";const R=()=>{const p=y();k(t=>t.test),o.useState([]);const[i,c]=o.useState(""),[n,d]=o.useState(""),[a,r]=o.useState([{1:""}]),h=t=>{r([...a,{[parseInt(`${t+1}`)]:""}])},x=t=>{const s=[...a];s.splice(t,1),r(s)},j=(t,s)=>{const{value:v}=t.target,g=[...a];g[s]=v,r(g)},m=t=>{p(I(t))};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{children:e.jsx("textarea",{className:"border outline-none bg-gray-100  rounded-md w-full resize-none h-[200px] p-2 ",placeholder:"Enter Question",value:i,onChange:t=>{c(t.target.value)}})}),e.jsx("p",{className:"my-1 mx-0 text-[12px] font-medium ",children:e.jsx(b,{placeholder:"Enter the Answer",className:"px-2 mx-0 w-full",value:n,onChange:t=>{d(t.target.value)}})}),e.jsx("div",{children:a==null?void 0:a.map((t,s)=>e.jsxs("div",{className:"flex gap-2 items-center my-3",children:[e.jsx(b,{placeholder:"Enter Options",className:"m-0",value:t,name:t,onChange:v=>{j(v,s)}}),s<3&&e.jsx("div",{className:"text-white text-[12px] bg-green-500 h-12  rounded-md flex items-center px-4 leading-tight text-center min-w-14 justify-center font-bold cursor-pointer",onClick:()=>h(s),children:"Add More"}),e.jsx("div",{className:"text-white text-[12px] bg-red-500 h-12  rounded-md flex items-center px-4 leading-tight text-center min-w-14 justify-center font-bold cursor-pointer",onClick:()=>{x(s)},children:"Remove"})]},s))}),e.jsx("div",{className:"flex-1"}),i!==""?e.jsx(u,{name:"add to Preview",className:"text-white  bg-blue-950 uppercase text-[12px] px-8 py-4",onClick:()=>{m({question:i,answer:n,options:a}),c(""),d(""),r([{1:""}])}}):e.jsx(u,{name:"add items to Preview",className:"text-black border  bg-slate-400 uppercase text-[12px]px-8 py-4",onClick:()=>{}})]})},B=()=>{var h,x,j,m,t,s,v,g;const p=z(),{subjectID:i}=T(),{subjectQuiz:c}=$(i),n=k(l=>l.test),d=y(),[a,r]=o.useState({});return o.useEffect(()=>{P(c==null?void 0:c.designated).then(l=>{r(l.data)})},[]),console.log(a),e.jsxs("div",{children:[e.jsx("p",{children:"Preview Test Entries"}),e.jsx("p",{className:"mt-10 font-bold",children:"Test Instruction"}),e.jsx("p",{className:"mr-6 mt-2",children:(x=(h=n[0])==null?void 0:h.instruction)==null?void 0:x.instruction}),e.jsxs("div",{className:"flex gap-3 capitalize mt-5 font-medium text-[14px] mr-6 pb-5 border-b",children:[e.jsxs("p",{children:["duration: ",(m=(j=n[0])==null?void 0:j.instruction)==null?void 0:m.duration,"hour"]}),e.jsxs("p",{children:["mark per Question: ",(s=(t=n[0])==null?void 0:t.instruction)==null?void 0:s.mark," points"]})]}),e.jsx("p",{className:"my-6 font-semibold",children:"Questions"}),e.jsx("div",{className:"w-[90%]",children:(g=(v=n[1])==null?void 0:v.question)==null?void 0:g.map((l,f)=>e.jsxs("div",{children:[e.jsxs("p",{className:"text-[14px] font-bold mt-10",children:["Question ",f+1,"."]}),e.jsxs("div",{className:"ml-4 ",children:[e.jsx("p",{className:"text-[18px]",children:l==null?void 0:l.question}),e.jsxs("div",{className:"ml-8",children:[e.jsxs("p",{className:"text-[15px] mt-5 mb-3 italic",children:["Answer: ",l.answer]}),l.options.map((N,E)=>{const C=Object.values(N)[0],w=Object.keys(N)[0];let Q="";return typeof N=="string"&&(Q=N.split(",")[w]),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("input",{className:"radio radio-sm",type:"radio",onChange:()=>{},id:`${f} - ${w}`,value:`${C}`,checked:{}[f]===C}),e.jsx("label",{htmlFor:`${f} - ${w}`,children:Q})]},E)})]})]})]},f))}),e.jsx(u,{name:"Publish Question",className:"text-black border mt-20 bg-blue-950 uppercase text-[12px]px-8 py-4",onClick:()=>{console.log("clicked",a==null?void 0:a._id,i),A(a==null?void 0:a._id,i,n).then(l=>{console.log(l),l.status===201&&(O(`api/view-subject-quiz/${i}`),d(q()),p(`/subjects/${i}`))})}})]})},F=()=>{var m,t;const p=y(),i=k(s=>s.test),[c,n]=o.useState(!1),[d,a]=o.useState(""),[r,h]=o.useState(""),[x,j]=o.useState("");return e.jsxs("div",{children:[e.jsx(M,{name:"Create Quiz Screen"}),e.jsx("div",{className:"mt-10"}),e.jsxs("div",{className:`grid grid-cols-1  lg:grid-cols-5 relative\r
      \r
      `,children:[e.jsx("div",{className:" col-span-3 min-h-[60vh]",children:e.jsx(B,{})}),e.jsxs("div",{className:"order-first mb-10 lg:sticky lg:order-last border col-span-2 h-[790px] top-20 p-4 rounded-lg flex flex-col",children:[e.jsxs("div",{className:"flex",children:[e.jsx(u,{name:"Set Instruction",className:"text-white bg-blue-950 py-3",onClick:()=>{n(!c)}}),e.jsx(u,{name:"Set Questions",className:"text-white bg-blue-950 p-3",onClick:()=>{n(!c)}})]}),e.jsx("div",{className:"mt-10"}),c?e.jsx(R,{}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("p",{className:"my-2 font-medium capitalize border-b",children:"set Question Instruction"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"text-[12px]",children:"Enter Instruction"}),e.jsx("textarea",{placeholder:"Enter Instructions",className:"ml-0 w-full border bg-gray-100 text-[12px] h-[200px] rounded-md resize-none outline-none p-2",value:d,onChange:s=>{a(s.target.value)}})]}),e.jsxs("div",{className:"mt-1 w-full flex gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[12px]",children:"Enter Time"}),e.jsx(b,{placeholder:"Enter Time",className:"ml-0 w-full",value:r,onChange:s=>{h(s.target.value)}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[12px]",children:"Enter Mark/Question"}),e.jsx(b,{placeholder:"Enter Marks",className:"ml-0 w-full",value:x,onChange:s=>{j(s.target.value)}})]})]})]}),e.jsx("div",{className:"flex-1"}),(t=(m=i[0])==null?void 0:m.instruction)!=null&&t.instruction?e.jsx(u,{name:"add to Preview",className:"text-white bg-blue-950 uppercase text-[12px]px-8 py-4",onClick:()=>{n(!0),p(S({duration:r,instruction:d,mark:x}))}}):e.jsx(u,{name:"add Instructions first",className:"text-white bg-red-500 uppercase text-[12px]px-8 py-4",onClick:()=>{n(!0),p(S({duration:r,instruction:d,mark:x}))}})]})]})]})]})};export{F as default};
