import{y as m,Z as n,u as h,$ as v,j as e,C as j,a0 as N,m as u,r as b}from"./index-Dr9ZTIop.js";import{L as w}from"./LittleHeader-XNWv_M-9.js";import{b as o}from"./index-BIHAHyvx.js";const k=()=>{m(),n(a=>a==null?void 0:a.cart);const{data:d}=h(),{schoolPurchased:c}=v(d==null?void 0:d._id);return e.jsxs("div",{children:[e.jsx(w,{name:"Purchase History"}),e.jsx("div",{className:"mb-28"}),e.jsx("div",{className:"mb-28"}),e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[e.jsxs("div",{className:"text-[gray] w-[1100px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[e.jsx("div",{className:"w-[180px] border-r",children:"Date Purchased"}),e.jsx("div",{className:"w-[250px] border-r",children:"Items Purchased"}),e.jsx("div",{className:"w-[100px] border-r",children:"Total cost paid"}),e.jsx("div",{className:"w-[150px] border-r",children:"Paid Receipt"}),e.jsx("div",{className:"w-[80px] border-r",children:"delievered"}),e.jsx("div",{className:"w-[10px] border-r"}),e.jsx("div",{className:"w-[150px] border-r",children:"Name"}),e.jsx("div",{className:"w-[80px] border-r",children:"Class"})]}),(c==null?void 0:c.length)>0?e.jsx("div",{className:" w-[1100px] overflow-hidden ",children:c==null?void 0:c.map((a,x)=>{var i,l;return e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden ${x%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[180px] border-r",children:a==null?void 0:a.date}),e.jsx("div",{className:"w-[250px] border-r ",children:(i=a==null?void 0:a.cart)==null?void 0:i.map((s,t)=>{var r;return e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center gap-3 my-2",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:s!=null&&s.avatar?s==null?void 0:s.avatar:j,alt:"Avatar"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:s==null?void 0:s.title}),e.jsxs("div",{className:"text-[12px] opacity-50 ",children:["₦",(r=s==null?void 0:s.cost)==null?void 0:r.toLocaleString()," * ",s==null?void 0:s.QTY]})]})]})},t)})}),e.jsxs("div",{className:"w-[100px] border-r ml-1",children:["₦",(l=a==null?void 0:a.amount)==null?void 0:l.toLocaleString()]}),e.jsx("div",{className:"w-[150px] border-r ml-1",children:a==null?void 0:a.reference}),e.jsx("div",{className:"w-[80px] border-r pl-6 ",children:e.jsx("label",{children:e.jsx("input",{checked:a==null?void 0:a.delievered,type:"checkbox",className:"checkbox checkbox-error",onClick:()=>{N(a==null?void 0:a._id).then(s=>{s.status===201&&(u(`api/view-school-purchase/${d==null?void 0:d._id}`),b.useEffect(()=>{},[a==null?void 0:a.delievered]))})}})})}),e.jsx("div",{className:"w-[10px] border-r ml-1"}),e.jsx("div",{className:"w-[150px] border-r ml-1",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:a==null?void 0:a.studentName}),e.jsx("div",{className:"text-[12px] opacity-50 ",children:a!=null&&a.studentClass?"student":"Teacher"})]})}),e.jsx("div",{className:"w-[80px] border-r ml-1",children:a==null?void 0:a.studentClass})]},a)})})})}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(o,{}),e.jsx("p",{className:"mt-2 text-[15px]",children:"You haven't reported any complains yet"})]})]})]})};export{k as default};
