import{y as r,u as h,V as o,r as b,j as e,C as j,bb as n}from"./index-Dr9ZTIop.js";import{L as v}from"./LittleHeader-XNWv_M-9.js";import{b as N}from"./index-BIHAHyvx.js";const y=()=>{r();const{data:c}=h(),{schoolFeeRecord:l}=o(c==null?void 0:c._id),[i,s]=b.useState([]);return console.log(l),e.jsxs("div",{children:[e.jsx(v,{name:"School Fees History"}),e.jsx("div",{className:"mb-28"}),e.jsx("div",{className:"mb-28"}),e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",children:[e.jsxs("div",{className:"text-[gray] w-[900px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[e.jsx("div",{className:"w-[180px] border-r",children:"Payment Date"}),e.jsx("div",{className:"w-[250px] border-r",children:"Student Info"}),e.jsx("div",{className:"w-[130px] border-r",children:"School Fee Paid"}),e.jsx("div",{className:"w-[150px] border-r ml-1",children:"Payment Receipt Code"}),e.jsx("div",{className:"w-[150px] border-r",children:"confirm"}),e.jsx("div",{className:"w-[80px] border-r",children:"Remark"})]}),(l==null?void 0:l.length)>0?e.jsx("div",{className:" w-[900px] overflow-hidden ",children:l==null?void 0:l.map((a,t)=>{var m;return e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden ${t%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[180px] border-r",children:a==null?void 0:a.date}),e.jsx("div",{className:"w-[250px] border-r ",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center gap-3 my-2",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:a!=null&&a.avatar?a==null?void 0:a.avatar:j,alt:"Avatar"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:a.studentName}),e.jsxs("div",{className:"text-[12px] opacity-50 ",children:[a.studentClass," - ",a==null?void 0:a.term]})]})]})},t)}),e.jsxs("div",{className:"w-[130px] border-r ml-1",children:["â‚¦",(m=a==null?void 0:a.amount)==null?void 0:m.toLocaleString()]}),e.jsx("div",{className:"w-[145px] border-r ml-1",children:a==null?void 0:a.reference}),e.jsx("div",{className:"w-[150px] border-r pl-1 ",onClick:()=>{i.push(a==null?void 0:a._id)},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"my_modal_6",className:`btn text-[12px] font-medium text-white 
                          ${a.confirm?"bg-blue-950":"bg-red-600"}
                          ${a.confirm?"hover:bg-blue-900":"hover:bg-red-500"}
                          w-[95%] capitalize
                          `,children:a.confirm?"confirm":"not yet confirm"}),e.jsx("input",{type:"checkbox",id:"my_modal_6",className:"modal-toggle"}),e.jsx("div",{className:"modal",role:"dialog",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Confirm this payment"}),e.jsxs("p",{className:"py-4",children:["Are you sure you want to confirm this payment?",e.jsx("br",{}),i[0]]}),e.jsxs("div",{className:"modal-action",children:[e.jsx("label",{htmlFor:"my_modal_6",className:"btn px-8 bg-green-500 text-white hover:bg-green-600 ",onClick:()=>{n(i[0]).then(d=>{s([]);let x=setTimeout(()=>{s([]),console.log("view: ",i),clearTimeout(x)},10)})},children:"Yes"}),e.jsx("label",{htmlFor:"my_modal_6",className:"btn px-8 bg-red-500 text-white hover:bg-red-600 ",onClick:()=>{s([]);let d=setTimeout(()=>{s([]),console.log("view: ",i),clearTimeout(d)},10)},children:"No"})]})]})})]})}),e.jsx("div",{className:"w-[80px] border-r pl-6 ",children:e.jsx("input",{id:"my_modal_6",checked:a==null?void 0:a.confirm,type:"checkbox",className:`checkbox ${a!=null&&a.confirm?"checkbox-success":"checkbox-error"}`,onClick:()=>{n(a==null?void 0:a._id).then(d=>{})}})})]},a)})})})}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(N,{}),e.jsx("p",{className:"mt-2 text-[15px]",children:"You haven't reported any complains yet"})]})]})]})};export{y as default};
