import{u as C,r as l,j as a,B as F,_,bP as T,bQ as E,bR as U}from"./index-Dr9ZTIop.js";import{I as A}from"./Input-CHfh9ry9.js";import{I as z,_ as v}from"./index-CPykWLTA.js";const G=()=>{var m,b,k,x,p,N,h;const{data:e}=C(),[t,S]=l.useState(""),[s,D]=l.useState(""),[w,I]=l.useState(""),o=[{id:1,bank:"Access Bank Nigeria Plc",code:"044"},{id:2,bank:"Diamond Bank Plc",code:"063"},{id:3,bank:"Ecobank Nigeria",code:"050"},{id:4,bank:"Enterprise Bank Plc",code:"084"},{id:5,bank:"Fidelity Bank Plc",code:"070"},{id:6,bank:"First Bank of Nigeria Plc",code:"011"},{id:7,bank:"First City Monument Bank",code:"214"},{id:8,bank:"Guaranty Trust Bank Plc",code:"058"},{id:9,bank:"Heritage Banking Company Ltd",code:"030"},{id:10,bank:"Jaiz Bank",code:"301"},{id:11,bank:"Keystone Bank Ltd",code:"082"},{id:12,bank:"Mainstreet Bank Plc",code:"014"},{id:13,bank:"Skye Bank Plc",code:"011"},{id:14,bank:"Stanbic IBTC Plc",code:"039"},{id:15,bank:"Sterling Bank Plc",code:"232"},{id:16,bank:"Union Bank Nigeria Plc",code:"032"},{id:17,bank:"United Bank for Africa Plc",code:"033"},{id:18,bank:"Unity Bank Plc",code:"215"},{id:19,bank:"035 Bank Plc",code:"011"},{id:20,bank:"Zenith Bank International",code:"057"}],c=o.find(n=>n.bank===w),[r,i]=l.useState(!1);return a.jsxs("div",{className:" sm:w-[350%]  rounded-lg border  h-[550px] text-blue-950",children:[a.jsx(z,{position:"top-center"}),a.jsxs("p",{className:"text-[13px] p-4 font-medium ",children:["Please note that all online Payment, will be Paid to this Account detail provided below.",a.jsx("br",{}),a.jsx("br",{}),"So it is very important that the information provided below are accurate and correct. ",a.jsx("br",{})]}),a.jsx("div",{className:"mx-5",children:a.jsx("hr",{})}),a.jsxs("div",{className:"px-4 pt-5",children:[a.jsx("label",{className:"text-[12px] font-medium ",children:"Please Fill in your School's Account Name"}),a.jsx(A,{placeholder:"Account Name",defaultValue:(m=e==null?void 0:e.bankDetails)==null?void 0:m.accountName,value:(b=e==null?void 0:e.bankDetails)!=null&&b.accountName?(k=e==null?void 0:e.bankDetails)==null?void 0:k.accountName:t,onChange:n=>{S(n.target.value)},className:"mb-4 ml-0 w-[95%]"})]}),a.jsxs("div",{className:"px-4 pt-0",children:[a.jsx("label",{className:"text-[12px] font-medium ",children:"Please Fill in your School's Account Number"}),a.jsx(A,{placeholder:"Account Number",defaultValue:(x=e==null?void 0:e.bankDetails)==null?void 0:x.accountNumber,value:(p=e==null?void 0:e.bankDetails)!=null&&p.accountNumber?(N=e==null?void 0:e.bankDetails)==null?void 0:N.accountNumber:s,onChange:n=>{D(n.target.value)},className:"mb-8 ml-0 w-[95%]"})]}),a.jsxs("div",{className:"px-4 w-full",children:[a.jsxs("select",{className:"select select-bordered w-[95%] max-w-xs",onChange:n=>{I(n.target.value)},children:[a.jsx("option",{disabled:!0,selected:!0,children:(h=e==null?void 0:e.bankDetails)==null?void 0:h.bankName}),o==null?void 0:o.map((n,d)=>a.jsx("option",{className:"py-3",value:n.bank,children:n.bank},d))]}),a.jsx(F,{name:r?"Processing":"Update Account Detail",icon:r&&a.jsx(_,{size:15,color:"white",className:"absolute -ml-3 -mt-2"}),className:"bg-blue-950 mt-10 ml-0 py-4",onClick:async()=>{i(!0);const n=await T({accountName:t,accountNumber:s,accountBankCode:c==null?void 0:c.code}).then(()=>{v.success("Account details updated successfully")});E({accountName:t,accountNumber:s,accountBankCode:c==null?void 0:c.code}).then(u=>{var B,P,f,j,g,y;U(e==null?void 0:e._id,{bankDetails:{bankName:c.bank,accountName:t,accountNumber:s,accountPaymentCode:(f=(P=(B=u==null?void 0:u.data)==null?void 0:B.data)==null?void 0:P.data)==null?void 0:f.subaccount_code,schoolFeeAccountPaymentCode:(y=(g=(j=n==null?void 0:n.data)==null?void 0:j.data)==null?void 0:g.data)==null?void 0:y.subaccount_code}}).then(L=>{v.success("Done"),i(!1)})});const d=setTimeout(()=>{i(!1),clearTimeout(d)},5e3)}})]})]})};export{G as default};
