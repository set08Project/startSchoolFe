import{r as i,ae as N,H as w,j as e,B as C,_ as S,d7 as y}from"./index-Dr9ZTIop.js";import{d as z,C as A}from"./ckeditor-gCzDPHbr.js";const L=()=>{const[n,m]=i.useState(""),[x,u]=i.useState(""),[o,p]=i.useState(""),h=N(),[c,g]=i.useState(""),[b,j]=i.useState(""),[d,r]=i.useState(!1),{studentInfo:s}=w(),f=t=>{const a=t.target.files[0],l=URL.createObjectURL(a);g(l),j(a)},v=()=>{r(!0);const t=new FormData;t.append("title",o),t.append("content",x),t.append("desc",n),t.append("avatar",b),y(s==null?void 0:s.schoolIDs,s==null?void 0:s._id,t).then(a=>{var l;r(!1),h(`/articles/${(l=a==null?void 0:a.data)==null?void 0:l._id}`)})};return e.jsx("div",{className:" w-full  flex justify-center items-center",children:e.jsxs("div",{className:" w-[85%] min-h-[500px]",children:[e.jsxs("div",{className:" w-full h-[40px] md:flex gap-5 text-[12px]",children:[e.jsx("input",{type:"text",placeholder:"Title",value:n,onChange:t=>m(t.target.value),className:" capitalize bg-white border-b rounded-none outline-none w-full px-4 h-full text-blue-950"}),e.jsx("textarea",{placeholder:"Description",value:o,maxLength:100,onChange:t=>p(t.target.value),className:"capitalize bg-white border-b rounded-none outline-none w-full px-4 h-full text-blue-950 resize-none mt-6 md:mt-0"})]}),e.jsxs("div",{className:"md:flex md:gap-5",children:[e.jsxs("div",{className:"mt-28 md:mt-8",children:[e.jsx("label",{htmlFor:"pix",className:"text-[12px] bg-blue-950 text-white py-4 px-6 cursor-pointer capitalize font-bold rounded-md ",children:"upload Cover image"}),e.jsx("input",{id:"pix",className:"hidden",type:"file",onChange:f})]}),c!==""&&e.jsx("img",{className:"w-[60%] h-[100px] object-cover border rounded-md mt-16 md:mt-5 ",alt:"image",src:c})]}),e.jsxs("div",{className:" mt-10 mb-20 min-h-[500px]",children:[e.jsx("p",{className:"text-[12px] mt-3",children:"Write Article"}),e.jsx("div",{className:"w-full my-1  min-h-[300px] border",children:e.jsx(z.CKEditor,{editor:A,onChange:(t,a)=>{const l=a.getData();u(l)}})})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("button",{children:"Submit"}),e.jsx(C,{className:"mt-10 lg:mt-0 py-2 px-4 rounded-md bg-blue-950 text-white",name:d?"Loading":"Publish This Article ",icon:d&&e.jsx(S,{color:"white",size:20,className:"absolute left-7 top-5"}),onClick:v})]})]})})};export{L as default};
