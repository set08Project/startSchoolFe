import{aT as N,o as S,dU as E,r as l,C as w,j as e,c7 as C,dY as D,m as y,N as k,aC as I,X as H,dX as P}from"./index-CpMs4x3j.js";import{L as T}from"./LittleHeader-BJT5arxS.js";import{B as b}from"./Button-Dg4C_H6j.js";const F=({instruction:d,duration:r,mark:u,file:x})=>{const o=N(),{subjectID:n}=S(),{subjectQuiz:s}=E(n),[h,c]=l.useState({}),[m,i]=l.useState(!1);return l.useEffect(()=>{w(s==null?void 0:s.designated).then(t=>{c(t.data)})},[]),e.jsx("div",{children:e.jsx(b,{name:m?e.jsxs("div",{className:"gap-3 flex items-center justify-center",children:[e.jsx(C,{className:"animate-spin text-[15px]"})," ",e.jsx("span",{children:"Loading..."})]}):"Publish Question",className:`text-black border mt-50 ${d&&u&&r&&"bg-neutral-950"} uppercase text-[12px] px-10 ml-4 py-4 bg-blue-950`,onClick:()=>{i(!0);const t=new FormData;t.append("instruction",d),t.append("duration",r),t.append("mark",u),t.append("file",x),D(s==null?void 0:s.classDetails,n,t).then(p=>{p.status===201&&(y(`api/view-subject-quiz/${n}`),o(`/subjects/${n}`))}).finally(()=>{i(!1)})}})})},q=()=>{var f,j,v,g;const d=k(),r=I(a=>a.test),[u,x]=l.useState(!1),[o,n]=l.useState(""),[s,h]=l.useState(""),[c,m]=l.useState(""),[i,t]=l.useState(),p=a=>{t(a.target.files[0])};return e.jsxs("div",{children:[e.jsx(T,{name:"Create Examination Question Screen"}),e.jsx("div",{className:"mt-10"}),e.jsxs("div",{className:"grid grid-cols-1 relative",children:[e.jsxs("div",{className:"order-first mb-10 border col-span-2 min-h-[200px] top-20 p-4 rounded-lg flex flex-col",children:[e.jsxs("div",{className:"flex",children:[e.jsx("label",{htmlFor:"question",className:"py-3 px-8 bg-neutral-950 text-[13px] uppercase font-semibold text-white rounded-sm cursor-pointer hover:bg-neutral-800 duration-300 transition-all",children:"Upload Question"}),e.jsx("input",{className:"hidden",id:"question",type:"file",onChange:p})]}),e.jsx("div",{className:"mt-10"}),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("p",{className:"my-2 font-medium capitalize border-b",children:"Set Examination Instruction"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-5 flex flex-col",children:[e.jsx("label",{className:"text-[12px]",children:"Enter Instruction"}),e.jsx("textarea",{placeholder:"Enter Instructions",className:"ml-0 w-full lg:max-w-[80%] border bg-gray-100 text-[12px] h-[200px] rounded-md resize-none outline-none p-2",value:o,onChange:a=>{n(a.target.value)}})]}),e.jsxs("div",{className:"mt-10 w-full flex gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[12px]",children:"Time/Duration(Hours)"}),e.jsxs("select",{className:"border border-blue-950 w-full h-[50px] rounded-md  mt-2 px-2 relative transition-all duration-300 mb-6 select select-bordered max-w-xs ",name:"hour",id:"hour",defaultValue:(j=(f=r[0])==null?void 0:f.instruction)==null?void 0:j.duration,value:s,onChange:a=>{h(a.target.value)},children:[e.jsx("option",{disabled:!0,selected:!0,children:"choose"}),e.jsx("option",{value:"1",children:"1 Hour"}),e.jsx("option",{value:"2",children:"2 Hours"}),e.jsx("option",{value:"3",children:"3 Hours"}),e.jsx("option",{value:"4",children:"4 Hours"}),e.jsx("option",{value:"5",children:"5 Hours"})]})]}),e.jsxs("div",{className:"-mt-1 ml-6",children:[e.jsx("label",{className:"text-[12px] ",children:"Enter Mark Per Question"}),e.jsx(H,{placeholder:"Enter Marks",className:"ml-0 w-full",defaultValue:(g=(v=r[0])==null?void 0:v.instruction)==null?void 0:g.mark,value:c,onChange:a=>{m(a.target.value)}})]})]})]}),e.jsx("div",{className:"flex",children:e.jsx(b,{name:i?"Ready To Publish":"Yet to Upload",className:`text-white ${i?"bg-red-500":"bg-neutral-950"} uppercase text-[12px] ml-0 px-8 py-4`,onClick:()=>{x(!0),d(P({duration:s,instruction:o,mark:c}))}})}),e.jsx("div",{className:"flex-1"})]})]}),e.jsx("div",{className:" col-span-3 ",children:e.jsx(F,{duration:s,mark:c,file:i,instruction:o})})]})]})};export{q as default};
