import{o as v,q as f,cd as w,$ as k,aF as N,r as y,ce as $,j as s,k as b,x as h,cf as z,m as I,L as j,aG as S}from"./index-CqzGoYxY.js";import{d as _}from"./dummy-BrifSwra.js";import{P as r}from"./index-kwss3K7Y.js";import{b as M}from"./index-fPLmo-SF.js";import{U as L}from"./index-DAN0tJMS.js";document.title="Viewing Article";const P=()=>{var m;const{view:l}=v(),{studentInfo:i}=f(),{oneArticle:e}=w(l);k(e==null?void 0:e.studentID);const{allArticle:n}=N(e==null?void 0:e.schoolID),a=n==null?void 0:n.filter(t=>t.studentID===(e==null?void 0:e.studentID));let d=e==null?void 0:e.like,x=d==null?void 0:d.some(t=>t===(i==null?void 0:i._id)),c=0;return x?c=(d==null?void 0:d.length)-1:c=d==null?void 0:d.length,y.useEffect(()=>{$(l,i==null?void 0:i._id)},[]),s.jsxs("div",{children:[s.jsx(b,{name:`viewing ${(m=e==null?void 0:e.student)==null?void 0:m.split(" ")[0]} Article`}),s.jsx("div",{className:"w-full flex justify-center",children:s.jsxs("div",{className:"space-y-4 md:w-[95%]",children:[s.jsx("div",{className:"text-[28px] text-black font-bold capitalize leading-tight",children:s.jsx("strong",{children:e==null?void 0:e.desc})}),s.jsxs("div",{className:"flex items-center gap-4 text-black font-semibold",children:[s.jsx("div",{className:"",children:s.jsx("img",{src:e!=null&&e.avatar?e==null?void 0:e.avatar:_,alt:"",className:"avatar rounded-full h-[50px] w-[50px] object-cover"})}),s.jsxs("div",{children:[s.jsx("div",{children:e!=null&&e.student?e==null?void 0:e.student:"s"}),s.jsxs("div",{className:"",children:[s.jsx("span",{className:"text-zinc-500 text-[12px]",children:"Published:"})," ",s.jsx("span",{className:"capitalize  text-[12px]",children:h(e==null?void 0:e.createdAt).fromNow()})]})]})]}),s.jsx("div",{className:"w-full text-black grid grid-cols-1  mt-20",dangerouslySetInnerHTML:{__html:e==null?void 0:e.content}}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("div",{className:"mt-32",children:s.jsx("hr",{})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative flex",onClick:()=>{z(l,i==null?void 0:i._id).then(()=>{I(`api/viewing-one-article/${l}`)})},children:[s.jsx(r,{className:"cursor-pointer absolute "}),s.jsx(r,{className:"text-red-500 cursor-pointer animate-ping opacity-40 absolute"}),s.jsxs("span",{className:"text-[12px] font-semibold ml-5",children:[" ",x&&"You"," ",c>=1?`${x?"and":""} ${c} person${c>1?"s":""} have loved this write up`:"have love this write up"]})]})}),s.jsx("div",{className:"mt-g32",children:s.jsx("hr",{})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[12px] font-semibold mb-5 underline",children:["More from ",e==null?void 0:e.student]}),s.jsx("div",{className:"w-full grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-3 gap-4 ",children:a==null?void 0:a.map(t=>{var u,g,o;return s.jsxs(j,{to:`/articles/${t==null?void 0:t._id}`,className:"m-2 w-full lg:w-[300px]",children:[s.jsx("img",{alt:"image",src:t==null?void 0:t.coverImage,className:"w-full  rounded-t-md lg:w-[300px] lg:h-[200px] object-cover border"}),s.jsxs("div",{className:"p-2 border-r border-l border-b",children:[s.jsxs("div",{className:"flex mt-2 gap-2 mb-3",children:[s.jsx("img",{alt:"image",src:t==null?void 0:t.avatar,className:"w-[40px] h-[40px] rounded-[50%] object-cover border"}),s.jsxs("div",{children:[s.jsx("p",{className:"capitalize text-[12px] font-semibold",children:t==null?void 0:t.student}),s.jsx("p",{className:"text-[12px]",children:h(t==null?void 0:t.createdAt).fromNow()})]})]})," ",s.jsx("p",{className:"font-semibold leading-tight mb-4",children:t==null?void 0:t.desc}),s.jsxs("p",{className:"text-[14px] mb-5",children:[" ",((u=t==null?void 0:t.title)==null?void 0:u.length)>60?`${(g=t==null?void 0:t.title)==null?void 0:g.slice(0,60)}...`:t==null?void 0:t.title]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(r,{}),s.jsx("span",{className:"font-semibold text-[12px]",children:(o=t==null?void 0:t.like)==null?void 0:o.length})]})]})]},t._id)})})]})]})})]})};document.title="School's Article Page";const U=()=>{const{view:l}=v(),{studentInfo:i}=f(),{allArticle:e}=N(i==null?void 0:i.schoolIDs),n=()=>Math.floor(Math.random()*4+2);return s.jsx("div",{children:l?s.jsx(P,{}):s.jsxs(s.Fragment,{children:[s.jsx(b,{name:document.title}),s.jsx("div",{className:"w-full flex justify-end",children:s.jsx(j,{to:"/create-article",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(M,{size:25}),s.jsx("p",{className:"text-[12px] font-bold text-blue-950",children:"Create New Thought"})]})})}),s.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-10 gap-4",children:e&&(e==null?void 0:e.map(a=>{var d,x,c,m;return s.jsx(j,{to:`${a==null?void 0:a._id}`,children:s.jsxs("div",{className:"card rounded-md bg-white border text-zinc-600 cursor-pointer hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mt-[-10px] text-[15px] font-medium flex gap-3 ",children:[s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(S,{}),s.jsx("p",{className:"text-[12px]",children:(d=a==null?void 0:a.view)==null?void 0:d.length})]}),s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(r,{}),s.jsx("p",{className:"text-[12px]",children:(x=a==null?void 0:a.like)==null?void 0:x.length})]})]}),s.jsx("h2",{className:"card-title flex justify-between mt-[5px]",children:s.jsx("div",{className:"text-nowrap overflow-ellipsis overflow-hidden whitespace-nowrap ",children:a==null?void 0:a.desc})}),s.jsxs("p",{className:"mt-[-10px] text-[10px] font-medium",children:["Writen by ",a==null?void 0:a.student]}),s.jsx("p",{className:"text-[13px] leading-tight",children:((c=a==null?void 0:a.title)==null?void 0:c.length)>60?`${(m=a==null?void 0:a.title)==null?void 0:m.slice(0,60)}...`:a==null?void 0:a.title}),s.jsxs("div",{className:"flex justify-between gap-4 items-center h-4",children:[s.jsx("div",{className:"text-[11px] font-medium capitalize ",children:h(a==null?void 0:a.createdAt).fromNow()}),s.jsxs("p",{className:"text-[10px] font-bold text-gray-400",children:[n(),"Mins Read"]})]})]}),s.jsx("figure",{children:s.jsx(L,{alt:"cover image",thumbhash:"1QcSHQRnh493V4dIh4eXh1h4kJUI",src:a==null?void 0:a.coverImage,autoSizes:!0,className:"w-full h-[200px] object-cover"})})]})})}))})]})})};export{U as default};
