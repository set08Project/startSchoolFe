import{bP as N,bQ as o,bR as f,aq as v,u as w,b0 as g,j as e,k as y,t as S,ay as j,bz as b,L as k,B as p}from"./index-gGbhD9zv.js";const R=({props:r})=>{var c,a,d;const{sessionTermData:s}=j(r);return b(r),e.jsx(k,{to:`${r}/${(c=s==null?void 0:s.data)==null?void 0:c.year.replace("/","-")}/${(a=s==null?void 0:s.data)==null?void 0:a.presentTerm.replace(" ","-")}`,className:"w-[150px] border-r text-black font-bold flex justify-start",children:e.jsx(p,{name:`View ${(d=s==null?void 0:s.data)==null?void 0:d.presentTerm} session `,className:"bg-blue-950 py-4 text-white text-[12px] font-normal rounded-lg -ml-2"})})},H=({props:r})=>e.jsx("div",{className:" ",children:"View Details"}),F=({props:r})=>{var c,a;const{termData:s}=b(r);return j(r),e.jsx("div",{className:"flex text-[10px] font-extrabold mt-3 italic gap-5 text-blue-900 ",children:e.jsx("p",{className:"text-[14px] font-bold pl-2",children:((c=s==null?void 0:s.classResult)==null?void 0:c.length)>0&&((a=s==null?void 0:s.classResult.map(d=>{var t;return(t=d==null?void 0:d.students)==null?void 0:t.length}))==null?void 0:a.reduce((d,t)=>d+t))})})},V=({props:r})=>{var a,d,t,i,m,u,h,n;const{sessionTermData:s}=j(r),{termData:c}=b(r);return console.log("FEE: ",c),e.jsx("div",{className:"w-12",children:(c==null?void 0:c.classResult.length)>0?e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase",children:"Paid"}),e.jsxs("p",{className:"text-[12px] font-bold text-green-500",children:[(((d=(a=s==null?void 0:s.data)==null?void 0:a.classResult.map(l=>{var x;return(x=l==null?void 0:l.schoolFeesHistory)==null?void 0:x.length}))==null?void 0:d.reduce((l,x)=>l+x))/((i=(t=s==null?void 0:s.data)==null?void 0:t.classResult.map(l=>l.students.length))==null?void 0:i.reduce((l,x)=>l+x))*100).toFixed(2),"%"]}),e.jsx("p",{className:"text-[10px] mt-2 uppercase",children:"unPaid"}),e.jsxs("p",{className:"text-[12px] font-bold text-red-500",children:[(((u=(m=s==null?void 0:s.data)==null?void 0:m.classResult.map(l=>{var x;return l.students.length-((x=l==null?void 0:l.schoolFeesHistory)==null?void 0:x.length)}))==null?void 0:u.reduce((l,x)=>l+x))/((n=(h=s==null?void 0:s.data)==null?void 0:h.classResult.map(l=>l.students.length))==null?void 0:n.reduce((l,x)=>l+x))*100).toFixed(2),"%"]})]}):null})},A=()=>{const{teacherInfo:r}=N(),{state:s}=o(r==null?void 0:r.classesAssigned),{classAcademicHistory:c}=f(s==null?void 0:s._id);v.groupBy(c==null?void 0:c.classHistory,"session");const{data:a}=w(),{schoolInfo:d}=g(a==null?void 0:a._id);return e.jsxs("div",{className:"",children:[e.jsx(y,{name:"Viewing School Academic History"}),e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle w-12 h-12",children:e.jsx("img",{src:a!=null&&a.avatar?a==null?void 0:a.avatar:S,alt:"Avatar"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:a==null?void 0:a.schoolName}),e.jsx("div",{className:"text-[12px] opacity-50 ",children:"View Academic History"})]}),e.jsx("div",{className:" w-full overflow-x-auto",children:e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[600px] overflow-y-hidden mt-9",children:[e.jsxs("div",{className:" w-[1200px] text-[gray] flex gap-9 text-[12px] font-medium uppercase mb-10 px-4",children:[e.jsx("div",{className:"w-[150px] border-r",children:"Session"}),e.jsx("div",{className:"w-[150px] border-r",children:"Number of Terms"}),e.jsx("div",{className:"w-[150px] border-r",children:"Number of Tearcher"}),e.jsxs("div",{className:"w-[150px] border-r flex flex-col",children:[e.jsx("p",{children:"Number of Student"}),e.jsxs("div",{className:"flex  text-[10px] font-extrabold mt-3 italic gap-5 text-blue-900",children:[e.jsx("p",{className:"w-12",children:"1st Term"}),e.jsx("p",{className:"w-12",children:"2nd Term"}),e.jsx("p",{className:"w-12",children:"3rd Term"})]})]}),e.jsxs("div",{className:"w-[220px] border-r flex flex-col",children:[e.jsx("p",{children:"Number of SchoolFee Stat"}),e.jsxs("div",{className:"flex  text-[10px] font-extrabold mt-3 italic gap-5 text-blue-900",children:[e.jsx("p",{className:"w-12",children:"1st Term"}),e.jsx("p",{className:"w-12",children:"2nd Term"}),e.jsx("p",{className:"w-12",children:"3rd Term"})]})]}),e.jsx(H,{})]}),e.jsx("div",{children:e.jsx("div",{className:"",children:d==null?void 0:d.map(t=>{var i,m,u,h;return e.jsxs("div",{className:"w-[1200px] flex items-center gap-9 text-[12px] font-medium  h-22 px-4 my-2 overflow-hidden",style:{width:`${1200+((i=t==null?void 0:t.term)==null?void 0:i.length)*170}px`},children:[e.jsx("div",{className:"w-[150px] border-r-2 border-blur-950 text-black",children:t==null?void 0:t.year}),e.jsx("div",{className:"w-[150px] border-r text-black",children:t==null?void 0:t.term.length}),e.jsx("div",{className:"w-[150px] border-r text-black flex",children:t==null?void 0:t.numberOfTeachers}),e.jsx("div",{className:"w-[150px] flex border-r text-black",children:(m=t==null?void 0:t.term)==null?void 0:m.map((n,l)=>e.jsxs("div",{className:"w-12",children:[" ",e.jsx(F,{props:n})]},l))}),e.jsx("div",{className:"w-[220px] gap-5 border-r text-black flex",children:(u=t==null?void 0:t.term)==null?void 0:u.map(n=>e.jsx(V,{props:n}))}),(h=t==null?void 0:t.term)==null?void 0:h.map(n=>e.jsx(R,{props:n}))]})})})})]})})]})};export{A as default};
