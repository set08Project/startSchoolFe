import{bP as b,eR as v,r as n,b0 as g,j as e,k as w,L as h,X as y,cV as S,x as L,t as D,cW as F,eS as k,aU as A,l as C,bI as _}from"./index-CqzGoYxY.js";import{b as R}from"./index-J1SprvZ4.js";import{b as T}from"./index-fPLmo-SF.js";import{d as B}from"./index-CnwWbySH.js";import{F as E,a as M}from"./index-DODFn2uM.js";const H=()=>{var x,m,r;document.title="Teacher's Lesson Notes";const{teacherInfo:l}=b(),{lessonNote:t}=v(l==null?void 0:l.schoolIDs,l==null?void 0:l._id),[d,o]=n.useState(""),a=(x=t==null?void 0:t.lessonNotes)==null?void 0:x.filter(s=>`${s==null?void 0:s.subject} ${s==null?void 0:s.topic}`.toLowerCase().includes(d.toLowerCase()));(m=t==null?void 0:t.lessonNotes)==null||m.reverse();const[j,u]=n.useState(""),[i,f]=n.useState({});g(l==null?void 0:l.schoolIDs);const[O,N]=n.useState([]);return n.useEffect(()=>{(async()=>{if(l!=null&&l.schoolIDs)try{const c=await _(l.schoolIDs);N(c)}catch(c){console.log(c)}})()},[l==null?void 0:l.schoolIDs]),e.jsxs("div",{children:[e.jsx(w,{name:"Teacher's Lesson Notes"}),e.jsx("div",{className:"min-h-[82vh] text-blue-950 overflow-hidden",children:e.jsxs("div",{children:[e.jsx("div",{className:"w-full flex justify-end",children:e.jsx(h,{to:"/create-notes",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{size:25}),e.jsx("p",{className:"text-[12px] font-bold text-blue-950",children:"Create New Lesson Note"})]})})}),e.jsxs("div",{className:"py-9 w-full mt-4 p-3 border-b-2",children:[e.jsx("p",{className:"font-bold mb-3",children:"Lesson Note"}),e.jsx("div",{children:e.jsx(y,{placeholder:"Search By Subject Or Topic",value:d,onChange:s=>{o(s.target.value)}})}),e.jsx("div",{className:"",children:e.jsx("div",{className:"",children:(a==null?void 0:a.length)>0?e.jsx("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3 sm:grid-cols-1 freshh",children:a==null?void 0:a.map((s,c)=>e.jsxs("div",{className:"pt-6 pb-3 px-5 min-h-[200px] border rounded-[15px] shadow-sm flex items-start justify-center flex-col overflow-hidden",children:[e.jsxs("div",{className:"w-full mb-3 flex justify-between items-start",children:[e.jsxs("div",{className:"w-[75%]",children:[e.jsxs("div",{className:"mb-2 block md:flex items-center gap-2",children:[e.jsxs("h3",{className:"font-semibold text-[15px] sm:text-[19px] lg:text-[21px] flex items-center gap-2",children:[e.jsx(S,{}),s==null?void 0:s.subject]}),e.jsx("p",{className:" mt-2 text-green-500 text-[12px] font-medium",children:L(s==null?void 0:s.createdAt).fromNow()})]}),e.jsx("div",{className:"w-[280px] sm:w-auto mt-4 sm:mt-0 mb-3 text-[23px] lg:text-[27px] font-bold flex items-center gap-3",children:e.jsx("h1",{children:s==null?void 0:s.topic})})]}),e.jsx("div",{className:"w-[20%] h-full flex justify-center items-start gap-2",children:e.jsx("img",{src:s!=null&&s.profilePic?s==null?void 0:s.profilePic:D,alt:"teacher_profile_pic",className:"h-[60px] w-[60px] border object-cover rounded-full"})})]}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"break-words text-wrap",children:s!=null&&s.summary?s==null?void 0:s.summary.substring(0,250):e.jsx("div",{className:"opacity-50",children:"No summary"})})}),e.jsx("div",{className:"w-full border mb-3"}),e.jsxs("div",{className:"mb-2 flex items-center font-semibold ",children:[e.jsx("h2",{className:"w-[70px]",children:"By:"}),e.jsx("h2",{className:"",children:s==null?void 0:s.teacher})]}),e.jsxs("div",{className:"mb-2 flex items-center font-semibold ",children:[e.jsx("h2",{className:"w-[70px]",children:"For:"}),e.jsx("h2",{className:"",children:s==null?void 0:s.classes})]}),e.jsxs("div",{className:"mb-8 font-semibold flex items-center",children:[e.jsx("h2",{className:"w-[70px]",children:"Status"}),s!=null&&s.adminSignation?e.jsxs("h2",{className:"font-semibold text-green-500 flex items-center gap-1",children:["Approved ",e.jsx(E,{})]}):e.jsxs("h2",{className:"font-semibold text-red-500 flex items-center gap-1",children:["Not Approved ",e.jsx(M,{})]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"w-full smallphon flex justify-between items-start",children:[e.jsx("div",{children:s!=null&&s.adminSignation?e.jsx("div",{children:e.jsx("div",{className:"w-full mb-[25px] flex justify-center items-center",children:e.jsxs("label",{htmlFor:"",className:"py-3 px-3 bg-green-700 text-white text-[11px] sm:text-[14px] lg:text-[13px] xl:text-[14px] font-semibold rounded-md flex justify-center items-center gap-2 transition-all duration-300 ",children:["Lesson Note has been Approved",e.jsx(F,{className:"mb-1"})]})})}):e.jsx("div",{className:"w-[90%] mb-[25px] flex justify-center items-center",children:s!=null&&s.messageSent?e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsxs("label",{htmlFor:"view_response",className:"py-2 px-4 w-[270px] h-[43px] bg-blue-950 text-white rounded-md flex justify-center items-center gap-2 transition-all duration-300 cursor-pointer ",onClick:()=>{u(s==null?void 0:s._id),f(s)},children:["View Admin's Reply",e.jsx(k,{className:"ml-3 text-[18px] animate-pulse"})]})}):e.jsxs("div",{className:"py-4 px-3 h-[50px] bg-blue-950 text-white rounded-md flex justify-center items-center gap-2 cursor-pointer opacity-30",children:[e.jsx("div",{children:"Awaiting Administrator's Response"}),e.jsx(R,{className:"animate-spin transition-all duration-1000"})]})})}),e.jsx("div",{children:e.jsx(A,{to:s==null?void 0:s._id,children:e.jsx("div",{className:"w-[40px] h-[40px] flex justify-center items-center bg-blue-950 text-[25px] font-extrabold rounded-lg text-white cursor-pointer scale-105",children:e.jsx(B,{className:"animate-pulse scale-105"})})})})]})]},(s==null?void 0:s._id)||c))}):e.jsx("div",{className:"freshh",children:"No Lesson Note Created Yet"})})})]})]})}),e.jsx("input",{type:"checkbox",id:"view_response",className:"modal-toggle"}),e.jsx("div",{className:"modal rounded-md text-blue-950 text-left",role:"dialog",children:(r=t==null?void 0:t.lessonNotes)==null?void 0:r.map(s=>e.jsxs("div",{className:"modal-box bg-white  rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Response From The Administrator"}),e.jsx("label",{htmlFor:"view_response",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(C,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Response Message Detail"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("h1",{children:i==null?void 0:i.responseDetail}),e.jsx("br",{})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Deadline to update and submit Lesson Note Message Detail"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("h1",{className:"font-bold",children:i==null?void 0:i.deadline}),e.jsx("br",{}),e.jsx(h,{to:`/edit-lesson-note/${j}`,children:e.jsx("button",{className:"btn btn-neutral",children:"Rework on The Lesson Note"})}),e.jsx("p",{})]})]})]}))})]})};export{H as default};
