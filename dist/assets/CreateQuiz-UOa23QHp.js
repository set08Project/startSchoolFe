import{N as w,aC as y,r as l,j as e,X as P,eL as q,aT as z,o as A,dU as O,C as L,c7 as D,eM as R,m as H,eN as B,dX as T}from"./index-BomD4pl1.js";import{L as F}from"./LittleHeader-CY_gKZnO.js";import{B as h}from"./Button-DoGVIVvP.js";const U=()=>{const p=w();y(s=>s.test),l.useState([]);const[i,r]=l.useState(""),[c,d]=l.useState(""),[n,o]=l.useState([{}]);l.useState(null);const u=s=>{o([...n,{[parseInt(`${s+1}`)]:""}])},x=s=>{const t=[...n];t.splice(s,1),o(t)},v=(s,t)=>{const{value:j}=s.target,g=[...n];g[t]=j,o(g)},m=s=>{p(q(s))};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{children:e.jsx("textarea",{className:"border outline-none bg-gray-100  rounded-md w-full resize-none h-[200px] p-2 ",placeholder:"Enter Question",value:i,onChange:s=>{r(s.target.value)}})}),e.jsx("p",{className:"my-1 mx-0 text-[12px] font-medium ",children:e.jsx("input",{placeholder:"Enter the Answer",className:"px-2 mx-0 w-full border outline-none h-[45px] pl-2 rounded-md text-[15px]",value:c,onChange:s=>{d(s.target.value)}})}),e.jsx("div",{children:n==null?void 0:n.map((s,t)=>e.jsxs("div",{className:"flex gap-2 items-center my-3",children:[e.jsx(P,{placeholder:"Enter Options",className:"m-0  outline-none h-[45px] pl-2 rounded-md",value:s,name:s,onChange:j=>{v(j,t)}}),t<3&&e.jsx("div",{className:"text-white text-[12px] bg-green-500 h-12  rounded-md flex items-center px-4 leading-tight text-center min-w-14 justify-center font-bold cursor-pointer",onClick:()=>u(t),children:"Add More"}),e.jsx("div",{className:"text-white text-[12px] bg-red-500 h-12  rounded-md flex items-center px-4 leading-tight text-center min-w-14 justify-center font-bold cursor-pointer",onClick:()=>{x(t)},children:"Remove"})]},t))}),i!==""?e.jsx(h,{name:"add to Preview",className:"text-white  bg-blue-950 uppercase text-[12px] px-8 py-4",onClick:()=>{m({question:i,answer:c,options:n}),r(""),d(""),o([{1:""}])}}):e.jsx(h,{name:"Add Questions to Preview",className:"text-black border  bg-slate-400 uppercase text-[12px]px-8 py-4",onClick:()=>{}})]})},X=()=>{var m,s,t,j,g,C,S,k,Q,E;const p=z(),{subjectID:i}=A(),{subjectQuiz:r}=O(i),[c,d]=l.useState(!1),n=y(a=>a.test),o=w(),[u,x]=l.useState({});l.useEffect(()=>{L(r==null?void 0:r.designated).then(a=>{x(a.data)})},[]);const v=(s=(m=n[1])==null?void 0:m.question)==null?void 0:s.length;return e.jsxs("div",{children:[e.jsx("p",{children:"Preview Test Entries"}),e.jsx("p",{className:"mt-10 font-bold",children:"Test Instructions"}),e.jsx("p",{className:"mr-6 mt-2",children:(j=(t=n[0])==null?void 0:t.instruction)==null?void 0:j.instruction}),e.jsxs("div",{className:"flex gap-3 capitalize mt-5 font-medium text-[14px] mr-6 pb-5 border-b",children:[e.jsxs("p",{children:["duration: ",(C=(g=n[0])==null?void 0:g.instruction)==null?void 0:C.duration,"hour"]}),e.jsxs("p",{children:["mark per Question: ",(k=(S=n[0])==null?void 0:S.instruction)==null?void 0:k.mark," points"]})]}),e.jsx("p",{className:"my-6 font-semibold",children:"Questions"}),e.jsx("div",{className:"w-[90%]",children:(E=(Q=n[1])==null?void 0:Q.question)==null?void 0:E.map((a,b)=>e.jsxs("div",{children:[e.jsxs("p",{className:"text-[14px] font-bold mt-10",children:["Question ",b+1,"."]}),e.jsxs("div",{className:"ml-4 ",children:[e.jsx("p",{className:"text-[18px]",children:a==null?void 0:a.question}),e.jsxs("div",{className:"ml-8",children:[e.jsxs("p",{className:"text-[15px] mt-5 mb-3 italic",children:["Answer: ",a==null?void 0:a.answer]}),a.options.map((N,$)=>{const I=Object.values(N)[0],f=Object.keys(N)[0];let M="";return typeof N=="string"&&(M=N.split(",")[f]),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("input",{className:"radio radio-sm",type:"radio",onChange:()=>{},id:`${b} - ${f}`,value:`${I}`,checked:{}[b]===I}),e.jsx("label",{htmlFor:`${b} - ${f}`,children:M})]},$)})]})]})]},b))}),e.jsx(h,{name:c?"Uploading Question":"Publish Question",icon:c&&e.jsx(D,{className:"text-white text-[20px] animate-spin"}),className:"text-black border mt-20 bg-blue-950 uppercase text-[12px]px-8 py-4 transition-all duration-300 ",onClick:()=>{d(!0),R(u==null?void 0:u._id,i,v,n).then(a=>{a.status===201&&(H(`api/view-subject-quiz/${i}`),o(B()),p(`/subjects/${i}`))}).finally(()=>{d(!1)})}})]})},G=()=>{var m,s;const p=w(),i=y(t=>t.test),[r,c]=l.useState(!1),[d,n]=l.useState(""),[o,u]=l.useState(""),[x,v]=l.useState("");return e.jsxs("div",{children:[e.jsx(F,{name:"Create Test Screen"}),e.jsx("div",{className:"mt-10"}),e.jsxs("div",{className:`grid grid-cols-1  lg:grid-cols-5 relative\r
      \r
      `,children:[e.jsx("div",{className:" col-span-3 min-h-[60vh] ",children:e.jsx(X,{})}),e.jsxs("div",{className:"order-first mb-10 lg:sticky lg:order-last border col-span-2 min-h-[590px] top-20 p-4 rounded-lg flex flex-col ",children:[e.jsxs("div",{className:"flex",children:[e.jsx(h,{name:"Set Instruction",className:"text-white bg-blue-950 py-3",onClick:()=>{c(!r)}}),e.jsx(h,{name:"Set Questions",className:"text-white bg-blue-950 p-3",onClick:()=>{c(!r)}})]}),e.jsx("div",{className:"mt-10"}),r?e.jsx(U,{}):e.jsxs("div",{className:"min-h-[100px] pb-4 flex flex-col ",children:[e.jsx("p",{className:"my-2 font-medium capitalize border-b",children:"Set Test Instruction"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"text-[12px]",children:"Enter Instruction"}),e.jsx("textarea",{placeholder:"Enter Instructions",className:"ml-0 w-full border bg-gray-100 text-[12px] min-h-[100px] rounded-md resize-none outline-none p-2",value:d,onChange:t=>{n(t.target.value)}})]}),e.jsxs("div",{className:"mt-1 w-full flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[12px]",children:"Enter Time/Duration(Hours)"}),e.jsxs("select",{name:"hour",id:"hour",className:`ml-2 border border-blue-950 \r
                      px-2 rounded-md py-3 flex-1 w-[90%] mt-2 mr-2 `,value:o,onChange:t=>{u(t.target.value)},children:[e.jsx("option",{value:"0",selected:!0,children:"choosen"}),e.jsx("option",{value:"0.167",children:"10 Minutes"}),e.jsx("option",{value:"0.333",children:"20 Minutes"}),e.jsx("option",{value:"0.500",children:"30 Minutes"}),e.jsx("option",{value:"0.667",children:"40 Minutes"}),e.jsx("option",{value:"0.833",children:"50 Minutes"}),e.jsx("option",{value:"1",children:"60 Minutes"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[12px]",children:"Enter Mark Per Question"}),e.jsx(P,{placeholder:"Enter Marks",className:"ml-0 w-full",value:x,onChange:t=>{v(t.target.value)}})]})]})]}),(s=(m=i[0])==null?void 0:m.binstruction)!=null&&s.instruction?e.jsx(h,{name:"add to Preview",className:"text-white bg-blue-950 uppercase text-[12px]px-8 py-4",onClick:()=>{c(!0),p(T({duration:o,instruction:d,mark:x}))}}):e.jsx(h,{name:"add Instructions first",className:"text-white bg-red-500 uppercase text-[12px]px-8 py-4",onClick:()=>{c(!0),p(T({duration:o,instruction:d,mark:x}))}})]})]})]})]})};export{G as default};
