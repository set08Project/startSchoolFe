import{r as u,u as me,o as ie,cC as ve,j as e,l as re,br as le,B as R,cD as Pe,m as D,e as S,aC as $e,ci as we,I as he,t as ye,a3 as _e,a4 as Re,x as B,L as de,c7 as Ee,cE as pe,E as oe,cF as Ae,c2 as ce,$ as Le,c3 as Te,cG as De,z as Be,c4 as Ve,J as Ce,c5 as Se,b0 as ke,aq as L,c6 as Fe,Y as Me,q as Oe,c8 as ze,b as He,cH as Ue,N as Ke,P as Ge,cI as Je,k as We,_ as qe,c as Ye,cJ as Xe,cK as Qe,cL as Ze,aO as Ie,cM as es,b4 as Ne}from"./index-CpMs4x3j.js";import{I as ge}from"./Input-Bgxl8oE8.js";import{T as ss}from"./TimeTableScreen-f_jhi-Rx.js";import"./index-BCkbffQ4.js";const ts=["Monday","Tuesday","Wednesday","Thursday","Friday"],as=()=>{var g;const[a,i]=u.useState(""),[r,o]=u.useState(""),[d,f]=u.useState(""),{data:n}=me(),{classID:b}=ie(),{readSubject:v}=ve(b),c=()=>{Pe(n==null?void 0:n._id,b,{day:r,subject:a,time:d}).then(t=>{var N,k;(t==null?void 0:t.status)===201?(D(`api/view-time-table/${b}`),S.success("Added Successfully...!")):S.error(`${(k=(N=t==null?void 0:t.response)==null?void 0:N.data)==null?void 0:k.message}`)})};return e.jsx("div",{children:e.jsxs("div",{className:"mt-5 text-[13px] font-medium",children:[e.jsx("label",{htmlFor:"assign_subject_timetable_for_class",className:` my-3 ${(n==null?void 0:n.categoryType)==="Secondary"?"text-blue-500":"text-green-500"} transition-all duration-300 ${(n==null?void 0:n.categoryType)==="Secondary"?"hover:text-blue-500":"hover:text-green-500"} cursor-pointer`,children:"+ Add to TimeTable"}),e.jsx("div",{className:"mt-5"}),e.jsx("input",{type:"checkbox",id:"assign_subject_timetable_for_class",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md",role:"dialog",children:[e.jsxs("div",{className:"modal-box  rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Subject to TimeTable"}),e.jsx("label",{htmlFor:"assign_subject_timetable_for_class",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(re,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Please note that by assigning this subject to this class, it automtically becomes one of the class must take suject.",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Subject: ",a]}),a&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(le,{className:"text-green-500 text-[25px] mb-1 "})]})]}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Peroid: ",d]}),d&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(le,{className:"text-green-500 text-[25px] mb-1 "})]})]}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Day: ",r]}),r&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(le,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Subject Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-bordered w-full mt-2 mb-8",onChange:t=>{i(t.target.value)},children:[e.jsx("option",{disabled:!0,selected:!0,children:"Choose Period"}),e.jsx("option",{value:"Short Break",children:"Short Break"}),e.jsx("option",{value:"Long Break",children:"Long Break"}),e.jsx("option",{value:"Free Period",children:"Free Period"}),e.jsx("option",{value:"Assembly",children:"Assembly"}),v==null?void 0:v.map((t,N)=>e.jsx("option",{value:t.subjectTitle,className:"py-4 my-8",children:t==null?void 0:t.subjectTitle},N))]}),e.jsxs("div",{className:"flex w-full gap-2 mb-10",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Period Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-bordered w-full mt-2",onChange:t=>{f(t.target.value)},children:[e.jsx("option",{value:"Choose Period",disabled:!0,selected:!0,defaultValue:"Choose Period",children:"Choose Period"}),(g=n==null?void 0:n.timeTableStructure)==null?void 0:g.map((t,N)=>e.jsx("option",{value:t,children:t},N))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Day of the Week ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-bordered w-full mt-2",onChange:t=>{o(t.target.value)},children:[e.jsx("option",{value:"Choose Day",disabled:!0,selected:!0,children:"Choose Day"}),ts.map((t,N)=>e.jsx("option",{value:t,children:t},N))]})]})]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:a!==""&&d!==""&&r!==""?e.jsx("label",{htmlFor:"assign_subject_timetable_for_class",className:`${(n==null?void 0:n.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} text-white py-4 px-8 rounded-md cursor-pointer`,onClick:c,children:"Proceed"}):e.jsx(R,{name:"Can't Proceed",className:`bg-[lightgray] ${(n==null?void 0:n.categoryType)==="Secondary"?"text-blue-950":"text-green-950"} mx-0 cursor-not-allowed`})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"assign_subject_timetable_for_class",children:"Close"})]})]})})},ls=({id:a,data:i})=>{var n;const{attendance:r}=De(a);let o=i==null?void 0:i.studentFirstName,d=(n=r==null?void 0:r.attendance)==null?void 0:n.find(b=>(b==null?void 0:b.studentFirstName)===o),f=Date.now();return e.jsx("div",{className:`w-[100px] border-r
      ${d!=null&&d.present?"text-green-600":d!=null&&d.absent?"text-red-600":null}`,children:B(d==null?void 0:d.createdAt).format("ll")===B(f).format("ll")&&(d!=null&&d.present)?"Present":d!=null&&d.absent?"Absent":null})},rs=({props:a})=>{var r,o,d,f,n,b,v,c;const{mainStudentAttendance:i}=Be(a);return e.jsx("div",{children:((o=(r=i==null?void 0:i.data)==null?void 0:r.attendance)==null?void 0:o.filter(g=>g.present===!0).length)/((f=(d=i==null?void 0:i.data)==null?void 0:d.attendance)==null?void 0:f.length)*100?e.jsxs("div",{children:[(((b=(n=i==null?void 0:i.data)==null?void 0:n.attendance)==null?void 0:b.filter(g=>g.present===!0).length)/((c=(v=i==null?void 0:i.data)==null?void 0:v.attendance)==null?void 0:c.length)*100).toFixed(2),"%"]}):e.jsx("div",{children:"0%"})})},cs=()=>{var C;const{classID:a}=ie(),i=$e(l=>l.user),{classStudents:r}=we(a),{data:o}=me();r==null||r.students;const d=(C=r==null?void 0:r.students)==null?void 0:C.sort((l,h)=>{var p;return(p=l.studentLastName)==null?void 0:p.localeCompare(h.studentLastName)});let f=a;const[n,b]=u.useState(!1),[v,c]=u.useState(!1),[g,t]=u.useState(""),[N,k]=u.useState(""),E=l=>{b(!0),k(l)},_=()=>{b(!1),k("")};return e.jsxs("div",{children:[e.jsx(he,{}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",children:[e.jsxs("div",{className:"text-[gray] w-[2120px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4 border-b pb-3",children:[e.jsx("div",{className:"w-[50px] border-r",children:"S/N"}),e.jsx("div",{className:"w-[90px] border-r",children:"student Image"}),e.jsx("div",{className:"w-[200px] border-r",children:"student Name"}),e.jsx("div",{className:"w-[220px] border-r",children:"Session Fee"}),e.jsx("div",{className:"w-[130px] border-r",children:"Reg. Date"}),e.jsx("div",{className:"w-[100px] border-r",children:"Today's Attendance"}),e.jsx("div",{className:"w-[100px] border-r",children:"This team Attendance Ratio"}),e.jsx("div",{className:"w-[100px] border-r",children:"student Class"}),e.jsx("div",{className:"w-[150px] border-r",children:"Parent Contact"}),e.jsx("div",{className:"w-[200px] border-r",children:"Address "}),e.jsx("div",{className:"w-[200px] border-r",children:"Performance Ratio"}),e.jsx("div",{className:"w-[80px] border-r",children:"Rate"}),e.jsx("div",{className:"w-[180px] border-r",children:"View Detail"}),e.jsx("div",{className:"w-[180px] border-r",children:"View Report Card"}),e.jsx("div",{className:"w-[180px] border-r",children:"Restrict Result"})]}),e.jsx("div",{children:(d==null?void 0:d.length)>0?e.jsx("div",{className:"relative w-[2120px] overflow-hidden",children:d==null?void 0:d.map((l,h)=>e.jsxs("div",{className:"",children:[e.jsx("div",{children:e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-16 px-4 my-2  overflow-hidden ${h%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[50px] border-r",children:h+1}),e.jsx("div",{className:"w-[90px] flex justify-center border-r",children:e.jsx("img",{className:"w-14 h-14 rounded-md border object-cover",src:ye})}),e.jsxs("div",{className:"w-[200px] border-r",children:[e.jsxs("p",{children:[l==null?void 0:l.studentLastName," ",l==null?void 0:l.studentFirstName]}),e.jsxs("p",{children:["LoginID:"," ",e.jsx("span",{className:"font-semibold",children:l==null?void 0:l.enrollmentID})]})]}),e.jsxs("div",{className:"w-[220px] border-r flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{children:"1st Term"}),e.jsx("input",{type:"checkbox",className:`toggle toggle-sm mt-2 ${l!=null&&l.feesPaid1st?`${(o==null?void 0:o.categoryType)==="Secondary"?"bg-blue-950 border-b-blue-950":"bg-red-950 border-red-950"}`:"bg-neutral-500 border-neutral-500"} `,checked:l==null?void 0:l.feesPaid1st,onClick:()=>{}})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{children:"2nd Term"}),e.jsx("input",{type:"checkbox",className:`toggle toggle-sm mt-2 ${l!=null&&l.feesPaid2nd?`${(o==null?void 0:o.categoryType)==="Secondary"?"bg-blue-950 border-b-blue-950":"bg-red-950 border-red-950"}`:"bg-neutral-500 border-neutral-500"} `,checked:l==null?void 0:l.feesPaid2nd,onClick:()=>{_e(i==null?void 0:i.id,l==null?void 0:l._id)}})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{children:"3rd Term"}),e.jsx("input",{type:"checkbox",className:`toggle toggle-sm mt-2 ${l!=null&&l.feesPaid3rd?`${(o==null?void 0:o.categoryType)==="Secondary"?"bg-blue-950 border-b-blue-950":"bg-red-950 border-red-950"}`:"bg-neutral-500 border-neutral-500"} `,checked:l==null?void 0:l.feesPaid3rd,onClick:()=>{Re(i==null?void 0:i.id,l==null?void 0:l._id)}})]})]}),e.jsx("div",{className:"w-[130px] border-r",children:B(l.createdAt).format("ll")}),e.jsx("div",{className:"w-[100px] border-r",children:e.jsx(ls,{data:l,id:r==null?void 0:r._id})}),e.jsx("div",{className:"w-[100px] border-r",children:e.jsx(rs,{props:l==null?void 0:l._id})}),e.jsx("div",{className:"w-[100px] border-r  ",children:r==null?void 0:r.className}),e.jsx("div",{className:"w-[150px] border-r  ",children:l!=null&&l.phone?l.phone:"no phone yet"}),e.jsx("div",{className:"w-[200px] border-r  ",children:l!=null&&l.studentAddress?l.studentAddress:"no Address yet"}),e.jsx("div",{className:"w-[200px] border-r  "}),e.jsxs("div",{className:"w-[80px] border-r",children:[Math.ceil(Math.random()*4)+1," of 5"]}),e.jsxs("div",{className:"w-[180px] border-r flex gap-1",children:[e.jsx("div",{className:"w-[80px] relative",children:e.jsx(R,{name:"Edit",className:"pl-5 py-3 w-[92%] bg-blue-950 text-white  hover:bg-blue-900 transition-all duration-300",onClick:()=>{E(l==null?void 0:l._id)}})}),e.jsx(de,{to:"student-details/:studentID",className:"w-[80px]",children:e.jsx(R,{name:"View",className:"pl-5 py-3 w-[92%] bg-black text-white  hover:bg-neutral-800 transition-all duration-300",onClick:()=>{}})})]}),e.jsx(ds,{props:l}),e.jsx("div",{className:"w-[180px] border-r text-[10px]",children:e.jsx(R,{name:`${v&&g===(l==null?void 0:l._id)?"":l!=null&&l.viewReportCard?"Free":"Restrict"}`,icon:v&&g===(l==null?void 0:l._id)&&e.jsx(Ee,{className:"animate-spin text-[20px]"}),className:` ${l!=null&&l.viewReportCard?"bg-red-500 text-white  hover:bg-red-600":"bg-neutral-900 text-white  hover:bg-neutral-950"} py-3  w-[85%] transition-all duration-300`,onClick:()=>{c(!0),t(l==null?void 0:l._id),(l==null?void 0:l.viewReportCard)===!0?pe(o==null?void 0:o._id,l==null?void 0:l._id,!1).then(p=>{p.status===201&&(S.success("Restricted mode disabled"),D(`api/view-all-class-students/${a}`))}).finally(()=>{c(!1)}):pe(o==null?void 0:o._id,l==null?void 0:l._id,!0).then(p=>{p.status===201&&(S.success("Restricted mode disabled"),D(`api/view-all-class-students/${a}`))}).finally(()=>{c(!1),t("")})}})})]},l)}),e.jsx("div",{children:n&&N===(l==null?void 0:l._id)&&e.jsx("div",{className:"absolute z-10 border backdrop-blur-sm top-2 right-96 h-[90%] w-[250px] overflow-auto",children:e.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-1 mt-3",children:[e.jsx(re,{size:13,onClick:()=>{_()},className:"cursor-pointer text-[25px]"}),e.jsxs("p",{className:"mt-3 text-[15px] ",children:["Updating"," ",e.jsxs("span",{className:"font-semibold italic",children:[l==null?void 0:l.studentFirstName," ",l==null?void 0:l.studentLastName," "]}),"Information"]}),e.jsx(is,{el:f,props:l,setToggleValue:k,setToggle:b})]})})})]}))}):e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"flex flex-col items-center w-[30%] justify-center px-4 py-1 mt-3",children:[e.jsx(oe,{size:13}),e.jsx("p",{className:"mt-3 text-[12px] font-medium",children:"No Subject added yet"})]})})})]})})]})},is=({props:a,el:i,setToggleValue:r,setToggle:o})=>{const[d,f]=u.useState(a==null?void 0:a.studentFirstName),[n,b]=u.useState(a==null?void 0:a.studentLastName),[v,c]=u.useState(a==null?void 0:a.studentAddress),[g,t]=u.useState(a==null?void 0:a.phone),[N,k]=u.useState(a==null?void 0:a.parentEmail),[E,_]=u.useState(a==null?void 0:a.parentPhoneNumber),[C,l]=u.useState(!1);return e.jsxs("div",{className:"flex flex-col h-[] overflow-auto ",children:[e.jsxs("div",{className:"flex flex-col mt-5",children:[e.jsx("label",{className:"text-[12px] font-semibold ",children:"First Name"}),e.jsx("input",{type:"text",className:"text-[15px] w-full py-2 px-1 border rounded-md",placeholder:"First Name",value:d,onChange:h=>f(h.target.value)})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("label",{className:"text-[12px] font-semibold ",children:"Last Name"}),e.jsx("input",{type:"text",className:"text-[15px] w-full py-2 px-1 border rounded-md",placeholder:"Last Name",value:n,onChange:h=>b(h.target.value)})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("label",{className:"text-[12px] font-semibold ",children:"Phone Number"}),e.jsx("input",{type:"text",className:"text-[15px] w-full py-2 px-1 border rounded-md",placeholder:"Phone Number",value:g,onChange:h=>t(h.target.value)})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("label",{className:"text-[12px] font-semibold ",children:"Parent Email"}),e.jsx("input",{type:"text",className:"text-[15px] w-full py-2 px-1 border rounded-md",placeholder:"Parent Email",value:N,onChange:h=>k(h.target.value)})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("label",{className:"text-[12px] font-semibold ",children:"Parent Phone Number"}),e.jsx("input",{type:"text",className:"text-[15px] w-full py-2 px-1 border rounded-md",placeholder:"Parent Phone",value:E,onChange:h=>_(h.target.value)})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("label",{className:"text-[12px] font-semibold ",children:"Student Address"}),e.jsx("textarea",{className:"text-[15px] w-full py-2 px-1 border rounded-md resize-none min-h-[60px]",placeholder:"Student Address",value:v,onChange:h=>c(h.target.value)})]}),e.jsx("div",{className:"mt-3 flex gap-2",children:e.jsx(R,{disabled:C,name:C?"Loading...":"Update",className:`py-3 w-[92%] ${C?"bg-red-400 animate-pulse cursor-not-allowed":"bg-red-500"} text-white  hover:bg-red-400 transition-all duration-300  `,onClick:()=>{l(!0),Ae(a==null?void 0:a._id,{phone:g,studentFirstName:d,studentLastName:n,parentEmail:N,parentPhoneNumber:E}).then(h=>{h.status===201&&(S.success("Student Information Updated Successfully"),D(`api/view-all-class-students/${i}`))}).finally(()=>{l(!1),o(!1),r("")})}})})]})},ds=({props:a})=>{var n;const{gradeData:i}=ce(a==null?void 0:a._id),{studentInfoData:r}=Le(a==null?void 0:a._id),{schoolAnnouncement:o}=Te(i==null?void 0:i.schoolIDs);let d=o,f=(n=i==null?void 0:i.reportCard)==null?void 0:n.find(b=>b.classInfo===`${r==null?void 0:r.classAssigned} session: ${d==null?void 0:d.presentSession}(${d==null?void 0:d.presentTerm})`);return e.jsx("div",{className:"w-[180px]",children:f!=null&&f.approve?e.jsx(de,{to:`/view-students-report-card/${a==null?void 0:a._id}`,className:"w-[180px] border-r",children:e.jsx(R,{name:"Report-card",className:"py-3 w-[85%] mt-7 bg-orange-500 text-white  hover:bg-orange-600 transition-all duration-300",onClick:()=>{}})}):e.jsx("div",{className:"w-[180px] border-r",children:e.jsx(R,{name:"Not Ready",className:"py-3 w-[85%] mt-7 bg-red-500 text-white  hover:bg-red-600 transition-all duration-300"})})})},xs=({student:a})=>{var F,V,H,M,O,ee,se,P,ne,te,z,ae,U,K,G,J,W,q,Y,X,Q,Z,x,y,T,je,ue;const i=u.useRef(null),{schoolAnnouncement:r}=Te(a==null?void 0:a.schoolIDs),{gradeData:o}=ce(a==null?void 0:a._id),{oneClass:d}=Ve(a==null?void 0:a.presentClassID),{teacherDetail:f}=Ce(d==null?void 0:d.teacherID),{subjectData:n}=Se(a==null?void 0:a.presentClassID),b=r==null?void 0:r.schoolName,v=r==null?void 0:r.address;let c=(F=o==null?void 0:o.reportCard)==null?void 0:F.find(s=>s.classInfo===`${a==null?void 0:a.classAssigned} session: ${r==null?void 0:r.presentSession}(${r==null?void 0:r.presentTerm})`);const g=()=>{const s=i.current;if(!s)return;s.querySelectorAll("*").forEach(w=>{window.getComputedStyle(w).color.includes("oklch")&&(w.style.color="#000000")})};let t=r;const{schoolInfo:N}=ke(a==null?void 0:a.schoolIDs);let k=((H=L.sortBy((V=c==null?void 0:c.result)==null?void 0:V.filter(s=>(a==null?void 0:a.classAssigned)==="JSS 1A"?(s==null?void 0:s.subject)!=="Diction":!0),"subject"))==null?void 0:H.length)-((M=L.filter(c==null?void 0:c.result,{grade:"F"}))==null?void 0:M.length),E=((O=c==null?void 0:c.result)==null?void 0:O.map(s=>s.exam+s.test1+s.test2+s.test3+s.test4).reduce((s,m)=>s+m,0))/(((ee=c==null?void 0:c.result)==null?void 0:ee.length)*100)*100,_=[],C={},l={};for(let s of(n==null?void 0:n.students)||[]){const{gradeData:m}=ce(s);let w=(se=m==null?void 0:m.reportCard)==null?void 0:se.find(j=>{var fe,be;return j.classInfo===`${a==null?void 0:a.classAssigned} session: ${(fe=N[0])==null?void 0:fe.year}(${(be=N[0])==null?void 0:be.presentTerm})`});_.push((P=w==null?void 0:w.result)==null?void 0:P.map(j=>({[`${j==null?void 0:j.subject}`]:(j==null?void 0:j.test2)+(j==null?void 0:j.test1)+(j==null?void 0:j.test3)+(j==null?void 0:j.test4)+(j==null?void 0:j.exam)})))}(ne=L.sortBy(_,"subject"))==null||ne.forEach(s=>{s==null||s.forEach(m=>{for(let w in m){let j=w.trim();(!C[j]||C[j]<m[w])&&(C[j]=m[w])}})}),(te=L.sortBy(_,"subject"))==null||te.forEach(s=>{s==null||s.forEach(m=>{for(let w in m){let j=w.trim();(!l[j]||l[j]>m[w])&&(l[j]=m[w])}})});let h=L.sortBy(Object.entries(C).map(([s,m])=>({subject:s,score:m})),"subject"),p=L.sortBy(Object.entries(l).map(([s,m])=>({subject:s,score:m})),"subject");u.useEffect(()=>{const s=m=>{(m.ctrlKey&&m.key==="r"||m.key==="F5")&&(m.preventDefault(),alert("Refresh is disabled on this page."))};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[]),u.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const[A,I]=u.useState(!1),{toPDF:xe,targetRef:$}=Fe({filename:`${a==null?void 0:a.studentFirstName}-${a==null?void 0:a.classAssigned}-${t==null?void 0:t.presentSession}-${t==null?void 0:t.presentTerm}-${B(Date.now()).format("lll")}.pdf`});return u.useEffect(()=>{g()},[]),e.jsxs("div",{className:" overflow-hidden",children:[e.jsx(he,{}),e.jsx("button",{disabled:A,className:`text-[12px] tracking-widest transistion-all duration-300 hover:bg-red-100 px-8 py-2 rounded-md bg-red-50 ${A&&"cursor-not-allowed bg-red-200 animate-pulse"}`,onClick:()=>{I(!0),xe().finally(()=>{I(!1),S.success("Result downloaded.")})},children:A?e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Me,{className:"animate-spin"}),e.jsx("span",{children:"downloading..."})]}):"Print Result"}),e.jsxs("div",{className:"overflow-auto w-[1280px]",children:[e.jsxs("h1",{className:"text-[10px] md:text-[12px] text-center mt-5 uppercase font-medium mb-2 italic",children:[a==null?void 0:a.classAssigned," ",t==null?void 0:t.presentSession,e.jsx("span",{className:"mx-1",children:t==null?void 0:t.presentTerm})," Student Report"]}),e.jsx("div",{className:"relative ",children:e.jsx("main",{className:"flex justify-center mt-2",ref:$,children:e.jsxs("div",{className:"max-w-[1200px] p-4 overflow-hidden border",children:[e.jsxs("div",{className:"absolute overflow-hidden inset-0 text-gray-300 text-opacity-20 text-[5vw] font-bold tracking-widest uppercase flex justify-center items-center",style:{lineHeight:"5.5em",whiteSpace:"pre-wrap",userSelect:"none",pointerEvents:"none",rotate:"30deg"},children:[t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",e.jsx("br",{}),t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",e.jsx("br",{}),t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName," ",e.jsx("br",{}),t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName,t==null?void 0:t.schoolName," ",e.jsx("br",{}),t==null?void 0:t.schoolName," ",t==null?void 0:t.schoolName]}),e.jsxs("div",{className:"flex flex-col md:hidden ",children:[e.jsxs("div",{className:"flex items-center justify-between w-auto",children:[e.jsx("div",{className:"border h-28 w-28 ",children:t!=null&&t.avatar?e.jsx("img",{src:t==null?void 0:t.avatar,className:" w-full h-full object-contain"}):e.jsx("div",{className:"bg-blue-50 font-semibold uppercase text-[30px] w-full h-full flex justify-center items-center",children:(z=t==null?void 0:t.schoolName)==null?void 0:z.charAt(0)})}),e.jsx("div",{className:"border h-28 w-28 ",children:a!=null&&a.avatar?e.jsx("img",{src:a==null?void 0:a.avatar,className:"bg-blue-50 w-full h-full object-cover"}):e.jsx("div",{className:"bg-blue-50 font-semibold uppercase text-[30px] w-full h-full flex justify-center items-center",children:(ae=a==null?void 0:a.studentFirstName)==null?void 0:ae.charAt(0)})})]}),e.jsxs("div",{className:"mt-5 flex justify-center items-center flex-col",children:[e.jsx("h1",{className:"font-bold uppercase text-[25px]",children:b}),e.jsx("h1",{className:"text-[12px] font-semibold tracking-[0.6rem]",children:v})]})]}),e.jsxs("div",{className:"text-[12px] md:text-[15px] h-14 my-5 uppercase bg-blue-950 text-white flex justify-center items-center",children:[t==null?void 0:t.presentSession,e.jsx("span",{className:"mx-1",children:t==null?void 0:t.presentTerm})," Student Report"]}),e.jsxs("main",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 mb-2",children:[e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Surname"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:a==null?void 0:a.studentLastName})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Other Names"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:a==null?void 0:a.studentFirstName})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"sex"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:a==null?void 0:a.gender})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Class"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:a==null?void 0:a.classAssigned})]}),e.jsxs("div",{className:" border p-2",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Class Teacher"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:f==null?void 0:f.staffName})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Class Population"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:(U=d==null?void 0:d.students)==null?void 0:U.length})]})]}),e.jsx("main",{className:"overflow-auto uppercase text-[12px]",children:e.jsxs("section",{className:" min-w-[1150px] flex flex-col mt-4  ",children:[e.jsxs("main",{className:"flex  bg-blue-50",style:{width:`${(t==null?void 0:t.presentTerm)==="1st Term"?"994px":(t==null?void 0:t.presentTerm)==="2nd Term"?"1072px":(t==null?void 0:t.presentTerm)==="3rd Term"?"1150px":null}`},children:[e.jsx("div",{className:"p-2 w-[40px]",children:"S/N"}),e.jsx("div",{className:"p-2 w-[180px] border-x ",children:"subject"}),e.jsxs("div",{className:" w-[58px] border-r flex flex-col justify-center items-center ",children:[e.jsx("p",{className:"text",children:"CA"}),e.jsx("p",{className:"text-[12px]",children:"(40)"})]}),e.jsxs("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:[e.jsx("p",{className:"text",children:"Exam"}),e.jsx("p",{className:"text-[12px]",children:"(60)"})]}),e.jsxs("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:[e.jsx("p",{className:"text",children:"Total"}),e.jsx("p",{className:"text-[12px]",children:"(100)"})]}),(t==null?void 0:t.presentTerm)==="1st Term"||(t==null?void 0:t.presentTerm)==="3rd Term"&&e.jsxs("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:[e.jsx("p",{className:"text",children:"1st Term "}),e.jsx("p",{className:"text-[12px]",children:"(100)"})]}),(t==null?void 0:t.presentTerm)==="1st Term"||(t==null?void 0:t.presentTerm)==="2nd Term"&&e.jsxs("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:[e.jsx("p",{className:"text",children:"2nd Term "}),e.jsx("p",{className:"text-[12px]",children:"(100)"})]}),(t==null?void 0:t.presentTerm)==="1st Term"||(t==null?void 0:t.presentTerm)==="2nd Term"||(t==null?void 0:t.presentTerm)==="3rd Term"&&e.jsxs("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:[e.jsx("p",{className:"text",children:"3rd Term "}),e.jsx("p",{className:"text-[12px]",children:"(100)"})]}),e.jsx("div",{className:" w-[78px] px-2 border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:"COMM. Term Score"})}),e.jsx("div",{className:" w-[78px] text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:"Class Highest Score"})}),e.jsx("div",{className:" w-[78px] text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:"Class lowest Score"})}),e.jsx("div",{className:" w-[78px] text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:"Grade"})}),e.jsx("div",{className:" flex-1 text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:"Remark"})})]}),e.jsx("main",{className:"flex flex-col mt-1",children:(G=L.sortBy((K=c==null?void 0:c.result)==null?void 0:K.filter(s=>(a==null?void 0:a.classAssigned)==="JSS 1A"?(s==null?void 0:s.subject)!=="Diction":!0),"subject"))==null?void 0:G.map((s,m)=>{var w,j;return e.jsxs("section",{className:" min-w-[1150px] flex my-1 bg-blue-50 min-h-[30px] ",style:{width:`${(t==null?void 0:t.presentTerm)==="1st Term"?"994px":(t==null?void 0:t.presentTerm)==="2nd Term"?"1072px":(t==null?void 0:t.presentTerm)==="3rd Term"?"1150px":null}`},children:[e.jsx("div",{className:"p-2 w-[40px]",children:m+1}),e.jsx("div",{className:"px-2 flex flex-col justify-center w-[180px] border-x text-[14px] tracking-wider font-semibold ",children:s==null?void 0:s.subject}),e.jsx("div",{className:" w-[58px] border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text-[12px]",children:(s==null?void 0:s.test1)+(s==null?void 0:s.test2)+(s==null?void 0:s.test3)+(s==null?void 0:s.test4)})}),e.jsx("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text-[12px]",children:s==null?void 0:s.exam})}),e.jsx("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text-[12px]",children:(s==null?void 0:s.test1)+(s==null?void 0:s.test2)+(s==null?void 0:s.test3)+(s==null?void 0:s.test4)+(s==null?void 0:s.exam)})}),(t==null?void 0:t.presentTerm)==="1st Term"||(t==null?void 0:t.presentTerm)==="3rd Term"&&e.jsx("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:e.jsxs("p",{className:"text-[12px]",children:[" ",(s==null?void 0:s.test1)+(s==null?void 0:s.test2)+(s==null?void 0:s.test3)+(s==null?void 0:s.test4)+(s==null?void 0:s.exam)]})}),(t==null?void 0:t.presentTerm)==="1st Term"||(t==null?void 0:t.presentTerm)==="2nd Term"&&e.jsx("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:e.jsxs("p",{className:"text-[12px]",children:[" ",(s==null?void 0:s.test1)+(s==null?void 0:s.test2)+(s==null?void 0:s.test3)+(s==null?void 0:s.test4)+(s==null?void 0:s.exam)]})}),(t==null?void 0:t.presentTerm)==="1st Term"||(t==null?void 0:t.presentTerm)==="2nd Term"||(t==null?void 0:t.presentTerm)==="3rd Term"&&e.jsx("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text-[12px]",children:"0"})}),e.jsx("div",{className:" w-[78px] border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text-[12px]",children:(s==null?void 0:s.test1)+(s==null?void 0:s.test2)+(s==null?void 0:s.test3)+(s==null?void 0:s.test4)+(s==null?void 0:s.exam)})}),e.jsx("div",{className:" w-[78px] text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:(w=h[m])==null?void 0:w.score})}),e.jsx("div",{className:" w-[78px] text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text",children:(j=p[m])==null?void 0:j.score})}),e.jsx("div",{className:" w-[78px] text-[12px] px-2 leading-tight font-medium border-r flex flex-col justify-center items-center ",children:e.jsx("p",{className:"text-[18px]",children:s==null?void 0:s.grade})}),e.jsx("div",{className:" flex-1 text-[12px] px-2 leading-tight font-medium border-r pt-1 normal-case flex justify-center items-center",children:e.jsx("p",{className:`
                          ${(s==null?void 0:s.grade)==="A1"?"text-green-600":(s==null?void 0:s.grade)==="B2"||(s==null?void 0:s.grade)==="B3"?"text-purple-800":(s==null?void 0:s.grade)==="C4"||(s==null?void 0:s.grade)==="C5"||(s==null?void 0:s.grade)==="C6"?"text-gray-600":(s==null?void 0:s.grade)==="D7"?"text-purple-600":(s==null?void 0:s.grade)==="E8"?"Poor Pass":(s==null?void 0:s.grade)==="F9"||(s==null?void 0:s.grade)==="F"?"text-red-500":null}
                          `,children:(s==null?void 0:s.grade)==="A1"?"Execellent":(s==null?void 0:s.grade)==="B2"||(s==null?void 0:s.grade)==="B3"?"Very Good":(s==null?void 0:s.grade)==="C4"||(s==null?void 0:s.grade)==="C5"||(s==null?void 0:s.grade)==="C6"?"Credit":(s==null?void 0:s.grade)==="D7"?"Pass":(s==null?void 0:s.grade)==="E8"?"Poor Pass":(s==null?void 0:s.grade)==="F9"||(s==null?void 0:s.grade)==="F"?"Fail":null})})]},m-(s==null?void 0:s._id))})})]})}),e.jsxs("main",{className:"grid grid-cols-1 sm:grid-cols-4 my-2",children:[e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"No. of subject taken"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:(W=L.sortBy((J=c==null?void 0:c.result)==null?void 0:J.filter(s=>(a==null?void 0:a.classAssigned)==="JSS 1A"?(s==null?void 0:s.subject)!=="Diction":!0),"subject"))==null?void 0:W.length})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"No. of subject passed"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:k})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Attendance Performance"}),e.jsx("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:c==null?void 0:c.attendance})]}),e.jsxs("div",{className:" border p-2 ",children:[e.jsx("h1",{className:"uppercase text-[12px] font-semibold",children:"Percenatge score"}),e.jsxs("h1",{className:"uppercase text-[12px] font-normal -mt-[2px]",children:[E.toFixed(2),"%"]})]})]}),e.jsxs("main",{className:"flex justify-center text-[12px] gap-2",children:[e.jsx("div",{className:"border-r pr-2 ",children:e.jsxs("h1",{children:["Class Avarage:"," ",e.jsxs("span",{className:"font-semibold",children:[(((h==null?void 0:h.map(s=>s==null?void 0:s.score).reduce((s,m)=>s+m,0))/((p==null?void 0:p.length)*100)*100+(p==null?void 0:p.map(s=>s==null?void 0:s.score).reduce((s,m)=>s+m,0))/((p==null?void 0:p.length)*100)*100)/2).toFixed(2),"%"]})]})}),e.jsx("div",{className:"border-r pr-2 ",children:e.jsxs("h1",{children:["Class Highest:"," ",e.jsxs("span",{className:"font-semibold",children:[((h==null?void 0:h.map(s=>s==null?void 0:s.score).reduce((s,m)=>s+m,0))/((p==null?void 0:p.length)*100)*100).toFixed(2),"%"]})]})}),e.jsx("div",{className:"border-r pr-2 ",children:e.jsxs("h1",{children:["Class lowest:"," ",e.jsxs("span",{className:"font-semibold",children:[((p==null?void 0:p.map(s=>s==null?void 0:s.score).reduce((s,m)=>s+m,0))/(p.length*100)*100).toFixed(2),"%"]})]})})]}),e.jsxs("main",{className:" flex-col mt-2 ",children:[e.jsx("div",{className:"my-2 px-20",children:e.jsx("hr",{})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("p",{className:"font-medium",children:"ACADEMIC PERFORMANCE INSIGHT/SUBJECT"}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 shadow-inner"}),e.jsx("p",{className:"text-[12px] font-medium",children:"Class Lowest"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 shadow-inner"}),e.jsx("p",{className:"text-[12px] font-medium",children:"Class Highest"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-black shadow-inner"}),e.jsx("p",{className:"text-[12px] font-medium",children:"My Score"})]})]})]})]}),e.jsx("main",{className:"mt-5",children:e.jsx("div",{className:"bg-slate-50 flex-wrap h-[100px] flex items-end pb-2 ",children:(q=c==null?void 0:c.result)==null?void 0:q.map((s,m)=>{var w,j;return e.jsx(ns,{low:(w=p[m])==null?void 0:w.score,max:(j=h[m])==null?void 0:j.score,subject:s==null?void 0:s.subject,score:(s==null?void 0:s.test1)+s.test2+(s==null?void 0:s.test3)+s.test4+s.exam},m)})})}),e.jsxs("main",{className:"mt-2",children:[e.jsx("p",{className:"font-semibold uppercase text-[12px] mb-2",children:"Psychometric Test Grading"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 bg-slate-50 border min-h-20",children:[e.jsx("p",{className:"p-2 uppercase font-semibold text-[12px] bg-black text-white",children:"Soft skill"}),e.jsxs("div",{className:"px-2 w-full border-b h-[30px] flex items-center text-[12px] uppercase ",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center",children:"S/N"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"SKill"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:"Rating"})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"1"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"communication"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(Y=c==null?void 0:c.softSkill[0])==null?void 0:Y.communication})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"2"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"leadership"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(X=c==null?void 0:c.softSkill[0])==null?void 0:X.leadership})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"3"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"punctuality"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(Q=c==null?void 0:c.softSkill[0])==null?void 0:Q.punctuality})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"4"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"empathy"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(Z=c==null?void 0:c.softSkill[0])==null?void 0:Z.empathy})]})]}),e.jsxs("div",{className:"flex-1 bg-red-50 min-h-10 m-2",children:[e.jsx("p",{className:"p-2 uppercase font-semibold text-[12px] bg-black text-white",children:"People Skill"}),e.jsxs("div",{className:"px-2 w-full border-b h-[30px]  flex items-center text-[12px] uppercase border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center",children:"S/N"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"SKill"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:"Rating"})]}),e.jsxs("div",{className:"px-2 w-full h-[30px] flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"1"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"Confidence"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(x=c==null?void 0:c.peopleSkill[0])==null?void 0:x.confidence})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"2"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"hardworking"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(y=c==null?void 0:c.peopleSkill[0])==null?void 0:y.hardworking})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"3"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"presentational"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(T=c==null?void 0:c.peopleSkill[0])==null?void 0:T.presentational})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center pl-2",children:"4"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"resilient"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(je=c==null?void 0:c.peopleSkill[0])==null?void 0:je.resilient})]})]}),e.jsxs("div",{className:"flex-1 bg-green-50 min-h-10 col-span-1 sm:col-span-3 xl:col-span-1 m-2 ",children:[e.jsx("p",{className:"p-2 uppercase font-semibold text-[12px] bg-black text-white",children:"Physical Skill"}),e.jsxs("div",{className:"px-2 w-full border-b border-x h-[30px]  flex items-center text-[12px] uppercase ",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center",children:"S/N"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"SKill"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:"Rating"})]}),e.jsxs("div",{className:"px-2 w-full h-[30px]  flex items-center text-[12px] uppercase border-b border-x",children:[e.jsx("p",{className:"w-[30px] h-full border-r flex items-center",children:"1"}),e.jsx("p",{className:"flex-1 h-full border-r ml-2 flex items-center",children:"sportship"}),e.jsx("p",{className:"w-[60px] h-full ml-2 flex items-center",children:(ue=c==null?void 0:c.physicalSkill[0])==null?void 0:ue.sportship})]})]})]})]}),e.jsxs("div",{className:" grid grid-cols-1 md:grid-cols-2 text-[12px] mt-2",children:[e.jsxs("div",{className:"border mr-3 p-2",children:[e.jsx("p",{className:"font-semibold",children:"Principal's Comment"}),e.jsx("p",{className:"my-2 border min-h-[40px] p-2 mb-5",children:c==null?void 0:c.adminComment}),e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("p",{className:"font-semibold",children:[t==null?void 0:t.name," ",t==null?void 0:t.name2]}),e.jsx("p",{className:"text-[10px]",children:"Principal"}),e.jsx("div",{className:"flex-1"}),e.jsx("p",{children:B(c==null?void 0:c.createdAt).format("lll")})]}),e.jsx("div",{className:"w-[160px] h-[80px] border",children:e.jsx("img",{src:t==null?void 0:t.signature,className:"w-full h-full object-contain"})})]})]}),e.jsxs("div",{className:"border mr-3 p-2",children:[e.jsx("p",{className:"font-semibold",children:"Class Teacher's Comment"}),e.jsxs("p",{className:"my-2 border min-h-[40px] p-2 mb-5",children:[" ",c==null?void 0:c.classTeacherComment]}),e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("p",{className:"font-semibold",children:f==null?void 0:f.staffName}),e.jsx("p",{className:"text-[10px]",children:"Class Teacher"}),e.jsx("div",{className:"flex-1"}),e.jsx("p",{children:B(c==null?void 0:c.createdAt).format("lll")})]}),e.jsx("div",{className:"w-[160px] h-[80px] border",children:e.jsx("img",{src:f==null?void 0:f.signature,className:"w-full h-full object-contain"})})]})]})]})]})})})]})]})},ns=({subject:a,score:i,low:r,max:o})=>{var c;const{studentInfo:d}=Oe(),{gradeData:f}=ce(d==null?void 0:d._id),{schoolInfo:n}=ke(d==null?void 0:d.schoolIDs);Se(d==null?void 0:d.presentClassID);const{subjectInfo:b}=ze("subjectID");let v=(c=f==null?void 0:f.reportCard)==null?void 0:c.find(g=>{var t,N;return g.classInfo===`${b==null?void 0:b.designated} session: ${(t=n[0])==null?void 0:t.year}(${(N=n[0])==null?void 0:N.presentTerm})`});return v==null||v.result.find(g=>g.subject===(b==null?void 0:b.subjectTitle)),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-1 border-r px-6",children:[e.jsx("div",{className:"h-[80px] bg-red-500 w-3",style:{height:`${r/100*70}px`}}),e.jsx("div",{className:"h-[80px] bg-black w-3",style:{height:`${i/100*70}px`}}),e.jsx("div",{className:"h-[80px] bg-green-500 w-3",style:{height:`${o/100*70}px`}})]}),e.jsx("p",{className:"text-[8px] mt-1 font-semibold text-center",children:a.slice(0,20)})]})};document.title="class room Detail's Page";const ms=()=>{const{classID:a}=ie(),{readSubject:i}=ve(a);return e.jsx("div",{className:"",children:(i==null?void 0:i.length)>0?e.jsx("div",{className:"mt-1 w-full gap-2 grid grid-cols-1 lg:grid-cols-2  xl:grid-cols-3",children:i==null?void 0:i.map(r=>e.jsxs("div",{className:"bg-white border flex flex-col rounded-2xl pb-2 min-h-[200px] px-4 pt-4",children:[e.jsxs("div",{className:"mt-3 flex justify-between items-center font-bold",children:[e.jsx("p",{children:r==null?void 0:r.subjectTitle}),e.jsx(de,{to:`/admin-test-exam-grade/${r._id}`,className:"w-8 h-8 transition-all duration-300 rounded-full hover:bg-slate-50 cursor-pointer flex justify-center items-center",children:e.jsx(Qe,{className:"hover:text-blue-900"})})]}),e.jsx("div",{className:"flex",children:e.jsx("p",{className:"text-[12px] bg-slate-100 rounded-sm py-2 pl-1 shadow-sm pr-4 mb-5",children:"compulsory"})}),e.jsx("div",{className:"flex-1"}),e.jsxs("p",{className:"text-[13px] font-medium",children:["Subject Teacher Name: ",e.jsx("span",{})]}),e.jsx("div",{className:"flex mb-4 gap-2 flex-wrap",children:e.jsx("div",{className:"text-blue-950  rounded-mlg mt-1 px-0 border-t font-medium py-2 text-[17px] ",children:r==null?void 0:r.subjectTeacherName})})]},r._id))}):e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-1 mt-3",children:[e.jsx(oe,{size:13}),e.jsx("p",{className:"mt-3 text-[12px] font-medium",children:"No Subject added yet"})]})})})},hs=({isOpen:a,onClose:i,children:r})=>a?e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-lg lg:w-full w-[90%] max-w-sm h-[498px] flex flex-col items-center justify-around",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 bg-gray-500 text-white w-6 h-6 flex items-center justify-center rounded-full focus:outline-none",children:"X"}),r]})}):null,os=({props:a})=>{var r;const{teacherDetail:i}=Ce(a);return e.jsxs("div",{className:"flex gap-2 mt-1 items-start  ",children:[e.jsx("img",{className:"w-10 h-10 object-cover rounded-full",src:i!=null&&i.avatar?i==null?void 0:i.avatar:ye}),e.jsxs("p",{children:[e.jsx("p",{className:"m-0 leading-tight text-[14px] font-bold",children:i!=null&&i.staffName?i==null?void 0:i.staffName:"Hasn't been assigned"}),e.jsxs("p",{className:"text-[12px] mt-2 flex items-center gap-1",children:[e.jsx("span",{className:"font-bold text-[15px]",children:(r=i==null?void 0:i.staffRating)==null?void 0:r.toFixed(2)})," "]})]})]})},ps=()=>{var U,K,G,J,W,q,Y,X,Q,Z;const{classID:a}=ie(),{dataID:i}=He(),{classroom:r}=Ue(a),o=Ke(),[d,f]=u.useState(""),[n,b]=u.useState(!1),[v,c]=u.useState(""),[g,t]=u.useState(""),[N,k]=u.useState(""),E=()=>b(!0),_=()=>b(!1),C=()=>{Ze(i,a,{class1stFee:v,class2ndFee:g,class3rdFee:N}).then(x=>{var y,T;x.status===201?S.success("class fee updated"):S.error(`${(T=(y=x==null?void 0:x.response)==null?void 0:y.data)==null?void 0:T.messgae}`)}),_()},{schoolTeacher:l}=Ge(),[h,p]=u.useState(""),A=()=>{document.startViewTransition?document.startViewTransition(()=>{o(Ne(!1))}):o(Ne(!1))},I=()=>{Ie(i,{subjectTeacherName:h,subjectTitle:d,designated:r==null?void 0:r.className}).then(x=>{var y,T;x.status===201?(D(`api/view-class-info/${a}`),S.success("class teacher updated"),A()):(S.error(`${(T=(y=x==null?void 0:x.response)==null?void 0:y.data)==null?void 0:T.messgae}`),A())})},xe=()=>{es(i,a,{classTeacherName:h}).then(x=>{var y,T;x.status===201?(D(`api/view-classrooms/${a}`),S.success("class teacher updated"),A()):(S.error(`${(T=(y=x==null?void 0:x.response)==null?void 0:y.data)==null?void 0:T.messgae}`),A())})},{data:$}=me(),{mainAttendance:F}=Je(a),[V,H]=u.useState(!1),[M,O]=u.useState(!1),[ee,se]=u.useState(""),{classStudents:P}=we(a);P==null||P.students,(U=P==null?void 0:P.students)==null||U.sort((x,y)=>{var T;return(T=x.studentLastName)==null?void 0:T.localeCompare(y.studentLastName)}),u.useRef(null),u.useRef(null);const{toPDF:ne,targetRef:te}=Fe({filename:`${r==null?void 0:r.className}-${B(Date.now()).format("lll")}.pdf`,page:{orientation:"portrait"}}),[z,ae]=u.useState(!1);return e.jsxs("div",{className:"text-blue-950",children:[e.jsx(We,{name:"Class room Details",back:!0}),e.jsx(he,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{children:["Class: ",r==null?void 0:r.className," "]}),e.jsx("span",{className:"text-[12px] bg-red-500 text-white px-4 py-1 mb-10 rounded-[4px] cursor-pointer",onClick:()=>{document.startViewTransition?document.startViewTransition(()=>{O(!M)}):O(!M)},children:"Edit className"}),e.jsx(de,{to:`/class-broad-sheet-result-approve/${a}`,className:"text-[12px] ml-2 bg-orange-500 text-white px-4 py-1 mb-10 rounded-[4px] cursor-pointer",children:"View class Broad sheet"}),e.jsx("div",{children:M?e.jsx("div",{className:`absolute top-[9%] z-10 \r
                h-[200px] w-[100%] sm:w-[120%] md:w-[60%] rounded-md pr-10 bg-blue-500 py-4\r
                `,style:{background:"rgba(252, 254, 255, 0.45)",backdropFilter:" blur( 4px )"},children:e.jsxs("div",{className:"z-20",children:[e.jsx("div",{className:"flex w-full",children:e.jsx(ge,{className:"flex-1 mr-1 text-white text-[18px] placeholder:text-gray-400 ",defaultValue:r==null?void 0:r.className,value:r==null?void 0:r.className,onChange:x=>{se(x.target.value)}})}),e.jsx("div",{children:e.jsx(R,{name:`${V?" Loading":"Change Class Name"}`,icon:V?e.jsx(qe,{color:"color",size:18,className:"mb-[0.12rem]"}):e.jsx(Ye,{}),className:` bg-blue-950 transition-all duration-300 ${V&&"h-12"}`,onClick:()=>{H(!0),Xe($==null?void 0:$._id,a,ee).then(()=>{S.success("class name Updated successfully"),H(!1),O(!1),D(`api/view-classrooms/${a}`)})}})})]})}):e.jsx("div",{className:"text-[12px] leading-4 text-[gray] mb-4 mr-8 mt-1",children:"By clicking the above, you'll be editing the class name"})}),e.jsxs("div",{className:"w-full text-blue-950 md:h-[90px] h-[70px] rounded-lg border flex justify-between overflow-hidden mt-5",children:[e.jsxs("div",{className:"bg-blue-950 text-white w-[160px] md:w-[300px] px-4 py-2 rounded-lg ",children:[e.jsx("div",{className:"md:text-[17px] text-[10px]",children:"Total Number of Students:"}),e.jsxs("div",{className:"font-medium md:text-[27px] text-[14px] mt-[5px]",children:[(K=r==null?void 0:r.students)==null?void 0:K.length," ",e.jsx("span",{className:"md:text-[27px] text-[14px]",children:"Students"})]})]}),e.jsxs("div",{className:" px-4 py-1 rounded-lg text-center flex items-end flex-col",children:[e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"mr-0 md:text-[15px] text-[12px] font-semibold",children:"Manage/Approve class Action"}),e.jsx("p",{className:"font-medium"})]})]}),e.jsx("div",{className:"my-6 border-t"}),e.jsxs("div",{className:"mt-6 w-full min-h-[80px] pb-4 bg-slate-50 rounded-lg border pt-2 px-4",children:[e.jsxs("div",{className:"px-3 opacity-100 rounded-md bg-orange-400 text-white mb-2 py-2 md:flex md:justify-between md:items-center",children:[e.jsxs("div",{className:"flex gap-4 font-normal ml-[12px] md:ml-0 mb-[10px] md:mb-0",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-normal text-[15px]",children:"First Term"}),e.jsxs("p",{className:"font-bold",children:["",(G=r==null?void 0:r.class1stFee)==null?void 0:G.toLocaleString()]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-normal text-[15px]",children:"Second Term"}),e.jsxs("p",{className:"font-bold",children:["",(J=r==null?void 0:r.class2ndFee)==null?void 0:J.toLocaleString()]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-normal text-[15px]",children:"Third Term"}),e.jsxs("p",{className:"font-bold",children:["",(W=r==null?void 0:r.class3rdFee)==null?void 0:W.toLocaleString()]})]})]}),e.jsx("button",{className:"btn text-blue-950 bg-white hover:bg-blue-50 transition-all duration-300 px-8 uppercase text-[15px]",onClick:E,children:"Update Class Fee"}),e.jsxs(hs,{isOpen:n,onClose:_,className:"p-10 bg-white rounded-lg shadow-xl max-w-xl w-full mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 text-center",children:"Class Fee Update"}),e.jsx("p",{className:"text-gray-600 mb-10 text-center",children:"By doing this you are about to update this class fee"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:v,onChange:x=>c(x.target.value),className:"outline-none p-2 h-14 w-[300px] text-[14px] text-gray-800 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 transition",placeholder:"Enter 1st Term Fee"})}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:g,onChange:x=>t(x.target.value),className:"outline-none p-2 h-14 w-[300px] text-[14px] text-gray-800 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 transition",placeholder:"Enter 2nd Term Fee"})}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:N,onChange:x=>k(x.target.value),className:"outline-none p-2 h-14 w-[300px] text-[14px] text-gray-800 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 transition",placeholder:"Enter 3rd Term Fee"})})]}),e.jsx("div",{className:"mt-10 flex justify-center",children:e.jsx("button",{onClick:C,className:"bg-blue-950 text-white px-8 py-3 rounded-lg text-[16px] font-semibold hover:bg-blue-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"Update Fees"})})]})]}),e.jsx("p",{children:"Manage Class Teacher: "}),e.jsxs("p",{className:"text-[13px] flex items-center font-bold",children:["Class teacher is responsible for day to day activities of the class"," ",e.jsx("span",{className:"font-bold flex items-center gap-1"})]}),e.jsx("div",{className:"mt-5 text-[13px] font-medium",children:e.jsxs("div",{className:"mt-5 text-[13px] font-medium",children:[e.jsx("label",{htmlFor:"assign_teacher",className:" my-3 text-blue-500 transition-all duration-300 hover:text-blue-600 cursor-pointer ",children:"+ Assign class Teacher"}),e.jsx("div",{className:"mt-3"}),e.jsx("input",{type:"checkbox",id:"assign_teacher",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md",role:"dialog",children:[e.jsxs("div",{className:"modal-box  rounded-md bg-white",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Assigning Teacher to this class"}),e.jsx("label",{htmlFor:"assign_teacher",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(re,{})})]}),e.jsx("hr",{}),e.jsxs("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Please note that this teacher you're about to assign to this class will exhibit all feature, roles and previlage to supervise this class.",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Teacher: ",h]}),h&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(le,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Subject Teacher ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select border border-slate-200 text-[12px] py-0 px-2 w-full max-w-xs mb-3 bg-white",value:h,onChange:x=>{p(x.target.value)},children:[e.jsx("option",{disabled:!0,defaultValue:"Select a Teacher",children:"Select a Teacher"}),(q=l==null?void 0:l.staff)==null?void 0:q.map((x,y)=>e.jsx("option",{value:x==null?void 0:x.staffName,children:x==null?void 0:x.staffName},y))]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:h!==""?e.jsx("label",{htmlFor:"assign_teacher",className:`${($==null?void 0:$.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} text-white px-8 py-3 rounded-md cursor-pointer`,onClick:xe,children:"Proceed"}):e.jsx(R,{name:"Can't Proceed",className:`bg-[lightgray] ${($==null?void 0:$.categoryType)==="Secondary"?"text-blue-950":"text-green-950"} mx-0 cursor-not-allowed`})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"assign_teacher",children:"Close"})]})]})}),e.jsx("div",{className:"text-[12px]",children:" class Teacher Assigned"}),e.jsx(os,{props:r==null?void 0:r.teacherID})]}),e.jsx("div",{className:"my-6 border-t"}),e.jsxs("div",{className:"w-full min-h-[180px] pb-10 bg-slate-50 rounded-lg border py-2 px-4",children:[e.jsxs("p",{children:["Manage Class Subject for ",r==null?void 0:r.className," "]}),e.jsx("p",{className:"text-[13px] font-bold",children:"Add/Remove Subjects for this class"}),e.jsxs("div",{className:"mt-5 text-[13px] font-medium",children:[e.jsx("label",{htmlFor:"assign_class_subject",className:" my-3 text-blue-500 transition-all duration-300 hover:text-blue-600 cursor-pointer "}),e.jsx("div",{className:"mt-5"}),e.jsx("input",{type:"checkbox",id:"assign_class_subject",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md",role:"dialog",children:[e.jsxs("div",{className:"modal-box  rounded-md",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Subject"}),e.jsx("label",{htmlFor:"assign_class_subject",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(re,{})})]}),e.jsx("hr",{}),e.jsxs("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Please note that by assigning this subject to this class, it automtically becomes one of the class must take suject.",e.jsx("br",{}),e.jsx("br",{}),"You are about to add this subject:"," ",d||"********"," to this class:"," ",r==null?void 0:r.className," and assigning it to: ",h]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Subject Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ge,{placeholder:"Enter the here: English",className:"mx-0 h-12 w-[100%]",value:d,onChange:x=>{f(x.target.value)}}),e.jsx("div",{className:"-mt-4 w-full gap-2 flex flex-col items-center",children:e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("label",{className:"font-medium text-[12px] mb-2",children:["Subject Teacher"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select border border-slate-200 text-[12px] py-0 px-2 w-full max-w-xs mb-3",value:h,onChange:x=>{p(x.target.value)},children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select a Teacher"}),(Y=l==null?void 0:l.staff)==null?void 0:Y.map((x,y)=>e.jsx("option",{value:x==null?void 0:x.staffName,children:x==null?void 0:x.staffName},y))]})]})})]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:d!==""&&h!==""?e.jsx("label",{htmlFor:"assign_class_subject",className:"bg-blue-950 text-white py-4 px-8 rounded-md cursor-pointer ",onClick:I,children:"Proceed"}):e.jsx(R,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"assign_class_subject",children:"Close"})]})]}),e.jsx(ms,{})]}),e.jsxs("div",{className:"mt-6 w-full min-h-[100px] pb-10 bg-slate-50 rounded-lg border py-2 px-4 ",children:[e.jsx("p",{children:"Top Performing student "}),e.jsxs("p",{className:"text-[13px]  flex items-center font-bold",children:["Here is the list of the top 5 performing student:"," "]}),e.jsx("div",{className:"flex gap-4 mt-5",children:e.jsx("div",{className:"w-full justify-center flex",children:e.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-1 mt-3",children:[e.jsx(oe,{size:13}),e.jsx("p",{className:"mt-3 text-[12px] font-medium",children:"No Student rated yet"})]})})})]}),e.jsxs("div",{className:"mt-6 w-full min-h-[100px] pb-10 bg-slate-50 rounded-lg border py-2 px-4 ",children:[e.jsx("p",{children:"Viewing Students"}),e.jsxs("p",{className:"text-[13px]  flex items-center font-bold",children:["Here are all the students in this class:"," "]}),e.jsx("div",{className:"flex gap-4 mt-5 overflow-x-auto",children:e.jsx(cs,{})})]}),e.jsx("div",{className:"my-4",children:"view All Result for Printing"}),e.jsxs("button",{onClick:()=>{ae(!z)},style:{padding:"8px 16px",color:"#fff",borderRadius:"4px",border:"none",cursor:"pointer"},className:"mb-5 bg-blue-950",children:[" ",z?"Viewing Student":"Print All Results"]}),z&&e.jsx("div",{ref:te,style:{height:"100%"},children:P==null?void 0:P.students.map(x=>e.jsx("div",{className:"result-card my-5",children:e.jsx(xs,{student:x})},x._id))}),e.jsxs("div",{className:"mt-6 w-full min-h-[100px] pb-10 bg-slate-50 rounded-lg border py-2 px-4 ",children:[e.jsxs("div",{className:"flex items-center w-full justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Viewing Class TimeTable"}),e.jsxs("p",{className:"text-[13px]  flex items-center font-bold",children:["Here are all the students in this class:"," "]})]}),e.jsx(as,{})]}),e.jsx("div",{className:"flex gap-4 mt-5 h-[450px]",children:e.jsx(ss,{props:a})}),e.jsxs("div",{className:"mt-6 w-full min-h-[60px] py-5 bg-slate-50 rounded-lg border  px-4 ",children:[e.jsxs("p",{className:"mb-2",children:["Attendance Record:"," ",e.jsxs("span",{className:"font-medium",children:[(((X=F==null?void 0:F.attendance)==null?void 0:X.filter(x=>(x==null?void 0:x.present)===!0).length)/((Q=F==null?void 0:F.attendance)==null?void 0:Q.length)*100).toFixed(2),"%"]})]}),e.jsx("div",{className:"w-full flex gap-1",children:e.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:(Z=F==null?void 0:F.attendance)==null?void 0:Z.map(x=>e.jsx("div",{className:"tooltip",datatype:`${x.present?"Present":"Absent"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-[3px] border ${x!=null&&x.present?"bg-green-500":"bg-white"}`})}))})})]})]})]})};export{ps as default};
