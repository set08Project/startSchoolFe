import{o,cd as w,bP as N,aF as f,r as k,ce as y,j as s,k as z,x as r,cf as _,m as $,L as h,aG as b,aT as I,Q as L}from"./index-C_ozXG6-.js";import{d as M}from"./dummy-BrifSwra.js";import{P as m}from"./index-DuXmGnA9.js";import{b as H}from"./index-DzQFJI6A.js";import{U as P}from"./index-BVLuydKr.js";document.title="Viewing Article";const S=()=>{const{view:l}=o(),{oneArticle:t}=w(l),{teacherInfo:i}=N(),{allArticle:n}=f(t==null?void 0:t.schoolID),a=n==null?void 0:n.filter(e=>e.studentID===(t==null?void 0:t.studentID));let d=t==null?void 0:t.like,x=d==null?void 0:d.some(e=>e===(i==null?void 0:i._id)),c=0;return x?c=(d==null?void 0:d.length)-1:c=d==null?void 0:d.length,k.useEffect(()=>{y(l,i==null?void 0:i._id)},[]),s.jsxs("div",{children:[s.jsx(z,{name:document.title}),s.jsx("div",{className:"w-full flex justify-center",children:s.jsxs("div",{className:"space-y-4 md:w-[95%]",children:[s.jsx("div",{className:"text-[28px] text-black font-bold capitalize leading-tight",children:s.jsx("strong",{children:t==null?void 0:t.desc})}),s.jsxs("div",{className:"flex items-center gap-4 text-black font-semibold",children:[s.jsx("div",{className:"",children:s.jsx("img",{src:t!=null&&t.avatar?t==null?void 0:t.avatar:M,alt:"",className:"avatar border rounded-full h-[50px] w-[50px] object-cover"})}),s.jsxs("div",{children:[s.jsx("div",{children:t!=null&&t.student?t==null?void 0:t.student:"s"}),s.jsxs("div",{className:"",children:[s.jsx("span",{className:"text-zinc-500 text-[12px]",children:"Published:"})," ",s.jsx("span",{className:"capitalize  text-[12px]",children:r(t==null?void 0:t.createdAt).fromNow()})]})]})]}),s.jsx("div",{className:"w-full text-black grid grid-cols-1  mt-20",dangerouslySetInnerHTML:{__html:t==null?void 0:t.content}}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("div",{className:"mt-32",children:s.jsx("hr",{})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative flex",onClick:()=>{_(l,i==null?void 0:i._id).then(()=>{$(`api/viewing-one-article/${l}`)})},children:[s.jsx(m,{className:"cursor-pointer absolute "}),s.jsx(m,{className:"text-red-500 cursor-pointer animate-ping opacity-40 absolute"}),s.jsxs("span",{className:"text-[12px] font-semibold ml-5",children:[" ",x&&"You"," ",c>=1?`${x?"and":""} ${c} person${c>1?"s":""} have loved this write up`:"have love this write up"]})]})}),s.jsx("div",{className:"mt-g32",children:s.jsx("hr",{})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[12px] font-semibold mb-5 underline",children:["More from ",t==null?void 0:t.student]}),s.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3  gap-4 ",children:a==null?void 0:a.map(e=>{var j,u,v,g;return s.jsxs(h,{to:`/view-articles/${e==null?void 0:e._id}`,className:"m-2 sm:w-[300px]",children:[s.jsx("img",{alt:"image",src:e==null?void 0:e.coverImage,className:"w-full  rounded-t-md sm:w-[300px] sm:h-[200px] object-cover border"}),s.jsxs("div",{className:"p-2 border-r border-l border-b",children:[s.jsxs("div",{className:"flex mt-2 gap-2 mb-3",children:[s.jsx("img",{alt:"image",src:e==null?void 0:e.avatar,className:"w-[40px] h-[40px] rounded-[50%] object-cover border"}),s.jsxs("div",{children:[s.jsx("p",{className:"capitalize text-[12px] font-semibold",children:e==null?void 0:e.student}),s.jsx("p",{className:"text-[12px]",children:r(e==null?void 0:e.createdAt).fromNow()})]})]})," ",s.jsx("p",{className:"font-semibold leading-tight mb-4",children:e==null?void 0:e.desc}),s.jsx("p",{className:"text-[14px] mb-5",children:((j=e==null?void 0:e.title)==null?void 0:j.length)>60?`${(u=e==null?void 0:e.title)==null?void 0:u.slice(0,60)}...`:e==null?void 0:e.title}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(m,{}),s.jsx("span",{className:"font-semibold text-[12px]",children:(v=e==null?void 0:e.like)==null?void 0:v.length})]}),s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(b,{}),s.jsx("span",{className:"font-semibold text-[12px]",children:(g=e==null?void 0:e.view)==null?void 0:g.length})]})]})]})]},e._id)})})]})]})})]})};document.title="Articles";const R=()=>{I();const{view:l}=o(),{teacherInfo:t}=N(),{allArticle:i}=f(t==null?void 0:t.schoolIDs),n=()=>Math.floor(Math.random()*4+2);return s.jsx("div",{children:l?s.jsx(S,{}):s.jsxs(s.Fragment,{children:[s.jsx(L,{name:document.title}),s.jsx("div",{className:"w-full flex justify-end",children:s.jsx(h,{to:"/create-article",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(H,{size:25}),s.jsx("p",{className:"text-[12px] font-bold text-blue-950",children:"Create New Thought"})]})})}),s.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-10 gap-4",children:i&&(i==null?void 0:i.map(a=>{var d,x,c,e;return s.jsx(h,{to:`${a==null?void 0:a._id}`,children:s.jsxs("div",{className:"card rounded-md bg-white border text-zinc-600 cursor-pointer hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mt-[-10px] text-[15px] font-medium flex gap-3 ",children:[s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(b,{}),s.jsx("p",{className:"text-[12px]",children:(d=a==null?void 0:a.view)==null?void 0:d.length})]}),s.jsxs("div",{className:"flex items-center gap-1 ",children:[s.jsx(m,{}),s.jsx("p",{className:"text-[12px]",children:(x=a==null?void 0:a.like)==null?void 0:x.length})]})]}),s.jsx("h2",{className:"card-title flex justify-between mt-[5px]",children:s.jsx("div",{className:"text-nowrap overflow-ellipsis overflow-hidden whitespace-nowrap ",children:a==null?void 0:a.desc})}),s.jsxs("p",{className:"mt-[-10px] text-[10px] font-medium",children:["Writen by ",a==null?void 0:a.student]}),s.jsxs("p",{className:"text-[13px] leading-tight",children:[((c=a==null?void 0:a.title)==null?void 0:c.length)>60?(e=a==null?void 0:a.title)==null?void 0:e.slice(0,60):a==null?void 0:a.title,"..."]}),s.jsxs("div",{className:"flex justify-between gap-4 items-center h-4",children:[s.jsx("div",{className:"text-[11px] font-medium capitalize ",children:r(a==null?void 0:a.createdAt).fromNow()}),s.jsxs("p",{className:"text-[10px] font-bold text-gray-400",children:[n(),"Mins Read"]})]})]}),s.jsx("figure",{children:s.jsx(P,{alt:"cover image",thumbhash:"1QcSHQRnh493V4dIh4eXh1h4kJUI",src:a==null?void 0:a.coverImage,autoSizes:!0,className:"w-full h-[200px] object-cover"})})]})})}))})]})})};export{R as default};
