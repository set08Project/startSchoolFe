import{bP as O,r as b,c4 as $e,ci as Te,c5 as G,j as e,I as Re,Q as _e,aq as L,c2 as P,cl as Pe,b0 as A,t as q,B as z,_ as B,e0 as Ae,m as F,e as C,c3 as H,e1 as Le,z as Oe,e2 as Ee}from"./index-C_ozXG6-.js";document.title="View Students Grades";const Ge=({props:s,el:n})=>{var x,t;const{gradeData:r}=P(s==null?void 0:s._id),{schoolInfo:l}=A(s==null?void 0:s.schoolIDs),{schoolAnnouncement:c}=H(s==null?void 0:s.schoolIDs);let a=(t=(x=r==null?void 0:r.reportCard.find(N=>{var v,f;return N.classInfo===`${s==null?void 0:s.classAssigned} session: ${(v=l==null?void 0:l.find(d=>(d==null?void 0:d.year)===(c==null?void 0:c.presentSession)))==null?void 0:v.year}(${(f=l==null?void 0:l.find(d=>(d==null?void 0:d.presentTerm)===(c==null?void 0:c.presentTerm)))==null?void 0:f.presentTerm})`}))==null?void 0:x.result)==null?void 0:t.find(N=>N.subject===(n==null?void 0:n.subjectTitle));return e.jsxs("div",{className:"w-[200px] border-r-2 border-blue-950 ",children:[e.jsxs("div",{className:"w-[260px] border-",children:[e.jsx("p",{className:"pl-1 font-bold text-[15px] capitalize ",children:a!=null&&a.subject?(a==null?void 0:a.subject.length)>21?a==null?void 0:a.subject.slice(0,21).concat("..."):a==null?void 0:a.subject:"Have't Entered"}),e.jsxs("div",{className:"pl-1 flex gap-1 mt-2 text-[10px] ",children:[e.jsx("p",{className:"w-[30px] border-r",children:"Test"}),e.jsx("p",{className:"w-[35px] border-r",children:"Exam"}),e.jsx("p",{className:"w-[35px] ",children:"Total"}),e.jsx("p",{className:"w-[35px] ",children:"Grade"})]})]}),e.jsxs("div",{className:"pl-1 flex gap-1 mt-2 text-[12px] ",children:[e.jsx("p",{className:"w-[30px] border-r",children:a!=null&&a.test4?a==null?void 0:a.test4:0}),e.jsx("p",{className:"w-[35px] border-r",children:a!=null&&a.exam?a==null?void 0:a.exam:0}),e.jsx("p",{className:"w-[35px] font-bold border-r",children:a!=null&&a.mark?a==null?void 0:a.mark:0}),e.jsx("p",{className:"w-[35px] font-bold",children:a!=null&&a.grade?a==null?void 0:a.grade:"Nill"})]})]})},qe=({props:s,i:n,oneClass:r})=>{var g;const{teacherInfo:l}=O(),{gradeData:c}=P(s==null?void 0:s._id),{subjectData:a}=G(r==null?void 0:r._id),{schoolInfo:x}=A(s==null?void 0:s.schoolIDs),[t,N]=b.useState(!1),[v,f]=b.useState(""),{schoolAnnouncement:d}=H(l==null?void 0:l.schoolIDs);let i=c==null?void 0:c.reportCard.find(u=>{var w,h;return u.classInfo===`${s==null?void 0:s.classAssigned} session: ${(w=x==null?void 0:x.find(j=>(j==null?void 0:j.year)===(d==null?void 0:d.presentSession)))==null?void 0:w.year}(${(h=x==null?void 0:x.find(j=>(j==null?void 0:j.presentTerm)===(d==null?void 0:d.presentTerm)))==null?void 0:h.presentTerm})`});return b.useState(`${i!=null&&i.classTeacherComment?i==null?void 0:i.classTeacherComment:""}`),console.log("reading",i),e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-28 px-4 my-2  overflow-hidden ${n%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[100px] border-r font-bold",children:n+1}),e.jsx("div",{className:"w-[250px] flex border-r",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:" mask mask-squircle w-14 h-14 rounded-md border object-cover",src:q}),e.jsxs("div",{className:"w-[180px] ",children:[" ",s==null?void 0:s.studentFirstName," ",s==null?void 0:s.studentLastName]})]})}),e.jsx("div",{className:"w-[100px] border-r",children:e.jsx(Ce,{props:s})}),e.jsx("div",{className:`w-[${(a==null?void 0:a.classSubjects.length)*270}px] border-r items-center flex`,children:e.jsx("div",{className:"flex gap-4",children:(g=L.sortBy(a==null?void 0:a.classSubjects,"subjectTitle"))==null?void 0:g.map(u=>e.jsx(Ge,{props:s,el:u}))})}),e.jsx("div",{className:"w-[100px] border-r",children:i==null?void 0:i.points}),e.jsx("div",{className:"w-[100px] border-r",children:i==null?void 0:i.grade}),e.jsx("div",{className:"w-[100px] border-r",children:e.jsx("input",{type:"text",className:"pl-2 w-[90%] h-[45px] border",placeholder:"70/100",defaultValue:i!=null&&i.attendance?i==null?void 0:i.attendance:"",value:v,onChange:u=>f(u.target.value)})}),e.jsx("div",{className:"w-[180px] border-r relative",children:e.jsx(z,{name:i!=null&&i.classTeacherComment?"Approve Result":t?"Loading":"Result Approved",icon:t&&e.jsx(B,{color:"white",size:20,className:"absolute left-7 top-5"}),className:`pl-4 py-3 w-[85%]  text-white ${i!=null&&i.attendance?"bg-black hover:bg-neutral-800 ":"bg-red-500 hover:bg-red-600 "} transition-all duration-300`,onClick:()=>{N(!0),Le(l==null?void 0:l._id,s==null?void 0:s._id,{attendance:v,teacherComment:i==null?void 0:i.classTeacherComment}).then(u=>{var w,h;N(!1),u.status===201?(F(`api/student-report-card/${s==null?void 0:s._id}`),C.success("Report Card Approved")):C.error(`${(h=(w=u==null?void 0:u.response)==null?void 0:w.data)==null?void 0:h.message}`)})}})})]})},Ce=({props:s})=>{var r,l,c,a,x,t,N,v;const{mainStudentAttendance:n}=Oe(s==null?void 0:s._id);return e.jsx("div",{children:((l=(r=n==null?void 0:n.data)==null?void 0:r.attendance)==null?void 0:l.filter(f=>f.present===!0).length)/((a=(c=n==null?void 0:n.data)==null?void 0:c.attendance)==null?void 0:a.length)*100?e.jsxs("div",{children:[(((t=(x=n==null?void 0:n.data)==null?void 0:x.attendance)==null?void 0:t.filter(f=>f.present===!0).length)/((v=(N=n==null?void 0:n.data)==null?void 0:N.attendance)==null?void 0:v.length)*100).toFixed(2),"%"]}):e.jsx("p",{children:"0%"})})},ze=({props:s})=>e.jsx("div",{className:"w-[200px] border-r ",children:"subject Offered"}),Be=({props:s,i:n})=>{var M,V,I,K,U,Q,W,J,X,Y,Z,D,ee,se,le,ae,ce,ie,te,de,ne,re,xe,me,oe,he,je,ve,Ne,be,ue,fe,we,ge,pe,Se;const{teacherInfo:r}=O(),{gradeData:l}=P(s==null?void 0:s._id),{schoolInfo:c}=A(s==null?void 0:s.schoolIDs),[a,x]=b.useState(!1),[t,N]=b.useState("10"),[v,f]=b.useState("10"),[d,i]=b.useState("10"),[g,u]=b.useState("10"),[w,h]=b.useState("10"),[j,p]=b.useState("10"),[m,S]=b.useState("10"),[k,ye]=b.useState("10"),[E,ke]=b.useState("10"),{schoolAnnouncement:$}=H(r==null?void 0:r.schoolIDs);let T=l==null?void 0:l.reportCard.find(o=>{var R,_;return o.classInfo===`${s==null?void 0:s.classAssigned} session: ${(R=c==null?void 0:c.find(y=>(y==null?void 0:y.year)===($==null?void 0:$.presentSession)))==null?void 0:R.year}(${(_=c==null?void 0:c.find(y=>(y==null?void 0:y.presentTerm)===($==null?void 0:$.presentTerm)))==null?void 0:_.presentTerm})`});return e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-28 px-4 my-2  overflow-hidden ${n%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[30px] border-r font-bold ",children:n+1}),e.jsx("div",{className:"w-[250px] flex border-r",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:" mask mask-squircle w-14 h-14 rounded-md border object-cover",src:q}),e.jsxs("div",{className:"w-[180px] ",children:[" ",s==null?void 0:s.studentFirstName," ",s==null?void 0:s.studentLastName]})]})}),e.jsxs("div",{className:"w-[420px] bg- border-r items-center flex",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Communication"}),e.jsx("input",{className:"w-16 h-10 border p-2  mr-16",placeholder:(V=(M=l==null?void 0:l.reportCard[0])==null?void 0:M.softSkill[0])!=null&&V.communication?(K=(I=l==null?void 0:l.reportCard[0])==null?void 0:I.softSkill[0])==null?void 0:K.communication:"Over 10",value:v,onChange:o=>f(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Leadership"}),e.jsx("input",{className:"w-16 h-10 border p-2 mr-6",placeholder:(Q=(U=l==null?void 0:l.reportCard[0])==null?void 0:U.softSkill[0])!=null&&Q.leadership?(J=(W=l==null?void 0:l.reportCard[0])==null?void 0:W.softSkill[0])==null?void 0:J.leadership:"Over 10",value:d,onChange:o=>i(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Punctuality"}),e.jsx("input",{className:"w-16 h-10 border p-2 mr-8",placeholder:(Y=(X=l==null?void 0:l.reportCard[0])==null?void 0:X.softSkill[0])!=null&&Y.punctuality?(D=(Z=l==null?void 0:l.reportCard[0])==null?void 0:Z.softSkill[0])==null?void 0:D.punctuality:"Over 10",value:g,onChange:o=>u(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Empathy"}),e.jsx("input",{className:"w-16 h-10 border p-2 ",placeholder:(se=(ee=l==null?void 0:l.reportCard[0])==null?void 0:ee.softSkill[0])!=null&&se.empathy?(ae=(le=l==null?void 0:l.reportCard[0])==null?void 0:le.softSkill[0])==null?void 0:ae.empathy:"Over 10",value:w,onChange:o=>h(o.target.value)})]})]}),e.jsxs("div",{className:"w-[420px] border-r items-center flex",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"ml-2 text-[9px] uppercase",children:"confidence"}),e.jsx("input",{className:"w-16 h-10 border p-2 ml-2 mr-6",placeholder:(ie=(ce=l==null?void 0:l.reportCard[0])==null?void 0:ce.peopleSkill[0])!=null&&ie.confidence?(de=(te=l==null?void 0:l.reportCard[0])==null?void 0:te.peopleSkill[0])==null?void 0:de.confidence:"over 10",value:t,onChange:o=>N(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Presentational"}),e.jsx("input",{className:"w-16 h-10 border p-2 mr-14",value:j,placeholder:(re=(ne=l==null?void 0:l.reportCard[0])==null?void 0:ne.peopleSkill[0])!=null&&re.presentational?(me=(xe=l==null?void 0:l.reportCard[0])==null?void 0:xe.peopleSkill[0])==null?void 0:me.presentational:"Over 10",onChange:o=>p(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Hardworking"}),e.jsx("input",{className:"w-16 h-10 border p-2 mr-10",value:m,placeholder:(he=(oe=l==null?void 0:l.reportCard[0])==null?void 0:oe.peopleSkill[0])!=null&&he.hardworking?(ve=(je=l==null?void 0:l.reportCard[0])==null?void 0:je.peopleSkill[0])==null?void 0:ve.hardworking:"Over 10",onChange:o=>S(o.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[9px] uppercase",children:"Resilient"}),e.jsx("input",{className:"w-16 h-10 border p-2 ",value:k,placeholder:(be=(Ne=l==null?void 0:l.reportCard[0])==null?void 0:Ne.peopleSkill[0])!=null&&be.resilient?(fe=(ue=l==null?void 0:l.reportCard[0])==null?void 0:ue.peopleSkill[0])==null?void 0:fe.resilient:"Over 10",onChange:o=>ye(o.target.value)})]})]}),e.jsx("div",{className:"w-[120px] border-r items-center flex",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"ml-2 text-[9px] uppercase",children:"Sportship"}),e.jsx("input",{className:"w-16 h-10 border p-2 ml-2 mr-6",value:E,placeholder:(ge=(we=l==null?void 0:l.reportCard[0])==null?void 0:we.physicalSkill[0])!=null&&ge.sportship?(Se=(pe=l==null?void 0:l.reportCard[0])==null?void 0:pe.physicalSkill[0])==null?void 0:Se.sportship:"Over 10",onChange:o=>ke(o.target.value)})]})}),e.jsx("div",{className:"w-[180px] border-r relative",children:e.jsx(z,{name:T!=null&&T.classTeacherComment?"Update Psychometric":a?"Loading":"Add Comment",icon:a&&e.jsx(B,{color:"white",size:20,className:"absolute left-7 top-5"}),className:`pl-4 py-3 w-[85%]  text-white ${T!=null&&T.psycho?"bg-black hover:bg-neutral-800 ":"bg-red-500 hover:bg-red-600 "} transition-all duration-300`,onClick:()=>{x(!0),v!==""&&t!==""&&k!==""&&g!==""&&d!==""&&w!==""&&j!==""&&E!==""&&m!==""?Ee(r==null?void 0:r._id,s==null?void 0:s._id,{communication:v,confidence:t,resilient:k,punctuality:g,leadership:d,hardworking:m,presentational:j,empathy:w,sportship:E}).then(o=>{var R,_;x(!1),o.status===201?(F(`api/student-report-card/${s==null?void 0:s._id}`),C.success("Report Card Report Noted")):C.error(`${(_=(R=o==null?void 0:o.response)==null?void 0:R.data)==null?void 0:_.message}`)}):C.error("Please give a REMARK")}})})]})},Ie=()=>{var u,w,h,j,p;const{teacherInfo:s}=O(),[n,r]=b.useState((u=s==null?void 0:s.classesAssigned[0])==null?void 0:u.classID),{oneClass:l}=$e(n),{classStudents:c}=Te(l==null?void 0:l._id),{subjectData:a}=G(l==null?void 0:l._id),x=c==null?void 0:c.students,t=x==null?void 0:x.sort((m,S)=>{var k;return(k=m.studentFirstName)==null?void 0:k.localeCompare(S.studentFirstName)}),[N,v]=b.useState(!0),[f,d]=b.useState(!1),[i,g]=b.useState(!1);return e.jsxs("div",{className:"",children:[e.jsx(Re,{position:"top-center",reverseOrder:!0}),e.jsx("div",{className:"mb-0"}),e.jsx(_e,{name:"Class Teacher Remark"}),e.jsxs("div",{className:"mt-10",children:[e.jsx("div",{className:"text-[12px] font-semibold",children:"Report Record for"}),e.jsx("select",{className:"select select-bordered  w-full max-w-xs mb-10 mt-2",value:n,onChange:m=>{r(m.target.value)},children:((w=s==null?void 0:s.classesAssigned)==null?void 0:w.length)>0?(h=s==null?void 0:s.classesAssigned)==null?void 0:h.map(m=>e.jsx("option",{value:m==null?void 0:m.classID,children:m==null?void 0:m.className})):e.jsx("option",{value:"No class Assigned yet",className:"text-black",children:"No class Assigned yet"})})]}),e.jsxs("div",{className:"flex uppercase text-[12px] gap-4 mb-5",children:[e.jsx("button",{className:`${N?"bg-red-500 text-white":"bg-slate-200"} rounded-md px-6 py-2 duration-300 transition-all`,onClick:()=>{g(!1),d(!1),v(!0)},children:"Teacher's Comments"}),e.jsx("button",{className:`${f?"bg-red-500 text-white":"bg-slate-200"} rounded-md px-6 duration-300 transition-all py-2`,onClick:()=>{d(!0),g(!1),v(!1)},children:"Psychometric"}),e.jsx("button",{className:`${i?"bg-purple-500 text-white":"bg-slate-200"} rounded-md px-6 duration-300 transition-all py-2`,onClick:()=>{g(!0),d(!1),v(!1)},children:"Mid Test"})]}),e.jsx("div",{className:"flex w-full justify-end"}),e.jsx("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",children:N?e.jsxs("div",{children:[e.jsxs("div",{className:"text-[gray] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",style:{width:`${1120+(a==null?void 0:a.classSubjects.length)*260}px`},children:[e.jsx("div",{className:"w-[100px] border-r",children:"Sequence"}),e.jsx("div",{className:"w-[250px] border-r",children:"student Info"}),e.jsx("div",{className:"w-[100px] border-r",children:"Student's Attendance Ratio"}),e.jsx("div",{className:`w-[${(a==null?void 0:a.classSubjects.length)*270}px] border-r`,children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex gap-4",children:(j=L.sortBy(a==null?void 0:a.classSubjects,"subjectTitle"))==null?void 0:j.map(m=>e.jsx(ze,{props:m}))})})}),e.jsx("div",{className:"w-[100px] border-r",children:"Total Points"}),e.jsx("div",{className:"w-[100px] border-r",children:"Grade"}),e.jsx("div",{className:"w-[100px] border-r",children:"Attendance"}),e.jsx("div",{className:"w-[180px] border-r",children:"Submit Report"})]}),e.jsx("div",{className:" overflow-hidden",style:{width:`${1120+(a==null?void 0:a.classSubjects.length)*260}px`},children:(t==null?void 0:t.length)>0?e.jsx("div",{children:t==null?void 0:t.map((m,S)=>e.jsx("div",{children:e.jsx(qe,{props:m,i:S,oneClass:l})},m))}):e.jsx("div",{children:"No student yet"})})]}):f?e.jsxs("div",{className:"w-[1400px] overflow-hidden",children:[e.jsxs("div",{className:" overflow-auto text-[gray] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",style:{},children:[e.jsx("div",{className:"w-[30px] border-r",children:"s/n"}),e.jsx("div",{className:"w-[220px] border-r",children:"student Info"}),e.jsxs("div",{className:"w-[420px] border-r px-1",children:[e.jsxs("p",{className:"font-semibold text-blue-950 text-[13px]",children:[" ","Soft Skill"]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("p",{children:"Communication"}),e.jsx("p",{children:"Leadership"}),e.jsx("p",{children:"Punctuality"}),e.jsx("p",{children:"Empathy"})]})]}),e.jsxs("div",{className:"w-[420px] border-r px-1",children:[e.jsx("p",{className:"font-semibold text-blue-950 text-[13px]",children:"People Skill"}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("p",{children:"confidence"}),e.jsx("p",{children:"Presentational"}),e.jsx("p",{children:"HardWorking"}),e.jsx("p",{children:"resilient"})]})]}),e.jsxs("div",{className:"w-[120px] border-r px-1",children:[e.jsxs("p",{className:"font-semibold text-blue-950 text-[13px]",children:[" ","Physical Skill"]}),e.jsx("div",{className:"flex gap-4 mt-4",children:e.jsx("p",{children:"Sportship"})})]}),e.jsx("div",{className:"w-[180px] border-r text-[16px] font-semibold mt-4",children:"Submit Record"})]}),e.jsx("div",{className:" overflow-hidden",style:{},children:(t==null?void 0:t.length)>0?e.jsx("div",{children:t==null?void 0:t.map((m,S)=>e.jsx("div",{children:e.jsx(Be,{props:m,i:S})},m))}):e.jsx("div",{children:"No student yet"})})]}):i?e.jsxs("div",{children:[e.jsxs("div",{className:"text-[gray] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",style:{width:`${1120+(a==null?void 0:a.classSubjects.length)*260}px`},children:[e.jsx("div",{className:"w-[100px] border-r",children:"Sequence"}),e.jsx("div",{className:"w-[250px] border-r",children:"student Info"}),e.jsx("div",{className:"w-[100px] border-r",children:"Student's Attendance Ratio now"}),e.jsx("div",{className:`w-[${(a==null?void 0:a.classSubjects.length)*200}px] border-r`,children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex gap-4",children:(p=L.sortBy(a==null?void 0:a.classSubjects,"subjectTitle"))==null?void 0:p.map(m=>e.jsx("div",{children:e.jsx(Me,{props:m})}))})})}),e.jsx("div",{className:"w-[100px] border-r",children:"Total Points"}),e.jsx("div",{className:"w-[100px] border-r",children:"Grade"}),e.jsx("div",{className:"w-[100px] border-r",children:"Attendance"}),e.jsx("div",{className:"w-[180px] border-r",children:"Submit Report"})]}),e.jsx("div",{className:" overflow-hidden",style:{width:`${1120+(a==null?void 0:a.classSubjects.length)*200}px`},children:(t==null?void 0:t.length)>0?e.jsx("div",{children:t==null?void 0:t.map((m,S)=>e.jsx("div",{children:e.jsx(Fe,{props:m,i:S,oneClass:l})},m))}):e.jsx("div",{children:"No student yet"})})]}):null})]})},Fe=({props:s,i:n,oneClass:r})=>{var w;const{teacherInfo:l}=O();P(s==null?void 0:s._id);const{gradeMidData:c}=Pe(s==null?void 0:s._id),{subjectData:a}=G(r==null?void 0:r._id),{schoolInfo:x}=A(s==null?void 0:s.schoolIDs),[t,N]=b.useState(!1),[v,f]=b.useState("");let d=c==null?void 0:c.reportCard.find(h=>{var j,p;return h.classInfo===`${s==null?void 0:s.classAssigned} session: ${(j=x[0])==null?void 0:j.year}(${(p=x[0])==null?void 0:p.presentTerm})`});const i=c==null?void 0:c.midReportCard.find(h=>{var j,p;return h.classInfo===`${s==null?void 0:s.classAssigned} session: ${(j=x[0])==null?void 0:j.year}(${(p=x[0])==null?void 0:p.presentTerm})`}),[g,u]=b.useState();return`${i!=null&&i.classTeacherComment?i==null?void 0:i.classTeacherComment:""}`,e.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-28 px-4 my-2  overflow-hidden ${n%2===0?"bg-slate-50":"bg-white"}`,children:[e.jsx("div",{className:"w-[100px] border-r font-bold",children:n+1}),e.jsx("div",{className:"w-[250px] flex border-r",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:" mask mask-squircle w-14 h-14 rounded-md border object-cover",src:q}),e.jsxs("div",{className:"w-[180px] ",children:[" ",s==null?void 0:s.studentFirstName," ",s==null?void 0:s.studentLastName]})]})}),e.jsx("div",{className:"w-[100px] border-r",children:e.jsx(Ce,{props:s})}),e.jsx("div",{className:`w-[${(a==null?void 0:a.classSubjects.length)*270}px] border-r items-center flex`,children:e.jsx("div",{className:"flex gap-4",children:(w=L.sortBy(a==null?void 0:a.classSubjects,"subjectTitle"))==null?void 0:w.map(h=>e.jsx("div",{children:e.jsx(He,{props:s,el:h,gradeMidData:c})}))})}),e.jsx("div",{className:"w-[100px] border-r",children:i==null?void 0:i.points}),e.jsx("div",{className:"w-[100px] border-r",children:i==null?void 0:i.grade}),e.jsx("div",{className:"w-[100px] border-r",children:e.jsx("input",{type:"text",className:"pl-2 w-[90%] h-[45px] border",placeholder:"70/100",defaultValue:d!=null&&d.attendance?d==null?void 0:d.attendance:"",value:v,onChange:h=>f(h.target.value)})}),e.jsx("div",{className:"w-[180px] border-r relative",children:e.jsx(z,{name:d!=null&&d.classTeacherComment?"Update Comment":t?"Loading":"Add Comment",icon:t&&e.jsx(B,{color:"white",size:20,className:"absolute left-7 top-5"}),className:`pl-4 py-3 w-[85%]  text-white ${d!=null&&d.classTeacherComment?"bg-black hover:bg-neutral-800 ":"bg-red-500 hover:bg-red-600 "} transition-all duration-300`,onClick:()=>{N(!0),g!==""?Ae(l==null?void 0:l._id,s==null?void 0:s._id,{attendance:v,teacherComment:g}).then(h=>{var j,p;N(!1),h.status===201?(F(`api/student-report-card/${s==null?void 0:s._id}`),C.success("Report Card Report Noted")):(N(!1),C.error(`${(p=(j=h==null?void 0:h.response)==null?void 0:j.data)==null?void 0:p.message}`))}):C.error("Please give a REMARK")}})})]})},He=({props:s,el:n,gradeMidData:r})=>{var a,x;P(s==null?void 0:s._id);const{schoolInfo:l}=A(s==null?void 0:s.schoolIDs);let c=(x=(a=r==null?void 0:r.midReportCard.find(t=>{var N,v;return t.classInfo===`${s==null?void 0:s.classAssigned} session: ${(N=l[0])==null?void 0:N.year}(${(v=l[0])==null?void 0:v.presentTerm})`}))==null?void 0:a.result)==null?void 0:x.find(t=>t.subject===(n==null?void 0:n.subjectTitle));return e.jsxs("div",{className:"w-[200px] border-r-2 border-blue-950 ",children:[e.jsxs("div",{className:"w-[200px] border-",children:[e.jsx("p",{className:"pl-1 font-bold text-[15px] capitalize ",children:c!=null&&c.subject?c==null?void 0:c.subject:"Have't Entered"}),e.jsxs("div",{className:"pl-1 flex gap-1 mt-2 text-[10px] ",children:[e.jsx("p",{className:"w-[35px] border-r",children:"Score"}),e.jsx("p",{className:"w-[35px] ",children:"Total"}),e.jsx("p",{className:"w-[35px] ",children:"Grade"})]})]}),e.jsxs("div",{className:"pl-1 flex gap-1 mt-2 text-[12px] ",children:[e.jsx("p",{className:"w-[35px] border-r",children:c!=null&&c.exam?c==null?void 0:c.exam:0}),e.jsx("p",{className:"w-[35px] font-bold border-r",children:c!=null&&c.mark?c==null?void 0:c.mark:0}),e.jsx("p",{className:"w-[35px] font-bold",children:c!=null&&c.grade?c==null?void 0:c.grade:"Nill"})]})]})},Me=({props:s})=>e.jsx("div",{className:"w-[200px] border-r ",children:"subject Offered"});export{Ie as default};
