import{aI as W,aJ as X,aq as Z,j as e,x as V,aK as ee,r as o,u as G,aL as te,e as N,m as A,N as se,aC as _,aM as ae,Q as ne,O as le,B as c,L as E,l as ie,a5 as I,U as O,aN as k,aO as oe,aP as re,aQ as ce,aR as z,aS as R}from"./index-BomD4pl1.js";import{A as F}from"./AddAnyItems-SfDZQlNM.js";/* empty css                    */import{S as de}from"./index-BYHu4tgg.js";import{G as B}from"./index-I0HW4zGt.js";import{I as me}from"./Input-CDwV7z8z.js";import{G as ue}from"./index-CWvt8OSr.js";import"./index-v5nPxpV_.js";import"./index-C9hVqbG3.js";/* empty css                         */const xe=()=>{var j,i,r;var l={infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0};const{schoolAnnouncement:m,mutate:p}=W(),{schoolEvent:u}=X();let s=(j=m==null?void 0:m.announcements)==null?void 0:j.slice(0,5),h=(i=u==null?void 0:u.events)==null?void 0:i.slice(0,5),g=[].concat(s,h);const d=(r=Z.shuffle(g))==null?void 0:r.slice(0,5),b=Array.from({length:2});return e.jsx("div",{className:"w-90% mx-7",children:(b==null?void 0:b.length)>0?e.jsx(de,{...l,children:d==null?void 0:d.map((a,n)=>e.jsxs("div",{className:"px-5",children:[e.jsx("h3",{className:"text-[30px] ",children:a==null?void 0:a.title}),e.jsxs("h3",{className:"text-[10px] mb-2 -mt-1 opacity-75 capitalize",children:[a==null?void 0:a.date," · ",a==null?void 0:a.status," · posted data:"," ",V(a==null?void 0:a.createdAt).fromNow()]}),e.jsx("h3",{className:"text-[13px] opacity-60 font-normal h-[60px] ",children:a==null?void 0:a.details})]},n))}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[e.jsx(ee,{}),e.jsx("p",{className:"text-[12px] mt-3 capitalize",children:"no Announcement or Event yet"})]})})},he=()=>{o.useState();const[l,m]=o.useState(),[p,u]=o.useState(),[s,h]=o.useState(),[f,g]=o.useState(),[d,b]=o.useState(),[j,i]=o.useState(!1),{data:r}=G(),a=async()=>{await te(r==null?void 0:r._id,{item:p,description:s,paymentCategory:f,amount:parseInt(l),paymentMode:d}).then(n=>{n.status===201?(N.success("Expense created successfully"),A(`api/read-term-daily-expense/${r==null?void 0:r._id}`)):N.error("something went wrong")}).finally(()=>{i(!1),b(""),u(""),g(""),h(""),m("")})};return e.jsxs("div",{children:[e.jsx("div",{className:"modal-action mx-2 w-[95%]",children:e.jsx("label",{htmlFor:"my_modal_expenses_modal",className:"py-2 px-6 w-full border rounded-md bg-slate-800 hover:bg-slate-900 text-[12px] text-white transition-all duration-300 cursor-pointer inline-block text-center",children:"Record Daily Expense"})}),e.jsx("input",{type:"checkbox",id:"my_modal_expenses_modal",className:"modal-toggle"}),e.jsx("div",{className:"modal modal-middle",children:e.jsx("div",{className:"modal-box bg-white flex flex-col",children:e.jsxs("div",{children:[e.jsxs("main",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold",children:"Name of Expense Item"}),e.jsx("input",{className:"h-[45px] text-[12px] px-2 w-full border rounded-md mb-2 ",placeholder:"A4 paper, Cleaning Agents etc",value:p,onChange:n=>{u(n.target.value)}})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold",children:"Description of the Expense Item"}),e.jsx("textarea",{className:"min-h-[100px] resize-none text-[12px] px-2 w-full border rounded-md mb-2 ",placeholder:"Description",value:s,onChange:n=>{h(n.target.value)}})]}),e.jsxs("div",{className:"flex flex-col mb-5",children:[e.jsx("label",{className:"font-semibold",children:"Expense Item Amount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{className:"h-[45px]  text-[12px] px-2 w-full border rounded-md mb-2 ",placeholder:"₦2000 etc",value:l,onChange:n=>{m(n.target.value)}}),e.jsxs("select",{className:"select select-bordered w-full max-w-xs",value:d,onChange:n=>{b(n.target.value)},children:[e.jsx("option",{selected:!0,children:"Expense Method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Transfer",children:"Transfer"})]}),e.jsxs("select",{className:"select select-bordered w-full max-w-xs",value:f,onChange:n=>{g(n.target.value)},children:[e.jsx("option",{selected:!0,children:"Expense Category"}),e.jsx("option",{value:"Cloths",children:"Cloths"}),e.jsx("option",{value:"Stationaries",children:"Stationaries"}),e.jsx("option",{value:"Books",children:"Books"}),e.jsx("option",{value:"Others",children:"Others"})]})]})]})]}),e.jsxs("main",{className:"flex gap-4 justify-center",children:[e.jsx("label",{htmlFor:"my_modal_expenses_modal",className:"uppercase  btn text-white py-4 px-6 bg-red-500 border hover:bg-red-600 scale-105 w-[200px]",children:"Cancel"}),e.jsx("label",{htmlFor:"my_modal_expenses_modal",className:"uppercase btn text-white py-4 px-6 bg-slate-800 hover:bg-slate-900 transition-all duration-300  scale-105 w-[200px]",onClick:a,children:"Enter Expense"})]})]})})})]})};document.title="Welcome Back Dashboard";const Ce=()=>{var $;const l=se(),m=_(t=>t.subjectToggled),p=_(t=>t.notice),u=_(t=>t.event),{data:s}=G(),{schoolSubject:h}=ae(),[f,g]=o.useState(""),[d,b]=o.useState(""),[j,i]=o.useState(!1),[r,a]=o.useState(new Date),[n,S]=o.useState(""),[C,T]=o.useState(""),x=()=>{window.scrollTo({top:0,behavior:"smooth"})},H=()=>{document.startViewTransition?document.startViewTransition(()=>{l(I(!0));const t=setTimeout(()=>{clearTimeout(t),l(O(!0))},100)}):(l(I(!0)),l(O(!0))),x()},Q=()=>{document.startViewTransition?document.startViewTransition(()=>{l(k(!1))}):l(k(!1)),x()},q=()=>{try{i(!0),oe(s==null?void 0:s._id,{subjectTitle:f,designated:d}).then(t=>{var y,w;(t==null?void 0:t.status)===201?(A(`api/view-school-subject/${s==null?void 0:s._id}`),i(!1),L()):(i(!1),N.error(`${(w=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:w.message}`))}),x()}catch(t){return t}},J=()=>{try{i(!0),re(s==null?void 0:s._id,{title:n,details:C,date:V(r).format("LLL")}).then(t=>{var y,w;t.status===201?(A(`api/view-announcement/${s==null?void 0:s._id}`),i(!1),v(),a(null),S(""),T("")):(i(!1),N.error(`${(w=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:w.message}`))}),x()}catch(t){return t}},Y=()=>{try{i(!0),ce(s._id,{title:n,details:C,date:V(r).format("LLL")}).then(t=>{A(`api/view-event/${s==null?void 0:s._id}`),t.status===201?(i(!1),v(),a(null),S(""),T("")):(i(!1),N.error(`${t.response.data.message}`))}),x()}catch(t){return t}},M=()=>{document.startViewTransition?document.startViewTransition(()=>{l(z(!u))}):l(z(!u)),x()},v=()=>{document.startViewTransition?document.startViewTransition(()=>{l(R(!p))}):l(R(!p)),x()},L=()=>{document.startViewTransition?document.startViewTransition(()=>{l(k(!m))}):l(k(!m)),x()},[K,D]=o.useState(!1),[P,U]=o.useState("");return e.jsxs("div",{children:[e.jsx(ne,{name:"Dashboard"}),e.jsxs("div",{className:" relative grid w-full grid-cols-1 sm:grid-cols-3 md:grid-cols-4 gap-2 ",children:[e.jsxs("div",{className:"mt-56 sm:mt-0 col-span-1 sm:col-span-2 md:col-span-3 rounded-md h-[100%]",children:[e.jsxs("div",{className:"w-full min-h-[130px] bg-blue-950 rounded-lg text-white p-3 mt-8",children:[e.jsx("p",{className:"text-[20px] mb-2",children:"Announcement/Event"}),e.jsx(xe,{})]}),e.jsx(le,{})]}),e.jsxs("div",{className:"order-first sm:order-last col-span-1 p-2 rounded-md h-[200px] md:sticky transition-all duration-300 mt-4 top-[4.5rem] sm:top-16",children:[e.jsxs("div",{className:"py-0 col-span-1 border p-2 rounded-md min-h-[200px] transition-all duration-300 -mt-5",children:[e.jsxs("div",{className:"font-[700] text-[14px] mb-5 flex justify-center items-center",children:[e.jsx("div",{children:"Quick Actions"}),e.jsx("div",{className:"text-blue-950 text-[17px] ml-2",children:e.jsx(ue,{})})]}),e.jsxs("div",{children:[e.jsx(he,{}),e.jsx(c,{name:"Push Announcement",className:"bg-black hover:bg-neutral-800 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2",onClick:v}),e.jsx(c,{name:"Register new Student",className:"bg-blue-900  hover:bg-blue-950 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2",onClick:H}),e.jsx(c,{name:"Create Event",className:"bg-purple-900 hover:bg-purple-950 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2",onClick:M}),e.jsx(c,{name:"Add Subject",className:"bg-pink-600 hover:bg-pink-700 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2",onClick:L}),e.jsx(c,{name:"Quick Chat (coming soon)",className:"bg-orange-600 hover:bg-orange-700 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2"}),e.jsx(E,{to:"/class-report-card-ready",children:e.jsx(c,{name:"Prepare Report-Card",className:"bg-neutral-700 hover:bg-neutral-900 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2"})}),e.jsx(E,{to:"/class-report-mid-card",children:e.jsx(c,{name:"Prepare MidTerm Report-Card",className:"bg-yellow-700 hover:bg-yellow-500 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2"})}),e.jsx(E,{to:"/school-fees-history",children:e.jsx(c,{name:"View School Fees Payments",className:"bg-black hover:bg-neutral-800 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2"})}),e.jsx(c,{name:"Expenditures",className:"bg-green-600 hover:bg-green-700 transition-all duration-300 text-[13px] w-[95%] py-2 mb-2",onClick:()=>{D(!0),x()}})]})]}),e.jsxs("div",{className:"hidden sm:block col-span-1 border p-2 rounded-md min-h-[200px] transition-all duration-300 top-16 mt-4",children:[e.jsx("p",{className:"font-medium text-[14px] mb-5",children:"Subjects"}),e.jsx("div",{className:"font-medium text-[12px] h-[280px]  overflow-y-auto ",children:($=h==null?void 0:h.subjects)==null?void 0:$.map(t=>e.jsxs("div",{className:"my-1",children:[e.jsx("span",{className:"font-bold",children:t==null?void 0:t.subjectTitle})," ","· ",t==null?void 0:t.designated," ·"," ",t==null?void 0:t.subjectTeacherName]},t==null?void 0:t._id))})]})]})]}),K&&e.jsx("div",{className:"absolute  top-0 left-0 backdrop-blur-md h-[99%] w-full rounded-lg flex items-center pt-[200px] flex-col",children:e.jsxs("div",{className:"w-[90%] lg:w-[700px] h-[300px] bg-white border rounded-md p-4 flex flex-col shadow-sm",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Security Measure"}),e.jsxs("p",{className:"text-[12px]",children:["You are about to enter a very sensitive area, as a measure of security, You would be required to provider your"," ",e.jsx("strong",{className:"font-medium",children:'"Secure Code"'}),"..."]})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex-col flex",children:[e.jsx("label",{className:"text-[12px] font-semibold mb-3",children:"Enter your Admin secret code"}),e.jsx(me,{placeholder:"Enter Secret Code",className:"w-[90%] ml-0 mt-0",value:P,onChange:t=>{U(t.target.value)}})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{icon:e.jsx(ie,{size:30}),name:"Close",className:" bg-red-500 text-white",onClick:()=>{document.startViewTransition?document.startViewTransition(()=>{D(!1)}):D(!1)}}),(s==null?void 0:s.adminCode)===P?e.jsx(E,{to:"/expenditures",children:e.jsx(c,{icon:e.jsx(B,{size:30}),name:"Proceed",className:"ml-2 bg-blue-950 ",onClick:v})}):e.jsx(c,{icon:e.jsx(B,{size:30}),name:"Proceed",className:"ml-2 bg-blue-950 "})]})]})}),m&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:`${(s==null?void 0:s.categoryType)==="Secondary"?"rgba(73, 154, 255, 0.2)":"rgba(255, 73, 85, 0.3)"}`,boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(F,{titleCall:"Add New Subject",offFn:Q,en:!0,sub:!0,text:"Place the title fo the subject you are about to create and the Class that is meant to have this created subject!",placeStart:"Mathematics",placeEnd:"JSS 1A",startTitle:"Enter Subject Name",endTitle:"Class Assigned",setEnd:b,setStart:g,start:f,end:d,handleFn:q,loading:j,setLoading:i})}),!p&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:`${(s==null?void 0:s.categoryType)==="Secondary"?"rgba(73, 154, 255, 0.2)":"rgba(255, 73, 85, 0.3)"}`,boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(F,{titleCall:"Make Announcement",offFn:v,date:!0,text:"Make a public Announcement to give an importance notice to all teachers and student about something very important...!",placeStart:"Title this Announcement",placeEnd:"Mon. 21st Feb 2024",startTitle:"Enter Announcement Title",endTitle:"Date the Announcement",setStart:S,setAnnounce:T,announce:C,start:n,end:d,handleFn:J,loading:j,setLoading:i,startDateTime:r,startDateTimeFn:t=>a(t)})}),u&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:`${(s==null?void 0:s.categoryType)==="Secondary"?"rgba(73, 154, 255, 0.2)":"rgba(255, 73, 85, 0.3)"}`,boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(F,{titleCall:"Create/Schedule a new Event",offFn:M,date:!0,text:"Create/Schedule an Event and publish it so that everyone can see and get excited about this upcoming event!",placeStart:"Title this Event",placeEnd:"Mon. 21st Feb 2024",startTitle:"Enter Event Title",endTitle:"Date for the Event",setStart:S,setAnnounce:T,announce:C,start:n,end:d,handleFn:Y,loading:j,setLoading:i,startDateTime:r,startDateTimeFn:t=>a(t)})})]})};export{Ce as default};
