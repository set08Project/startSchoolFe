import{r as A,P as H,A as _,j as t,Q as P,I as R,L as S,l as I,br as L,ch as E,t as V}from"./index-CpMs4x3j.js";document.title="view class info for result approval";const $=({props:n})=>{var s;const{schoolSubjectTeacherDetail:l}=E(n);return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"avatar",children:t.jsx("div",{className:"mask mask-squircle w-12 h-12",children:t.jsx("img",{src:l!=null&&l.avatar?l==null?void 0:l.avatar:V,alt:"Avatar"})})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold",children:l==null?void 0:l.staffName}),t.jsxs("div",{className:"text-[10px] opacity-50 flex flex-wrap gap-2 font-semibold",children:[(s=l==null?void 0:l.classesAssigned)==null?void 0:s.map(a=>t.jsx("div",{children:a.className}))," "]}),t.jsx("p",{className:"mt-1",children:"Teacher"})]})]})},O=()=>{var i;const[n,l]=A.useState(""),{schoolTeacher:s}=H(),{schoolClassroom:a}=_();return t.jsxs("div",{children:[t.jsx(P,{name:"View Subject"}),t.jsx(R,{position:"top-center",reverseOrder:!0}),t.jsx("div",{className:"mb-28"}),t.jsx("div",{className:"mb-28"}),t.jsxs("div",{className:"py-6 px-2  border rounded-md min-w-[300px] overflow-y-hidden ",children:[t.jsxs("div",{className:"text-[gray] w-[1250px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[t.jsx("div",{className:"w-[200px] border-r",children:"Class"}),t.jsx("div",{className:"w-[200px] border-r",children:"Teacher Info"}),t.jsx("div",{className:"w-[150px] border-r",children:"Class Academic Performance"}),t.jsx("div",{className:"w-[150px] border-r",children:"SchoolFee Paid"}),t.jsx("div",{className:"w-[150px] border-r ",children:"SchoolFee UnPaid"}),t.jsx("div",{className:"w-[100px] border-r",children:"Number of Students"}),t.jsx("div",{className:"w-[300px] border-r",children:"view/Approve"})]}),t.jsx("div",{className:" w-[1250px] overflow-hidden ",children:(i=a==null?void 0:a.classRooms)==null?void 0:i.map((e,M)=>{var c,x,m,r,h,j,u,f,v,N,b,g,w,y,T,F;return t.jsx("div",{children:t.jsx("div",{children:t.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden ${M%2===0?"bg-slate-50":"bg-white"}`,children:[t.jsx("div",{className:"w-[200px] border-r",children:e==null?void 0:e.className}),t.jsx("div",{className:"w-[200px] border-r ",children:e!=null&&e.classTeacherName?t.jsx("div",{children:t.jsx($,{props:e==null?void 0:e.teacherID})}):"Not assigned yet"}),t.jsxs("div",{className:"w-[150px] border-r pl-4",children:[e==null?void 0:e.classPerformance,"%"]}),t.jsxs("div",{className:"w-[150px] border-r pl-4",children:[(a==null?void 0:a.presentTerm)==="1st Term"?Math.floor(((c=e==null?void 0:e.schoolFeesHistory)==null?void 0:c.length)/((x=e==null?void 0:e.students)==null?void 0:x.length)*100):(a==null?void 0:a.presentTerm)==="2nd Term"?Math.floor(((m=e==null?void 0:e.schoolFeesHistory2)==null?void 0:m.length)/((r=e==null?void 0:e.students)==null?void 0:r.length)*100):(a==null?void 0:a.presentTerm)==="3rd Term"?Math.floor(((h=e==null?void 0:e.schoolFeesHistory3)==null?void 0:h.length)/((j=e==null?void 0:e.students)==null?void 0:j.length)*100):null,"%"]}),t.jsxs("div",{className:"w-[150px] border-r pl-4 text-red-500",children:[(a==null?void 0:a.presentTerm)==="1st Term"?Math.floor((((u=e==null?void 0:e.students)==null?void 0:u.length)-((f=e==null?void 0:e.schoolFeesHistory)==null?void 0:f.length))/((v=e==null?void 0:e.students)==null?void 0:v.length)*100):(a==null?void 0:a.presentTerm)==="2nd Term"?Math.floor((((N=e==null?void 0:e.students)==null?void 0:N.length)-((b=e==null?void 0:e.schoolFeesHistory)==null?void 0:b.length))/((g=e==null?void 0:e.students)==null?void 0:g.length)*100):(a==null?void 0:a.presentTerm)==="3rd Term"?Math.floor((((w=e==null?void 0:e.students)==null?void 0:w.length)-((y=e==null?void 0:e.schoolFeesHistory)==null?void 0:y.length))/((T=e==null?void 0:e.students)==null?void 0:T.length)*100):null,"%"]}),t.jsx("div",{className:"w-[100px] border-r",children:(F=e==null?void 0:e.students)==null?void 0:F.length}),t.jsx("div",{className:"w-[300px] border-r",children:t.jsxs("div",{className:"mt-5 text-[13px] font-medium",children:[t.jsx(S,{to:`/class-result-approve/${e==null?void 0:e._id}`,className:" my-3 py-4 bg-blue-950 text-white px-4 rounded-md text-[12px] transition-all duration-300 hover:text-white cursor-pointer ",children:"View/Approve Result"}),t.jsx("div",{className:"mt-5"}),t.jsx("input",{type:"checkbox",id:"assign_class_subject",className:"modal-toggle"}),t.jsxs("div",{className:"modal  rounded-md",role:"dialog",children:[t.jsxs("div",{className:"modal-box bg-white rounded-md",children:[t.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[t.jsx("p",{className:"font-bold",children:"Add New Subject"}),t.jsx("label",{htmlFor:"assign_class_subject",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:t.jsx(I,{})})]}),t.jsx("hr",{}),t.jsxs("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:["Please note that by assigning this subject to this class, it automtically becomes one of the class must take suject.",t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex gap-2  items-center",children:[t.jsxs("p",{children:[" Subject: ",n]}),n&&t.jsxs("div",{className:"flex items-center font-bold",children:[t.jsx("span",{children:"selected"}),t.jsx(L,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),t.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:t.jsxs("div",{className:"w-full flex flex-col",children:[t.jsxs("label",{className:"font-medium text-[12px]",children:["Subject Teacher"," ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{className:"select bg-gray-100 select-info mt-1 text-[12px] py-0 px-2 w-full max-w-xs mb-3",value:n,onChange:d=>{l(d.target.value)},children:[t.jsx("option",{disabled:!0,selected:!0,children:"Select the subject Teacher"}),s==null?void 0:s.staff.map((d,k)=>t.jsx("option",{value:d==null?void 0:d.staffName,children:d.staffName},k))]})]})})]}),t.jsx("label",{className:"modal-backdrop",htmlFor:"assign_class_subject",children:"Close"})]})]})})]},e)})})})})]})]})};export{O as default};
