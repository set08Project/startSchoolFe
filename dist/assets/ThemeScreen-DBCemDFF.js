import{r as c,j as e,I as _,u as I,B as T,_ as F,d6 as E,e as x,d7 as L,d8 as U,d9 as z}from"./index-BomD4pl1.js";import{I as C}from"./Input-CDwV7z8z.js";document.title="School's Profile settings";const J=()=>{const[a,s]=c.useState("accountDetails");return e.jsxs("div",{className:"w-full",children:[e.jsxs("main",{className:"flex gap-4 items-center mb-2 w-[200%] ",children:[e.jsx("div",{className:"cursor-pointer bg-black hover:bg-neutral-900 transition-all duration-300 text-white px-4 py-3 rounded-md",onClick:()=>{s("accountDetails")},children:"Account Details"}),e.jsx("div",{className:"cursor-pointer bg-blue-950 hover:bg-blue-900 transition-all duration-300 text-white px-4 py-3 rounded-md",onClick:()=>{s("addPayments")},children:"Add Payments"})]}),a==="accountDetails"?e.jsxs("div",{className:"sm:w-[350%] mb-2 font-semibold italic text-[12px]",children:[" ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam officia dolorem, consectetur, aspernatur obcaecati beatae error"]}):e.jsxs("div",{className:"sm:w-[350%] mb-2 font-semibold italic text-[12px]",children:[" ","Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dolor eum eveniet atque expedita aut ex nihil maxime dolore perspiciatis inventore."," "]}),e.jsxs("div",{className:" sm:w-[350%]  rounded-lg border h-[550px] text-blue-950 ",children:[e.jsx(_,{position:"top-center"}),e.jsx("div",{children:a==="accountDetails"?e.jsx(M,{}):e.jsx(q,{})})]})]})},M=()=>{var k,N,j,f,g,P,v;const{data:a}=I(),[s,d]=c.useState(""),[o,r]=c.useState(""),[i,m]=c.useState(""),n=[{id:1,bank:"Access Bank Nigeria Plc",code:"044"},{id:2,bank:"Diamond Bank Plc",code:"063"},{id:3,bank:"Ecobank Nigeria",code:"050"},{id:4,bank:"Enterprise Bank Plc",code:"084"},{id:5,bank:"Fidelity Bank Plc",code:"070"},{id:6,bank:"First Bank of Nigeria Plc",code:"011"},{id:7,bank:"First City Monument Bank",code:"214"},{id:8,bank:"Guaranty Trust Bank Plc",code:"058"},{id:9,bank:"Heritage Banking Company Ltd",code:"030"},{id:10,bank:"Jaiz Bank",code:"301"},{id:11,bank:"Keystone Bank Ltd",code:"082"},{id:12,bank:"Mainstreet Bank Plc",code:"014"},{id:13,bank:"Skye Bank Plc",code:"011"},{id:14,bank:"Stanbic IBTC Plc",code:"039"},{id:15,bank:"Sterling Bank Plc",code:"232"},{id:16,bank:"Union Bank Nigeria Plc",code:"032"},{id:17,bank:"United Bank for Africa Plc",code:"033"},{id:18,bank:"Unity Bank Plc",code:"215"},{id:19,bank:"035 Bank Plc",code:"011"},{id:20,bank:"Zenith Bank International",code:"057"}],l=n.find(t=>t.bank===i),[h,u]=c.useState(!1);return e.jsxs("div",{children:[e.jsxs("p",{className:"text-[15px] p-4 font-medium ",children:["Please note that all online Payment, will be Paid to this Account detail provided below.",e.jsx("br",{}),e.jsx("br",{}),"So it is very important that the information provided below are accurate and correct. ",e.jsx("br",{})]}),e.jsx("div",{className:"mx-5",children:e.jsx("hr",{})}),e.jsxs("div",{className:"px-4 pt-5",children:[e.jsx("label",{className:" font-medium ",children:"Please Fill in your School's Account Name"}),e.jsx(C,{placeholder:"Account Name",defaultValue:(k=a==null?void 0:a.bankDetails)==null?void 0:k.accountName,value:(N=a==null?void 0:a.bankDetails)!=null&&N.accountName?(j=a==null?void 0:a.bankDetails)==null?void 0:j.accountName:s,onChange:t=>{d(t.target.value)},className:"mb-4 ml-0 w-[95%]"})]}),e.jsxs("div",{className:"px-4 pt-0",children:[e.jsx("label",{className:" font-medium ",children:"Please Fill in your School's Account Number"}),e.jsx(C,{placeholder:"Account Number",defaultValue:(f=a==null?void 0:a.bankDetails)==null?void 0:f.accountNumber,value:(g=a==null?void 0:a.bankDetails)!=null&&g.accountNumber?(P=a==null?void 0:a.bankDetails)==null?void 0:P.accountNumber:o,onChange:t=>{r(t.target.value)},className:"mb-8 ml-0 w-[95%]"})]}),e.jsxs("div",{className:"px-4 w-full",children:[e.jsxs("select",{className:"select select-bordered w-[95%] max-w-xs",onChange:t=>{m(t.target.value)},children:[e.jsx("option",{disabled:!0,selected:!0,children:(v=a==null?void 0:a.bankDetails)==null?void 0:v.bankName}),n==null?void 0:n.map((t,b)=>e.jsx("option",{className:"py-3",value:t.bank,children:t.bank},b))]}),e.jsx(T,{name:h?"Processing":"Update Account Detail",icon:h&&e.jsx(F,{size:15,color:"white",className:"absolute -ml-3 -mt-2"}),className:"bg-blue-950 mt-10 ml-0 py-4",onClick:async()=>{u(!0);const t=await E({accountName:s,accountNumber:o,accountBankCode:l==null?void 0:l.code}).then(()=>{x.success("Account details updated successfully")});L({accountName:s,accountNumber:o,accountBankCode:l==null?void 0:l.code}).then(p=>{var y,A,B,w,D,S;U(a==null?void 0:a._id,{bankDetails:{bankName:l.bank,accountName:s,accountNumber:o,accountPaymentCode:(B=(A=(y=p==null?void 0:p.data)==null?void 0:y.data)==null?void 0:A.data)==null?void 0:B.subaccount_code,schoolFeeAccountPaymentCode:(S=(D=(w=t==null?void 0:t.data)==null?void 0:w.data)==null?void 0:D.data)==null?void 0:S.subaccount_code}}).then(V=>{x.success("Done"),u(!1)})});const b=setTimeout(()=>{u(!1),clearTimeout(b)},5e3)}})]})]})},q=()=>{const{data:a}=I(),[s,d]=c.useState(""),[o,r]=c.useState(""),[i,m]=c.useState(!1);return e.jsxs("div",{children:[e.jsxs("p",{className:"text-[15px] p-4 font-medium ",children:["To manage and monitor payments across this platform",e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mx-5",children:e.jsx("hr",{})}),e.jsxs("div",{className:"px-4 pt-5",children:[e.jsx("label",{className:" font-medium ",children:"Please Enter what to be paid for"}),e.jsx("input",{placeholder:"School Uniform",value:s,onChange:n=>{d(n.target.value)},className:"mb-8 ml-0 w-[95%] h-[45px] border pl-2 rounded-md outline-none"})]}),e.jsxs("div",{className:"px-4 pt-0",children:[e.jsx("label",{className:" font-medium ",children:"Please Enter the Amount to be Paid"}),e.jsx("input",{placeholder:"21000",value:o,onChange:n=>{r(n.target.value)},className:"mb-8 ml-0 w-[95%] h-[45px] border pl-2 rounded-md outline-none"})]}),e.jsx("div",{className:"px-4 w-full",children:e.jsx(T,{disabled:!!i,name:i?"Processing":"Add to Payment Log",icon:i&&e.jsx(F,{size:15,color:"white",className:"absolute -ml-3 -mt-2"}),className:"bg-blue-950 mt-10 ml-0 py-4",onClick:()=>{m(!0),z(a==null?void 0:a._id,{paymentDetails:s,paymentAmount:o}).then(n=>{n.status===201&&x.success("payment options updated successfully")}).finally(()=>{m(!1),r(""),d("")})}})})]})};export{J as default};
