import{o as N,N as y,aT as I,r as a,dP as E,j as e,I as D,L as n,B as L,_ as P,dQ as C,dR as k,dS as T,aW as _,e as l}from"./index-gGbhD9zv.js";import{I as B}from"./Input-BQ1i_Ex4.js";import{j as R}from"./index-VWaDGczM.js";import{l as q}from"./mainLogo-DKfqbt2a.js";import{P as W}from"./PasswordIput-RP4swOoy.js";const $=()=>{const{token:c}=N(),d=y(),j=I(),[u,v]=a.useState(""),[r,w]=a.useState(""),[i,o]=a.useState(!1),b=()=>{o(!0);const s={email:u,enrollmentID:r};C().then(t=>{}),k(s).then(t=>{var m,x,h,p,f,g;if(t.status===201){d(T(t)),d(_(t.user)),l.success("login successful"),o(!1),!i&&j("/dashboard");const S=setTimeout(()=>{window.location.reload(),clearTimeout(S)},10)}else console.log(t),((x=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:x.message)==="Error finding school"?(o(!1),l.error("Error Finding School, Please Check your Connectivity")):((p=(h=t==null?void 0:t.response)==null?void 0:h.data)==null?void 0:p.message)==="Error reading your school enrollment ID"?(o(!1),l.error("Incorrect School enrollment ID")):((g=(f=t==null?void 0:t.response)==null?void 0:f.data)==null||g.message,o(!1),l.error("Poor Internet Connectivity"))}).then(()=>{})};return a.useEffect(()=>{if(c){const{id:s}=R(c);E(s)}}),e.jsxs("div",{className:" freshh w-full h-full flex flex-col justify-center items-center ",children:[e.jsx(D,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"mb-10 text-center flex items-center w-full flex-col",children:[e.jsxs(n,{to:"/",children:[e.jsx("img",{className:"mb-5 w-56 h-28 object-contain",src:q})," "]})," ",e.jsx("div",{className:"text-[26px] font-bold mb-3 text-blue-900",children:"Welcome Back"}),e.jsxs("div",{className:"text-[14px] -mt-4",children:[" ","Sign in now to continue your Experience."]})]}),e.jsxs("div",{className:"rounded-md bg-white min-h-[300px] w-[80%] md:w-[500px] border  p-4",children:[e.jsx(B,{placeholder:"Email",className:"w-[97%]",type:"email",required:!0,value:u,onChange:s=>{v(s.target.value)}}),e.jsx(W,{placeholder:"School Enrollment ID",className:"w-[97%]",show:!0,errorText:r&&"Please ensure your ID is correct!",required:!0,value:r,onChange:s=>{w(s.target.value)}}),e.jsxs("div",{children:[e.jsx(L,{name:i?"Loading...":"Login",className:"w-[97%] bg-blue-900 text-white h-14 hover:bg-blue-800 transition-all duration-300",type:"submit",onClick:b,icon:i&&e.jsx(P,{color:"white",size:18})}),e.jsxs("div",{className:"flex gap-[9px] md:gap-5 items-center flex-col sm:flex-row mt-5 mx-3 justify-between",children:[e.jsx(n,{to:"/auth/student-login",className:"hover:bg-blue-50 hover:scale-105 flex-1 transition-all duration-300 border px-5 py-3 rounded-md text-center",children:e.jsx("div",{className:"text-[13px] ml-2 font-bold cursor-pointer",children:"Switch to Student Login"})}),e.jsx(n,{to:"/auth/switch-login",className:"hover:bg-blue-50 hover:scale-105 transition-all duration-300 border px-5 py-3 rounded-md text-center flex-1",children:e.jsx("div",{className:"text-[13px] ml-2 font-bold cursor-pointer",children:"Switch to Teacher Login"})})]})]})]}),e.jsxs("div",{className:"mt-5 pb-[20px] text-[13px] w-[250px] sm:w-[350px] md:w-auto text-center",children:["Donâ€™t have an account with us?"," ",e.jsx("span",{className:"font-bold ml-2 text-blue-900",children:e.jsx(n,{to:"/auth",children:"Register here"})})]})]})};export{$ as default};
