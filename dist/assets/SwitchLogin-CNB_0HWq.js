import{N as L,aT as T,r,j as e,I as C,L as g,B as c,_ as w,dR as D,dQ as b,aW as v,e as d,dS as P}from"./index-CqzGoYxY.js";import{I as _}from"./Input-XqTDE8gb.js";import{l as q}from"./mainLogo-DKfqbt2a.js";import{P as j}from"./PasswordIput-Bes29rZY.js";const $=()=>{const i=L(),h=T(),[x,N]=r.useState(""),[u,y]=r.useState(""),[m,S]=r.useState(""),[a,o]=r.useState(!1),[p,k]=r.useState(!0),f=()=>{k(!p)},E=()=>{o(!0),D({email:x,password:u}).then(s=>{var n,l;s.status===201?(i(b(s)),i(v(s.user)),d.success("login successful"),o(!1),!a&&h("/dashboard"),window.location.reload()):((l=(n=s==null?void 0:s.response)==null?void 0:n.data)==null||l.message,o(!1),d.error("Poor Internet Connectivity"))}).then(()=>{})},I=()=>{o(!0),P({token:m}).then(s=>{var n,l;console.log(s),s.status===201?(i(b(s)),i(v(s.user)),d.success("login successful"),o(!1),!a&&h("/dashboard"),window.location.reload()):((l=(n=s==null?void 0:s.response)==null?void 0:n.data)==null||l.message,o(!1),d.error("Poor Internet Connectivity"))}).then(()=>{})};return e.jsxs("div",{className:"freshh w-full h-full flex flex-col justify-center items-center ",children:[e.jsx(C,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"mb-10 text-center flex items-center w-full flex-col",children:[e.jsxs(g,{to:"/",children:[e.jsx("img",{className:"mb-5 w-56 h-28 object-contain",src:q})," "]}),e.jsx("div",{className:"text-[26px] font-bold mb-3 text-blue-900",children:"Welcome Back"}),e.jsx("div",{className:"text-[14px] -mt-3 w-[70%] leading-tight",children:"Sign in as Teacher/Staff to continue your Experience."})]}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"flex w-[80%] md:w-[500px] ",children:[e.jsx(c,{className:"bg-black font-semibold py-4 ml-0 flex-1",name:"Login with Email/Password",onClick:f}),e.jsx(c,{className:"bg-blue-950 py-4 font-semibold mr-0 flex-1",name:"Login with EntrollmentID",onClick:f})]})}),p?e.jsxs("div",{className:"rounded-md bg-white transition-all duration-300 min-h-[200px] w-[80%] md:w-[500px] border p-4",children:[e.jsx(_,{placeholder:"Email",className:"w-[97%]",type:"email",required:!0,value:x,onChange:t=>{N(t.target.value)}}),e.jsx(j,{placeholder:"Your Password",className:"w-[97%]",show:!0,errorText:u&&"Ensure your Password correct",required:!0,value:u,onChange:t=>{y(t.target.value)}}),e.jsxs("div",{children:[e.jsx(c,{name:a?"Loading...":"Teacher Login with Email/Password",className:"w-[97%] bg-neutral-950 text-white h-14 hover:bg-neutral-800 transition-all duration-300",type:"submit",onClick:E,icon:a&&e.jsx(w,{color:"white",size:18})}),e.jsx("div",{className:"text-[12px] ml-2 font-bold cursor-pointer"})]})]}):e.jsxs("div",{className:"rounded-md transition-all duration-300 bg-white min-h-[100px] w-[80%] md:w-[500px] border p-4",children:[e.jsx(j,{placeholder:"EnrollmentID",className:"w-[97%]",show:!0,errorText:m&&"Ensure EnrollmentID correct",required:!0,value:m,onChange:t=>{S(t.target.value)}}),e.jsxs("div",{children:[e.jsx(c,{name:a?"Loading...":"Teacher Login with EnrollmentID",className:"w-[97%] bg-blue-950 text-white h-14 hover:bg-blue-800 transition-all duration-300",type:"submit",onClick:I,icon:a&&e.jsx(w,{color:"white",size:18})}),e.jsx("div",{className:"text-[12px] ml-2 font-bold cursor-pointer"})]})]}),e.jsxs("div",{className:"mt-5 pb-[20px] text-[13px]",children:["Donâ€™t have an account yet?"," ",e.jsx("span",{className:"font-bold text-blue-900",children:e.jsx(g,{to:"/auth",children:"Register here"})})]})]})};export{$ as default};
