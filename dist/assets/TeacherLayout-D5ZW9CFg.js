import{aT as fe,N as F,q as be,aC as g,bP as L,r as p,j as e,aU as r,eJ as he,aV as je,aX as ge,aY as $,aZ as T,a_ as I,eK as ye,m as B,e as M,u as ce,E as we,b4 as ae,b1 as ne,b0 as Z,b9 as ve,ba as oe,_ as O,t as me,bb as ie,l as te,bc as Ne,bd as ke,be as J,bf as H,bg as U,bi as G,eL as ue,bj as D,bk as xe,bn as X,eM as _,eN as re,eO as K,bq as Q,bI as pe,c3 as se,L as Se,bC as Ce,bD as Me,bE as Te,I as le,X as E,c4 as De,ci as Fe,eH as q,eP as Pe,O as Ae,bF as de,bG as $e}from"./index-CqzGoYxY.js";import{B as k}from"./Button-DTZZkTW1.js";import{I as Le}from"./index-Dq_euxCZ.js";import{C as Y}from"./index-BErD5bgc.js";import{s as Ve}from"./index-BSe03uyP.js";/* empty css                         */import{A as _e,a as Re}from"./AddNewStudent-DI8-vAQ9.js";import"./index-DWHTKphT.js";import"./Input-XqTDE8gb.js";const ee=({log:i,name:s,but:l})=>{const t=fe(),a=F();be(),g(x=>x.toggle);const f=()=>{document.startViewTransition?document.startViewTransition(()=>{a($(!1))}):a($(!1))},m=()=>{document.startViewTransition?document.startViewTransition(()=>{a($(!1)),a(T(!1))}):(a($(!1)),a(T(!1)))},{teacherInfo:d}=L(),[n,v]=p.useState(""),b=x=>{const o=x.target.files[0],c=new FormData;c.append("avatar",o),v(o),a(I(!0));const h=setTimeout(()=>{ye(d==null?void 0:d._id,c).then(y=>{var N,j;console.log(y),B(`api/view-teacher-detail/${d==null?void 0:d._id}`),y.status===201?(M.success("Image has been updated"),a(I(!1)),m()):(M.error(`${(j=(N=y==null?void 0:y.response)==null?void 0:N.data)==null?void 0:j.message}`),a(I(!1)),m())}),clearTimeout(h)},50)};return p.useEffect(()=>{},[n]),e.jsxs("div",{className:"border w-[250px] bg-blue-50 shadow-sm min-h-48 rounded-md p-1",children:[e.jsx("div",{className:"flex flex-col items-between w-full  overflow-y-auto",children:s==null?void 0:s.map(({title:x,icon:o,to:c},h)=>e.jsx(r,{to:`${c}`,className:`w-full\r
          `,onClick:f,children:e.jsxs("div",{className:"text-[12px] w-full py-3 font-medium  duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between",children:[e.jsx("div",{children:x}),e.jsx("div",{className:"text-[17px]",children:o})]})},h))}),l&&e.jsx("div",{className:"w-full flex justify-center mt-3",children:e.jsx(r,{to:"/attendance",onClick:f,children:e.jsx(k,{name:"Mark Attendance",className:"text-[12px] uppercase font-bold bg-blue-950 text-white rounded-lg",icon:e.jsx(he,{className:"text-[11px]"})})})}),i&&e.jsxs("label",{htmlFor:"id",className:"text-[12px] font-medium py-3 duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between",onClick:()=>{},children:["Upload Avatar",e.jsx("input",{id:"id",className:"hidden",onChange:b,type:"file"}),e.jsx("div",{children:e.jsx(Le,{size:17})})]}),i&&e.jsxs("div",{className:"text-[12px] font-medium py-3 duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between",onClick:()=>{a(je()),m();const x=setTimeout(()=>{t("/"),localStorage.clear(),window.location.reload(),clearTimeout(x)},0)},children:[e.jsx("div",{children:"Log-out"}),e.jsx("div",{children:e.jsx(ge,{size:17})})]}),e.jsx("div",{className:"mt-4"}),e.jsx("hr",{}),e.jsx("p",{className:"p-2 text-center break-words text-[12px] font-bold uppercase ",children:d==null?void 0:d.schoolName})]})},ze=()=>{ce();const i=F(),s=()=>{document.startViewTransition?document.startViewTransition(()=>{i(ae(!0)),i(ne(!1))}):(i(ae(!0)),i(ne(!1)))};p.useState("");const l=Array.from({length:0});return e.jsxs("div",{className:"border w-[250px] bg-blue-50 shadow-sm min-h-42 rounded-md p-1 ",children:[e.jsx("p",{className:"text-[14px] mt-2 font-bold ml-2",children:"Academic Session"}),e.jsx("div",{className:"flex flex-col items-between  w-full",children:l.length>0?e.jsx("div",{children:l==null?void 0:l.map((t,a)=>e.jsx("div",{className:`w-full\r
          `,children:e.jsxs("div",{className:"text-[12px] w-full py-2 font-medium  duration-300 transition-all hover:bg-blue-950 p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between border",children:[e.jsx("div",{children:"Session: 2023/2024"}),e.jsx("div",{className:"text-[17px]"})]})},a))}):e.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-1 mt-3",children:[e.jsx(we,{size:13}),e.jsx("p",{className:"mt-3 text-[12px] font-medium",children:"session hasn't been decleared"})]})}),e.jsx("div",{className:"mt-4"}),e.jsx("hr",{}),e.jsxs("div",{className:"flex w-full justify-center items-center cursor-pointer hover:text-blue-900 transition-all duraion-300 mt-2",onClick:s,children:[e.jsx("p",{className:"font-bold",children:"+"}),e.jsx("p",{className:"p-2 text-center break-words text-[12px] font-bold uppercase ",children:"Add New Session"})]})]})},Ee=()=>{var c,h,y,N;const i=F(),s=g(j=>j.imageToggle),l=g(j=>j.toggle),t=g(j=>j.toggleMenu),a=g(j=>j.sessionToggled),[f,m]=p.useState(!1),d=()=>{document.startViewTransition?document.startViewTransition(()=>{i($(!t)),i(T(!1))}):(i($(!t)),i(T(!1)))},{teacherInfo:n}=L(),{schoolInfo:v}=Z(n==null?void 0:n.schoolIDs),[b,x]=p.useState([]),o=((c=n==null?void 0:n.staffName)==null?void 0:c.charAt(0))+((h=n==null?void 0:n.staffName)==null?void 0:h.charAt((n==null?void 0:n.staffName.indexOf(" "))+1));return p.useEffect(()=>{(async()=>{if(n!=null&&n.schoolIDs)try{const u=await pe(n.schoolIDs);x(u)}catch(u){console.log(u)}})()},[n==null?void 0:n.schoolIDs]),e.jsxs("div",{className:"h-[50px] bg-blue-50 border-b w-full flex justify-center items-center  z-10 fixed top-0 left-0 text-blue-950",onClick:()=>{},children:[e.jsxs("div",{className:"flex items-center justify-end w-[90%]",children:[e.jsx("div",{className:"sm:flex",children:e.jsxs("div",{className:"flex mr-5 font-medium cursor-pointer items-center bg-slate-200 px-4 py-2 rounded-sm z-30",children:[e.jsx(ve,{}),e.jsxs("span",{className:"text-[12px] mx-1",children:["Session: ",e.jsx("span",{children:v&&((y=v[0])==null?void 0:y.year)})]}),e.jsx("div",{className:"transition-all duration-300 ",children:a?e.jsx(oe,{className:"-rotate-180 duration-300 transition-all"}):e.jsx(oe,{className:"-rotate-0 duration-300 transition-all"})})]})}),e.jsxs("div",{className:"flex items-center px-2 py-1 border rounded-full gap-3 duration-300 transition-all cursor-pointer z-10 bg-white shadow-sm",onClick:()=>{m(!1),i(T(!l)),i($(!1))},children:[e.jsx("div",{className:"w-8 h-8 rounded-full border flex justify-center items-center",children:s?e.jsx(O,{color:"#172554",size:13}):e.jsx("img",{className:"w-full h-full rounded-full border object-cover",src:n!=null&&n.avatar?n==null?void 0:n.avatar:me})}),e.jsx("div",{className:"py-[5px] px-2 rounded-md border text-[13px] bg-white font-extrabold",children:o}),l?e.jsx(ie,{className:"rotate-180 duration-300 transition-all"}):e.jsx(ie,{className:"rotate-0 duration-300 transition-all"})]}),e.jsx("div",{className:"md:hidden text-[30px] cursor-pointer ml-3  duration-300 transition-all",children:t?e.jsx(te,{className:"duration-500 transition-all",onClick:d}):e.jsx(Ne,{className:"duration-500 transition-all",onClick:d})})]}),e.jsx("div",{className:`absolute duration-300 transition-all ${l?"right-6 top-14  ":"right-6 -top-56  "}`,children:e.jsx(ee,{name:[{title:"Account",icon:e.jsx(ke,{}),to:"settings"}],log:!0})}),e.jsx("div",{className:`absolute duration-300 transition-all ${a?"right-24 top-14  ":"right-24 -top-56  "}`,children:e.jsx(ze,{})}),t&&e.jsx("div",{className:`absolute md:hidden duration-300 transition-all ${t?"right-6 top-14  ":"right-6 -top-24  "}`,children:e.jsx("div",{className:"h-[550px] smallph overflow-y-scroll rounded-md border",children:((N=b==null?void 0:b.data)==null?void 0:N.categoryType)==="Secondary"?e.jsx("div",{children:e.jsx(ee,{name:[{title:"Dashboard",icon:e.jsx(J,{}),to:"/"},{title:"My Schedule",icon:e.jsx(H,{}),to:"my-schedule"},{title:"My Class",icon:e.jsx(U,{}),to:"my-class"},{title:"My Subjects",icon:e.jsx(G,{}),to:"subjects"},{title:"My Profile",icon:e.jsx(Y,{}),to:"my-profile"},{title:"Student's Articles",icon:e.jsx(ue,{}),to:"view-articles"},{title:"Lesson Note",icon:e.jsx(D,{}),to:"lesson-note"},{title:"Scheme of Work",icon:e.jsx(xe,{}),to:"schemes"},{title:"Store",icon:e.jsx(X,{}),to:"store"},{title:"Gallery",icon:e.jsx(_,{}),to:"gallary"},{title:"Report Card",icon:e.jsx(re,{}),to:"report-card"},{title:"Reports",icon:e.jsx(D,{}),to:"week-report"},{title:"Complain",icon:e.jsx(K,{}),to:"complain"},{title:"Settings",icon:e.jsx(Q,{}),to:"settings"}],but:!0})}):e.jsx("div",{children:e.jsx(ee,{name:[{title:"Dashboard",icon:e.jsx(J,{}),to:"/"},{title:"My Schedule",icon:e.jsx(H,{}),to:"my-schedule"},{title:"My Class",icon:e.jsx(U,{}),to:"my-class"},{title:"My Subjects",icon:e.jsx(G,{}),to:"subjects"},{title:"My Profile",icon:e.jsx(Y,{}),to:"my-profile"},{title:"Lesson Note",icon:e.jsx(D,{}),to:"lesson-note"},{title:"Store",icon:e.jsx(X,{}),to:"store"},{title:"Gallery",icon:e.jsx(_,{}),to:"gallary"},{title:"Report Card",icon:e.jsx(re,{}),to:"report-card"},{title:"Reports",icon:e.jsx(D,{}),to:"week-report"},{title:"Complain",icon:e.jsx(K,{}),to:"complain"},{title:"Settings",icon:e.jsx(Q,{}),to:"settings"}],but:!0})})})})]})},Oe=()=>{const i=F();g(t=>t.imageToggle),g(t=>t.showStaffComp);const{teacherInfo:s}=L();Z(s==null?void 0:s.schoolIDs),g(t=>t.schoolInfo),p.useState(null),se(s==null?void 0:s.schoolIDs);const l=()=>{document.startViewTransition?document.startViewTransition(()=>{i(T(!1))}):i(T(!1))};return e.jsxs("div",{children:[e.jsx("div",{className:"my-6 mx-2",children:e.jsx("hr",{})}),e.jsxs("div",{className:"text-[16px] px-2 flex flex-col h-[90%]",children:[e.jsxs(r,{to:"/dashboard",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Dashboard",e.jsx(J,{})]}),e.jsxs(r,{to:"/my-schedule",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Schedule",e.jsx(H,{})]}),e.jsxs(r,{to:"/my-class",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Class",e.jsx(U,{})]}),e.jsxs(r,{to:"/subjects",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Subjects",e.jsx(G,{})]}),e.jsxs(r,{to:"/my-profile",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Profile",e.jsx(Y,{})]}),e.jsxs(r,{to:"/view-articles",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Student's Articles",e.jsx(ue,{})]}),e.jsxs(r,{to:"/lesson-note",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Lesson Note",e.jsx(D,{})]}),e.jsxs(r,{to:"/schemes",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Scheme Of Work",e.jsx(xe,{})]}),e.jsxs(r,{to:"/store",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Store",e.jsx(X,{})]}),e.jsxs(r,{to:"/gallary",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Gallery",e.jsx(_,{})]}),e.jsxs(r,{to:"/report-card",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Report Card",e.jsx(_,{})]}),e.jsxs(r,{to:"/week-report",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Weekly Report",e.jsx(D,{})]}),e.jsxs(r,{to:"/complain",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Complains",e.jsx(K,{})]}),e.jsx("div",{className:"flex-1"}),e.jsxs(r,{to:"/settings",className:({isActive:t})=>t?"mt-10 duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[4px] flex items-center justify-between ":"mt-10 duration-500 transition-all p-2 rounded-sm  flex items-center justify-between hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[4px]",onClick:l,children:["settings",e.jsx(Q,{})]})]})]})},Be=()=>{const i=F();g(t=>t.imageToggle),g(t=>t.showStaffComp);const{teacherInfo:s}=L();Z(s==null?void 0:s.schoolIDs),g(t=>t.schoolInfo),p.useState(null),se(s==null?void 0:s.schoolIDs);const l=()=>{document.startViewTransition?document.startViewTransition(()=>{i(T(!1))}):i(T(!1))};return e.jsx("div",{children:e.jsxs("div",{className:"mt-16 px-2 flex flex-col h-[90%]",children:[e.jsxs(r,{to:"/dashboard",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Dashboard",e.jsx(J,{})]}),e.jsxs(r,{to:"/my-schedule",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Schedule",e.jsx(H,{})]}),e.jsxs(r,{to:"/my-class",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Class",e.jsx(U,{})]}),e.jsxs(r,{to:"/subjects",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Subjects",e.jsx(G,{})]}),e.jsxs(r,{to:"/quiz-records",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Test-Record",e.jsx(G,{})]}),e.jsxs(r,{to:"/my-profile",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["My Profile",e.jsx(Y,{})]}),e.jsxs(r,{to:"/lesson-note",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Lesson Note",e.jsx(D,{})]}),e.jsxs(r,{to:"/store",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Store",e.jsx(X,{})]}),e.jsxs(r,{to:"/gallary",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Gallery",e.jsx(_,{})]}),e.jsxs(r,{to:"/report-card",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Report Card",e.jsx(_,{})]}),e.jsxs(r,{to:"/week-report",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Weekly Report",e.jsx(D,{})]}),e.jsxs(r,{to:"/complain",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Complains",e.jsx(K,{})]}),e.jsx("div",{className:"flex-1"}),e.jsxs(r,{to:"/settings",className:({isActive:t})=>t?"mt-10 duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[4px] flex items-center justify-between ":"mt-10 duration-500 transition-all p-2 rounded-sm  flex items-center justify-between hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[4px]",onClick:l,children:["settings",e.jsx(Q,{})]})]})})},Ge=()=>{var v,b,x,o;F();const i=g(c=>c.imageToggle);g(c=>c.showStaffComp);const{teacherInfo:s}=L();Z(s==null?void 0:s.schoolIDs),g(c=>c.schoolInfo);const[l,t]=p.useState(null);p.useEffect(()=>{(async()=>{if(s!=null&&s.schoolIDs)try{const h=await pe(s.schoolIDs);t(h)}catch(h){console.log(h)}})()},[s==null?void 0:s.schoolIDs]);const{schoolAnnouncement:a}=se(s==null?void 0:s.schoolIDs),[f,m]=p.useState(""),[d,n]=p.useState(!1);return e.jsxs("div",{className:"overflow-y-auto w-full border-r bg-white text-blue-900 flex flex-col text-[15px]",children:[e.jsxs("div",{className:"w-full flex px-2 mt-6 ",children:[e.jsx("div",{className:" w-16 h-16 object-cover flex border rounded-full items-center justify-center ",children:e.jsx("div",{className:" w-16 h-16 object-cover flex border rounded-full items-center justify-center ",children:i?e.jsx("div",{className:"flex justify-center items-center w-full h-full object-cover rounded-full border",children:e.jsx(O,{size:20,color:"#172554"})}):e.jsx("img",{className:"w-full h-full object-cover rounded-full border",src:s!=null&&s.avatar?s==null?void 0:s.avatar:me})})}),e.jsxs("div",{className:"ml-2",children:[e.jsx("p",{className:"break-words font-bold",children:(s==null?void 0:s.schoolName.length)>16?e.jsxs("p",{children:[a==null?void 0:a.schoolName.substring(0,16),"..."]}):a==null?void 0:a.schoolName}),e.jsxs("p",{className:"break-words font-medium text-slate-400 text-[14px] mt-2",children:["ID: ",s==null?void 0:s.enrollmentID]}),e.jsxs("p",{className:"break-words font-medium text-slate-400  text-[14px] -mt-1",children:["Session:"," ",e.jsx("span",{children:a&&(a==null?void 0:a.presentSession)})]}),e.jsxs("p",{className:"break-words font-medium text-[12px] my-2 -mt-1",children:["Term:"," ",e.jsx("span",{className:"text-[12px]",children:a&&(a==null?void 0:a.presentTerm)})]}),e.jsx("div",{className:"text-[12px] font-bold",children:((v=s==null?void 0:s.staffName)==null?void 0:v.length)>16?`${s==null?void 0:s.staffName.substring(0,16)}...`:s==null?void 0:s.staffName})]})]}),e.jsx("div",{className:"my-6 mx-2",children:e.jsx("hr",{})}),e.jsxs("div",{className:"mt- px-2 text- center flex flex-col border mx-2 rounded-md py-1",children:[e.jsxs("div",{className:"mb-4 text-[13px] font-medium ",children:["Mark students Attendance with the Button below"," "]}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(Se,{to:"/attendance",children:e.jsx(k,{name:"Attendance",className:"bg-black text-white border-none font-medium py-4 px-9 leading-tight",onClick:()=>{}})})})]}),e.jsxs("div",{className:"mt-2 px-2 text- center flex flex-col border mx-2 rounded-md py-1",children:[e.jsx("div",{className:"mb-4 text-[12px] font-medium uppercase",children:"Clocking Students"}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{className:"border rounded-md h-[45px] outline-none mx-2 pl-2",placeholder:"Student ID",value:f,onChange:c=>m(c.target.value)}),e.jsx(k,{name:d?"clocking student...":"Clock-in/Clock-Out",disabled:d,className:`${d?"bg-red-400 cursor-not-allowed animate-pulse ":"bg-red-500"} text-white border-none font-medium py-4 px-4 text-[12px] uppercase leading-tight`,onClick:()=>{n(!0),Ce(f).then(c=>{var h,y,N,j,u,R,z,P,W,V;c.status===201?(y=(h=c.data)==null?void 0:h.data)!=null&&y.clockIn?Te((P=(z=c.data)==null?void 0:z.data)==null?void 0:P.schoolIDs,(V=(W=c.data)==null?void 0:W.data)==null?void 0:V._id).then(S=>{var C,A,w;S.status===201?(B(`api/view-student-info/${(A=(C=S.data)==null?void 0:C.data)==null?void 0:A._id}`),M.success(`${(w=S.data)==null?void 0:w.studentFirstName}, has been clock out`)):M.error("student has been clocked out yet, Please try again!")}):Me((j=(N=c.data)==null?void 0:N.data)==null?void 0:j.schoolIDs,(R=(u=c.data)==null?void 0:u.data)==null?void 0:R._id).then(S=>{var C,A,w;S.status===201?(B(`api/view-student-info/${(A=(C=S.data)==null?void 0:C.data)==null?void 0:A._id}`),M.success(`${(w=S.data)==null?void 0:w.studentFirstName}, has been clock in`)):M.error("student has been clocked in yet, Please try again!")}):M.error("something went wrong")}).finally(()=>{n(!1),m("")})}})]})})]}),e.jsxs("div",{children:[e.jsx(le,{}),((b=l==null?void 0:l.data)==null?void 0:b.categoryType)==="Secondary"||((o=(x=l==null?void 0:l.data)==null?void 0:x.schoolTags[0])==null?void 0:o.val)==="Secondary School."?e.jsx(Oe,{}):e.jsx(Be,{})]})]})},We=({text:i,handleFn:s,start:l,end:t,setStart:a,setEnd:f,placeStart:m,placeEnd:d,startTitle:n,endTitle:v,loading:b,en:x,offFn:o,titleCall:c,fee:h,setNumb1:y,setNumb2:N,setNumb3:j,num1:u,num2:R,num3:z,date:P,setAnnounce:W,announce:V,sub:S,startDateTime:C,startDateTimeFn:A})=>e.jsx("div",{className:`flex ${P?"mt-32":"mt-60"} justify-center`,children:e.jsxs("div",{className:"w-[500px] min-h-[300px] border rounded-md bg-white shadow-md p-4",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:c}),e.jsx(le,{position:"top-center",reverseOrder:!0}),e.jsx("p",{className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",onClick:o,children:e.jsx(te,{})})]}),e.jsx("hr",{}),e.jsx("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:i}),e.jsxs("div",{className:"mt-10 w-full gap-2 flex items-center",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:[n," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(E,{placeholder:m,className:"mx-0 h-10 w-full",value:l,onChange:w=>{a(w.target.value)}})]}),x&&e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:[v," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(E,{placeholder:d,className:"mx-0 h-10  w-full",value:t,onChange:w=>{f(w.target.value)}})]}),P&&e.jsxs("div",{className:"w-full  -mt-7",children:[e.jsxs("label",{className:"font-medium text-[12px] mb-5",children:[v," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ve,{className:"text-[12px] font-medium h-10  px-2 mt-3 border rounded-md w-[200px] ",placeholderText:"add date here",selected:C,onChange:A,showTimeSelect:!0,dateFormat:"MMMM d, yyyy h:mm aa"})]})]}),h&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["First Term Fee ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(E,{placeholder:"50000",className:"mx-0 h-10  w-full",value:u,onChange:w=>{y(w.target.value)}})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Second Term Fee ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(E,{placeholder:"50000",className:"mx-0 h-10  w-full",value:R,onChange:w=>{N(w.target.value)}})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Third Term Fee ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(E,{placeholder:"50000",className:"mx-0 h-10  w-full",value:z,onChange:w=>{j(w.target.value)}})]})]}),P&&e.jsx("div",{children:e.jsx("textarea",{className:"textarea border-blue-950 rounded-md w-[95%] resize-none h-[170px] text-[12px] font-normal placeholder:opacity-55",placeholder:"Event Details of this Announcement ",value:V,onChange:w=>{W(w.target.value)}})}),h&&e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:l!==""&&u&&R&&z?e.jsx(k,{name:b?e.jsxs("div",{children:[e.jsx(O,{color:"#fff",size:12})," ",e.jsx("span",{children:"Loading..."})]}):"Proceed",className:"bg-blue-950  mx-0",onClick:s}):e.jsx(k,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})}),P&&e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:l!==""&&V!==""&&C!==""?e.jsx(k,{name:b?e.jsxs("div",{children:[e.jsx(O,{color:"#fff",size:12})," ",e.jsx("span",{children:"Loading..."})]}):"Publish",className:"bg-blue-950  mx-0",onClick:s}):e.jsx(k,{name:"Can't Publish",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})}),S&&e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:l!==""&&V!==""&&C!==""?e.jsx(k,{name:b?e.jsxs("div",{children:[e.jsx(O,{color:"#fff",size:12})," ",e.jsx("span",{children:"Loading..."})]}):"Proceed",className:"bg-blue-950  mx-0",onClick:s}):e.jsx(k,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]})}),qe=()=>{var b,x;const i=F(),[s,l]=p.useState(""),[t,a]=p.useState(!1),{teacherInfo:f}=L(),{oneClass:m}=De(f==null?void 0:f.presentClassID),{classStudents:d}=Fe(m==null?void 0:m._id);(b=d==null?void 0:d.students)==null||b.find(o=>(o==null?void 0:o.monitor)===!0);const n=()=>{document.startViewTransition?document.startViewTransition(()=>{i(q(!1))}):i(q(!1))},v=()=>{try{a(!0),Pe(f==null?void 0:f._id,s).then(o=>{o.status===201?(a(!1),i(q(!1)),B(`api/view-all-class-students/${m==null?void 0:m._id}`),M.success("Monitor Assigned Successfully")):(a(!1),B(`api/view-all-class-students/${m==null?void 0:m._id}`),i(q(!1)))})}catch(o){return o}};return e.jsxs("div",{className:"flex mt-60 justify-center ",children:[e.jsx(le,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"w-[500px] min-h-[300px] border rounded-md bg-white shadow-md p-4",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Assign Class Monitor"}),e.jsx("p",{className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",onClick:n,children:e.jsx(te,{})})]}),e.jsx("hr",{}),e.jsx("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:"Please note that this actor would make the selected student and he/she would carry out some special task..."}),e.jsx("div",{className:"mt-10 w-full mb-10",children:e.jsxs("div",{className:"w-full ",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Select a Student to be the class Monitor"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-error w-full mt-2 ",value:s,onChange:o=>{l(o.target.value)},children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select Class Monitor to be"}),(x=d==null?void 0:d.students)==null?void 0:x.map(o=>e.jsx("option",{value:o==null?void 0:o._id,children:`${o==null?void 0:o.studentFirstName} ${o==null?void 0:o.studentLastName}`},o==null?void 0:o._id))]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:s!==""?e.jsx(k,{name:"Proceed",className:"bg-blue-950  mx-0",onClick:()=>{v(),n()}}):e.jsx(k,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]})]})},et=()=>{const{data:i}=ce(),s=g(u=>u.showStaffComp),l=g(u=>u.showStudent),t=g(u=>u.monitorView),a=g(u=>u.classroomToggled),f=F(),[m,d]=p.useState(""),[n,v]=p.useState(0),[b,x]=p.useState(0),[o,c]=p.useState(0),[h,y]=p.useState(!1);L();const N=()=>{document.startViewTransition?document.startViewTransition(()=>{f(de(!1))}):f(de(!1))},j=()=>{try{y(!0),$e(i._id,{className:m,class1stFee:n,class2ndFee:b,class3rdFee:o}).then(u=>{u.status===201?(y(!1),N()):(y(!1),M.error(`${u.response.data.message}`))})}catch(u){return u}};return e.jsxs("div",{className:"flex w-[100%] text-blue-950",children:[e.jsx("div",{className:"md:flex w-[250px] h-[100vh] fixed hidden  transition-all duration-300 z-50",children:e.jsx(Ge,{})}),e.jsx("div",{className:"flex w-[calc(100%)] justify-end",children:e.jsxs("div",{className:"flex flex-col w-[100%] transition-all duration-300 md:w-[calc(100%-250px)] justify-end",children:[e.jsx(Ee,{}),e.jsxs("div",{className:"min-h-[calc(100vh-72px)] p-4 m-2 border rounded-md mt-16 relative ",onClick:()=>{},children:[e.jsx(Ae,{}),s&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(_e,{})}),l&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(Re,{})}),t&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(qe,{})}),a&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(We,{fee:!0,titleCall:"Creating new classroom",offFn:N,text:"Place the name this would be generally called accross the life-span of the school's existance!",placeStart:"JSS 1A",placeEnd:"JSS 1A",startTitle:"Enter Class Name",endTitle:"Class Assigned",setStart:d,start:m,handleFn:j,loading:h,num1:n,num2:b,num3:o,setNumb1:v,setNumb2:x,setNumb3:c})})]})]})})]})};export{et as default};
