import{o as _,N as q,A as E,aC as J,ay as O,j as l,k as U,aq as z,L as C,B as G,J as K,t as Q,H as W}from"./index-CpMs4x3j.js";const X=({props:n})=>{const{teacherDetail:t}=K(n);return l.jsxs("div",{className:"w-[220px] flex gap-2 border-r",children:[l.jsx("img",{className:"w-16 shadow-md h-14 rounded-2xl border object-cover",src:t!=null&&t.avatar?t==null?void 0:t.avatar:Q}),l.jsxs("div",{children:[l.jsx("p",{className:"leading-tight",children:t==null?void 0:t.staffName}),l.jsx("div",{className:"mt-6"}),l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx(W,{className:"ml-1 mb-1"}),l.jsx("span",{children:t==null?void 0:t.staffRating})]})]})]})},Z=()=>{var c,i,s,x,h;const{session:n,term:t,termID:I}=_();q(),Array.from({length:0});const{schoolClassroom:a}=E();J(e=>e.classroomToggled);const{sessionTermData:d}=O(I);return document.title=`Viewing ${(c=d==null?void 0:d.data)==null?void 0:c.year} session of ${(i=d==null?void 0:d.data)==null?void 0:i.presentTerm}`,l.jsxs("div",{className:"",children:[l.jsx("div",{className:"mb-0"}),l.jsx(U,{name:`Viewing ${(s=d==null?void 0:d.data)==null?void 0:s.year} session of ${(x=d==null?void 0:d.data)==null?void 0:x.presentTerm}`}),l.jsx("div",{className:"mt-10"}),l.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[l.jsxs("div",{className:"text-[gray] w-[1480px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[l.jsx("div",{className:"w-[80px] border-r",children:"Class"}),l.jsx("div",{className:"w-[100px] border-r",children:"Number of Students"}),l.jsx("div",{className:"w-[120px] border-r",children:"Number of Subjects Offered"}),l.jsx("div",{className:"w-[220px] border-r",children:"class teacher Info"}),l.jsx("div",{className:"w-[150px] border-r",children:"Class Academic Performance"}),l.jsx("div",{className:"w-[150px] border-r",children:"SchoolFee Paid"}),l.jsx("div",{className:"w-[150px] border-r",children:"SchoolFee UnPaid"}),l.jsx("div",{className:"w-[220px] border-r",children:"view Results"})]}),l.jsx("div",{className:" w-[1480px] overflow-hidden",children:z.sortBy((h=d==null?void 0:d.data)==null?void 0:h.classResult,"className").map((e,L)=>{var m,u,j,N,g,f,v,r,b,w,y,F,H,S,M,P,R,$,k,T,V,A,B;return l.jsx("div",{children:l.jsx("div",{children:l.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-16 px-4 my-2  overflow-hidden ${L%2===0?"bg-slate-50":"bg-white"}`,children:[l.jsx("div",{className:"w-[80px] border-r",children:e.className}),l.jsx("div",{className:"w-[100px] border-r pl-4",children:(m=e==null?void 0:e.students)==null?void 0:m.length}),l.jsx("div",{className:"w-[120px] border-r pl-4",children:e==null?void 0:e.classSubjects.length}),l.jsx("div",{className:"w-[220px]",children:e.classTeacherName?l.jsx(X,{props:e.teacherID}):l.jsx("div",{children:"no teacher assigned yet"})}),(e==null?void 0:e.classPerformance)<40?l.jsxs("div",{className:"w-[150px] border-r pl-4 text-red-500 font-semibold",children:[e==null?void 0:e.classPerformance,"%"]}):l.jsxs("div",{className:"w-[150px] border-r pl-4",children:[e==null?void 0:e.classPerformance,"%"]}),l.jsxs("div",{className:"w-[150px] border-r pl-4 text-green-600 text-bold",children:[((u=d==null?void 0:d.data)==null?void 0:u.presentTerm)==="1st Term"?Math.floor(((j=e==null?void 0:e.schoolFeesHistory)==null?void 0:j.length)/((N=e==null?void 0:e.students)==null?void 0:N.length)*100):((g=d==null?void 0:d.data)==null?void 0:g.presentTerm)==="2nd Term"?isNaN(Math.floor(((f=e==null?void 0:e.schoolFeesHistory2)==null?void 0:f.length)/((v=e==null?void 0:e.students)==null?void 0:v.length)*100))?0:Math.floor(((r=e==null?void 0:e.schoolFeesHistory2)==null?void 0:r.length)/((b=e==null?void 0:e.students)==null?void 0:b.length)*100):((w=d==null?void 0:d.data)==null?void 0:w.presentTerm)==="3rd Term"?isNaN(Math.floor(((y=e==null?void 0:e.schoolFeesHistory3)==null?void 0:y.length)/((F=e==null?void 0:e.students)==null?void 0:F.length)*100))?0:Math.floor(((H=e==null?void 0:e.schoolFeesHistory3)==null?void 0:H.length)/((S=e==null?void 0:e.students)==null?void 0:S.length)*100):null,"%"]}),l.jsxs("div",{className:"w-[150px] border-r pl-4 text-red-500 font-semibold",children:[(a==null?void 0:a.presentTerm)==="1st Term"?Math.floor((((M=e==null?void 0:e.students)==null?void 0:M.length)-((P=e==null?void 0:e.schoolFeesHistory)==null?void 0:P.length))/((R=e==null?void 0:e.students)==null?void 0:R.length)*100):(a==null?void 0:a.presentTerm)==="2nd Term"?Math.floor(((($=e==null?void 0:e.students)==null?void 0:$.length)-((k=e==null?void 0:e.schoolFeesHistory)==null?void 0:k.length))/((T=e==null?void 0:e.students)==null?void 0:T.length)*100):(a==null?void 0:a.presentTerm)==="3rd Term"?Math.floor((((V=e==null?void 0:e.students)==null?void 0:V.length)-((A=e==null?void 0:e.schoolFeesHistory)==null?void 0:A.length))/((B=e==null?void 0:e.students)==null?void 0:B.length)*100):null,"%"]}),l.jsx(C,{to:`student-result/${e._id}`,className:"w-[220px] border-r",children:l.jsx(G,{name:"View Student Results",className:"py-3 w-[86%] bg-black text-white  hover:bg-neutral-800 transition-all duration-300",onClick:()=>{}})})]},e)})},e._id)})})]})]})};export{Z as default};
