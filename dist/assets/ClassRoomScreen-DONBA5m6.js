import{N as L,A as V,aC as k,u as I,j as l,k as A,B as $,aq as B,L as P,J as M,t as _,H as q,ci as E,bF as R}from"./index-gGbhD9zv.js";document.title="View Students";const J=({props:d})=>{const{teacherDetail:s}=M(d);return l.jsxs("div",{className:"w-[220px] flex gap-2 border-r",children:[l.jsx("img",{className:"w-16 shadow-md h-14 rounded-2xl border object-cover",src:s!=null&&s.avatar?s==null?void 0:s.avatar:_}),l.jsxs("div",{children:[l.jsx("p",{className:"leading-tight",children:s==null?void 0:s.staffName}),l.jsx("div",{className:"mt-6"}),l.jsxs("p",{className:"flex items-center gap-1",children:[l.jsx(q,{className:"ml-1 mb-1"}),l.jsx("span",{children:parseFloat(s==null?void 0:s.staffRating).toFixed(2)})]})]})]})},O=({props:d})=>{var c;const{classStudents:s}=E(d),a=(c=s==null?void 0:s.students)==null?void 0:c.map(e=>(e==null?void 0:e.totalPerformance)===void 0?0:e==null?void 0:e.totalPerformance),t=(a==null?void 0:a.reduce((e,n)=>e+n,0))/(a==null?void 0:a.length);return l.jsxs("div",{className:"",children:[t?t.toFixed(2):0,"%"]})},D=()=>{const d=L(),{schoolClassroom:s}=V(),a=k(e=>e==null?void 0:e.classroomToggled),{data:t}=I(),c=()=>{document.startViewTransition?document.startViewTransition(()=>{d(R(!a))}):d(R(!a))};return l.jsxs("div",{className:"",children:[l.jsx("div",{className:"mb-0"}),l.jsx(A,{name:"View and Manage Class Rooms"}),l.jsx("div",{className:"mt-10"}),l.jsx("div",{className:"flex w-full justify-end items-start",children:l.jsx($,{name:"Add new ClassRoom",className:`uppercase text-[12px] font-medium ${(t==null?void 0:t.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} py-2 sm:py-4 md:py-2 lg:py-4 md:px-8 ${(t==null?void 0:t.categoryType)==="Secondary"?"hover:bg-blue-900":"hover:bg-red-900"} cursor-pointer transition-all duration-300`,onClick:c})}),l.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[l.jsxs("div",{className:"text-[gray] w-[1480px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[l.jsx("div",{className:"w-[80px] border-r",children:"Class"}),l.jsx("div",{className:"w-[100px] border-r",children:"Number of Students"}),l.jsx("div",{className:"w-[100px] border-r",children:"Number of Subjects Offered"}),l.jsx("div",{className:"w-[270px] border-r",children:"Class School-Fee"}),l.jsx("div",{className:"w-[20px] border-r"}),l.jsx("div",{className:"w-[270px] border-r",children:"school fee paid Ratio"}),l.jsx("div",{className:"w-[220px] border-r",children:"class teacher Info"}),l.jsx("div",{className:"w-[150px] border-r",children:"Class Academic Performance"}),l.jsx("div",{className:"w-[180px] border-r",children:"View Detail"})]}),l.jsx("div",{className:" w-[1480px] overflow-hidden",children:B.sortBy(s==null?void 0:s.classRooms,"className").map((e,n)=>{var i,x,m,h,r,j,u,N,b,g,f,v,y,w,o,F,S,T,C,H;return l.jsx("div",{children:l.jsx("div",{children:l.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  h-16 px-4 my-2  overflow-hidden ${n%2===0?"bg-slate-50":"bg-white"}`,children:[l.jsx("div",{className:"w-[80px] border-r",children:e==null?void 0:e.className}),l.jsx("div",{className:"w-[100px] border-r",children:(i=e==null?void 0:e.students)==null?void 0:i.length}),l.jsx("div",{className:"w-[100px] border-r",children:(x=e==null?void 0:e.classSubjects)==null?void 0:x.length}),l.jsxs("div",{className:"w-[270px] border-r flex justify-between pr-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"1st Term"}),l.jsxs("p",{className:"mt-3 font-bold",children:["₦",parseInt(e==null?void 0:e.class1stFee).toLocaleString()]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"2nd Term"}),l.jsxs("p",{className:"mt-3 font-bold",children:["₦",parseInt(e==null?void 0:e.class2ndFee).toLocaleString()]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"3rd Term"}),l.jsxs("p",{className:"mt-3 font-bold",children:["₦",parseInt(e==null?void 0:e.class3rdFee).toLocaleString()]})]})]}),l.jsx("div",{className:"w-[20px] border-r",children:"-"}),l.jsxs("div",{className:"w-[270px] border-r flex justify-between pr-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"1st Term"}),l.jsxs("p",{className:`mt-3 font-bold *:
                         ${((m=e==null?void 0:e.schoolFeesHistory)==null?void 0:m.length)/((h=e==null?void 0:e.students)==null?void 0:h.length)*100>=70?`${(t==null?void 0:t.categoryType)==="Secondary"?"text-blue-950":"text-green-950"}`:"text-red-500"} 
                        `,children:[parseFloat((((r=e==null?void 0:e.schoolFeesHistory)==null?void 0:r.length)/((j=e==null?void 0:e.students)==null?void 0:j.length)*100).toFixed(2))?parseFloat((((u=e==null?void 0:e.schoolFeesHistory)==null?void 0:u.length)/((N=e==null?void 0:e.students)==null?void 0:N.length)*100).toFixed(2)):0,"%"]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"2nd Term"}),l.jsxs("p",{className:`mt-3 font-bold *:
                         ${((b=e==null?void 0:e.schoolFeesHistory)==null?void 0:b.length)/((g=e==null?void 0:e.students)==null?void 0:g.length)*100>=70?`${(t==null?void 0:t.categoryType)==="Secondary"?"text-blue-950":"text-green-950"}`:"text-red-500"} 
                        `,children:[parseFloat((((f=e==null?void 0:e.schoolFeesHistory2)==null?void 0:f.length)/((v=e==null?void 0:e.students)==null?void 0:v.length)*100).toFixed(2))?parseFloat((((y=e==null?void 0:e.schoolFeesHistory2)==null?void 0:y.length)/((w=e==null?void 0:e.students)==null?void 0:w.length)*100).toFixed(2)):0,"%"]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("label",{className:"text-[10px] font-medium",children:"3rd Term"}),l.jsxs("p",{className:`mt-3 font-bold *:
                         ${((o=e==null?void 0:e.schoolFeesHistory3)==null?void 0:o.length)/((F=e==null?void 0:e.students)==null?void 0:F.length)*100>=70?`${(t==null?void 0:t.categoryType)==="Secondary"?"text-blue-950":"text-green-950"}`:"text-red-500"} 
                        `,children:[parseFloat((((S=e==null?void 0:e.schoolFeesHistory3)==null?void 0:S.length)/((T=e==null?void 0:e.students)==null?void 0:T.length)*100).toFixed(2))?parseFloat((((C=e==null?void 0:e.schoolFeesHistory)==null?void 0:C.length)/((H=e==null?void 0:e.students)==null?void 0:H.length)*100).toFixed(2)):0,"%"]})]})]}),l.jsx("div",{className:"w-[220px]",children:e!=null&&e.classTeacherName?l.jsx(J,{props:e==null?void 0:e.teacherID}):l.jsx("div",{children:"no teacher assigned yet"})}),l.jsx("div",{className:"w-[150px] border-r  ",children:l.jsx(O,{props:e==null?void 0:e._id})}),l.jsx(P,{to:`class-details/${e==null?void 0:e._id}`,className:"w-[180px] border-r",children:l.jsx($,{name:"View class",className:"py-3 w-[85%] bg-black text-white  hover:bg-neutral-800 transition-all duration-300",onClick:()=>{}})})]},e)})})})})]})]})};export{D as default};
