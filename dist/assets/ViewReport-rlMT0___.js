import{u as x,aa as m,j as s,Q as n,ab as v,m as r,e as d,ac as h,$ as j,J as o,t as b}from"./index-C_ozXG6-.js";const N=({props:i})=>{var a;const{studentInfoData:l}=j(i);x();const{teacherDetail:e}=o(i);return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-[200px] border-r ",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"avatar",children:s.jsx("div",{className:"mask mask-squircle w-12 h-12",children:s.jsx("img",{src:e!=null&&e.avatar?e==null?void 0:e.avatar:l!=null&&l.avatar?l==null?void 0:l.avatar:b,alt:"Avatar"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:e!=null&&e.staffName?e==null?void 0:e.staffName:`${l==null?void 0:l.studentFirstName} ${l==null?void 0:l.studentLastName}`}),s.jsx("div",{className:"text-[10px] font-semibold opacity-50 flex flex-wrap gap-1 ",children:e!=null&&e.classesAssigned?(a=e==null?void 0:e.classesAssigned)==null?void 0:a.map(c=>s.jsx("div",{className:"pr-2 border-r-2",children:c.className})):l==null?void 0:l.classAssigned})]})]})}),s.jsx("div",{className:"w-[100px] border-r ml-2",children:e?e==null?void 0:e.status.split("-")[1]:l==null?void 0:l.status.split("-")[1]})]})},t=()=>{const{data:i}=x(),{complainData:l}=m(i==null?void 0:i._id);return s.jsxs("div",{children:[s.jsx(n,{name:"Report and Complains"}),s.jsx("div",{className:"mb-28"}),s.jsx("div",{className:"mb-28"}),s.jsxs("div",{className:"py-6 px-2 border rounded-md min-w-[300px] overflow-y-hidden ",style:{color:"var(--secondary)"},children:[s.jsxs("div",{className:"text-[gray] w-[1090px] flex  gap-2 text-[12px] font-medium uppercase mb-10 px-4",children:[s.jsx("div",{className:"w-[80px] border-r",children:"Resolved"}),s.jsx("div",{className:"w-[200px] border-r",children:"Name"}),s.jsx("div",{className:"w-[100px] border-r",children:"Status"}),s.jsx("div",{className:"w-[400px] border-r",children:"Complains"}),s.jsx("div",{className:"w-[100px] border-r",children:"Urgency"}),s.jsx("div",{className:"w-[80px] border-r",children:"Make as seen"}),s.jsx("div",{className:"w-[80px] border-r",children:"Make as Resolved"})]}),s.jsx("div",{className:" w-[1090px] overflow-hidden ",children:l==null?void 0:l.map((e,a)=>s.jsx("div",{children:s.jsx("div",{children:s.jsxs("div",{className:`w-full flex items-center gap-2 text-[12px] font-medium  min-h-16 px-4 my-2  overflow-hidden ${a%2===0?"bg-slate-50":"bg-white"}`,children:[s.jsx("div",{className:"w-[80px] border-r",children:s.jsx("label",{children:s.jsx("input",{checked:e==null?void 0:e.resolve,type:"checkbox",className:"checkbox"})})}),s.jsx(N,{props:e.reporterID}),s.jsx("div",{className:"w-[400px] py-2 flex justify-start border-r font-normal ml-2",children:e==null?void 0:e.title}),s.jsx("div",{className:"w-[100px] border-r",children:e==null?void 0:e.importance}),s.jsx("div",{className:"w-[80px] border-r pl-6 ",children:s.jsx("label",{onClick:()=>{v(i==null?void 0:i._id,e==null?void 0:e._id).then(c=>{c.status===201?(r(`api/view-school-complain/${i==null?void 0:i._id}`),d.success("complain has been marked as Seen")):d.error("something went wrong")})},children:s.jsx("input",{checked:e==null?void 0:e.seen,type:"checkbox",className:"checkbox checkbox-error"})})}),s.jsx("div",{className:"w-[80px] border-r  pl-6",children:s.jsx("label",{onClick:()=>{h(i==null?void 0:i._id,e==null?void 0:e._id).then(c=>{c.status===201?(r(`api/view-school-complain/${i==null?void 0:i._id}`),d.success("complain has been resolved")):d.error("something went wrong")})},children:s.jsx("input",{checked:e==null?void 0:e.resolve,type:"checkbox",className:"checkbox checkbox-warning "})})})]},e)})}))})]})]})};export{t as default};
