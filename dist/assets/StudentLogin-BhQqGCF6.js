import{N as P,aT as D,r,j as e,I as C,L as f,B as c,_ as g,dw as b,dt as j,aW as v,e as d}from"./index-CpMs4x3j.js";import{I as T}from"./Input-Bgxl8oE8.js";import{l as _}from"./mainLogo-DKfqbt2a.js";import{P as N}from"./PasswordIput-Q4pKGxL4.js";const W=()=>{const i=P(),x=D(),[h,S]=r.useState(""),[u,k]=r.useState(""),[m,E]=r.useState(""),[a,n]=r.useState(!1),[p,y]=r.useState(!1),w=()=>{y(!p)},I=()=>{n(!0),b({email:h,password:u}).then(t=>{var o,l;t.status===201?(i(j(t)),i(v(t.user)),d.success("login successful"),n(!1),setTimeout(()=>{!a&&x("/dashboard"),window.location.reload()},2e3)):(n(!1),d.error(`${(l=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:l.message}`))}).then(()=>{})},L=()=>{n(!0),b({token:m}).then(t=>{var o,l;t.status===201?(i(j(t)),i(v(t.user)),d.success("login successful"),n(!1),!a&&x("/dashboard"),window.location.reload()):((l=(o=t==null?void 0:t.response)==null?void 0:o.data)==null||l.message,n(!1),d.error("Poor Internet Connectivity"))}).then(()=>{})};return e.jsxs("div",{className:"freshh w-full h-full flex flex-col justify-center items-center ",children:[e.jsx(C,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"mb-10 text-center flex items-center w-full flex-col",children:[e.jsxs(f,{to:"/",children:[e.jsx("img",{className:"mb-5 w-[180px] md:w-56 h-[80px] sm:h-28 object-contain",src:_})," "]}),e.jsx("div",{className:"text-[26px] font-bold mb-3 text-blue-900",children:"Welcome Back"}),e.jsx("div",{className:"text-[14px] -mt-3 w-[70%] leading-tight",children:"Sign in as Student or Parent to continue your Experience."})]}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"flex w-[80%] md:w-[500px] ",children:[e.jsx(c,{className:"bg-black font-semibold py-4 ml-0 flex-1",name:"Login with Email/Password",onClick:w}),e.jsx(c,{className:"bg-blue-950 py-4 font-semibold mr-0 flex-1",name:"Login with EntrollmentID",onClick:w})]})}),p?e.jsxs("div",{className:"rounded-md bg-white transition-all duration-300 min-h-[200px] w-[80%] md:w-[500px] border-[2px] p-4",children:[e.jsx(T,{placeholder:"Email",className:"w-[97%]",type:"email",required:!0,value:h,onChange:s=>{S(s.target.value)}}),e.jsx(N,{placeholder:"Your Password",className:"w-[97%]",show:!0,errorText:u&&"Ensure your Password correct",required:!0,value:u,onChange:s=>{k(s.target.value)}}),e.jsxs("div",{children:[e.jsx(c,{name:a?"Loading...":"Student Login with Email/Password",className:"w-[97%] bg-neutral-950 text-white h-14 hover:bg-neutral-800 transition-all duration-300",type:"submit",onClick:I,icon:a&&e.jsx(g,{color:"white",size:18})}),e.jsx("div",{className:"text-[12px] ml-2 font-bold cursor-pointer"})]})]}):e.jsxs("div",{className:"rounded-md transition-all duration-300 bg-white min-h-[100px] w-[80%] md:w-[500px] border-[2px] p-4",children:[e.jsx(N,{placeholder:"EnrollmentID",className:"w-[97%]",show:!0,errorText:m&&"Ensure EnrollmentID correct",required:!0,value:m,onChange:s=>{E(s.target.value)}}),e.jsxs("div",{children:[e.jsx(c,{name:a?"Loading...":"Student/Parent Login with EnrollmentID",className:"w-[97%] bg-blue-950 text-white h-14 hover:bg-blue-800 transition-all duration-300",type:"submit",onClick:L,icon:a&&e.jsx(g,{color:"white",size:18})}),e.jsx("div",{className:"text-[12px] ml-2 font-bold cursor-pointer"})]})]}),e.jsxs("div",{className:"mt-5 pb-[20px] text-[13px] w-[250px] sm:w-[350px] md:w-auto text-center",children:["Donâ€™t have an account with us?"," ",e.jsx("span",{className:"font-bold ml-2 text-blue-900",children:e.jsx(f,{to:"/auth",children:"Register here"})})]})]})};export{W as default};
