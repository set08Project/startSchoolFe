import{o as k,aT as C,bP as E,r as m,cY as L,m as I,j as s,_ as P,aq as v,d_ as W}from"./index-BomD4pl1.js";import{L as O}from"./LittleHeader-CY_gKZnO.js";import{d as K,C as _}from"./ckeditor-bZT2XsXW.js";import{M as z}from"./MainInput-C5G-zm7k.js";document.title="update and Improve Lesson Note ";const Y=()=>{const{noteID:h}=k(),w=C(),{teacherInfo:f}=E(),[j,b]=m.useState(!1),[$,T]=m.useState(""),[N,A]=m.useState(""),[S,V]=m.useState(""),[x,y]=m.useState([""]),{lessonNoteData:i}=L(h),M=()=>{b(!0);const l=v.reduce(x,(a,{label:n,value:c})=>(a[n]=c,a),{}),t=v.reduce(N,(a,{label:n,value:c})=>(a[n]=c,a),{}),u=v.reduce(S,(a,{label:n,value:c})=>(a[n]=c,a),{}),d={...l,...t,...u,content:$};W(f==null?void 0:f._id,h,d).then(a=>{a.status===201?(b(!1),w("/lesson-note")):b(!1)})};let p={...i},o={...i},e={...i},r=[{label:"This lesson is for what week?",placeholder:"Week 1",name:"week",defaultValue:`${e==null?void 0:e.week}`},{label:"Input the started date",placeholder:"10/02/2024",name:"createDate",defaultValue:`${e==null?void 0:e.createDate}`},{label:"This lesson is for what class?",placeholder:"JSS 1B",name:"classes",defaultValue:`${e==null?void 0:e.classes}`},{label:"This lesson is for what subject?",placeholder:"Mathematics",name:"subject",defaultValue:`${e==null?void 0:e.subject}`},{label:"This lesson is for what topic?",placeholder:"Probabilty",name:"topic",defaultValue:`${e==null?void 0:e.topic}`},{label:"This lesson is for what sub-topic?",placeholder:"Sub-Topic",name:"subTopic",defaultValue:`${e==null?void 0:e.subTopic}`},{label:"This lesson is for how many periods?",placeholder:"2 - 5",name:"period",defaultValue:`${e==null?void 0:e.period}`},{label:"How long will this lesson take?",placeholder:"40 minutes x no of periods",name:"duration",defaultValue:`${e==null?void 0:e.duration}`},{label:"What are your teaching materials?",placeholder:"die, coins, or charts",name:"instructionalMaterial",defaultValue:`${e==null?void 0:e.instructionalMaterial}`},{label:"What are your reference materials?",placeholder:"Integrated Mathematics",name:"referenceMaterial",defaultValue:`${e==null?void 0:e.referenceMaterial}`}],g=r.map(l=>l.defaultValue);return m.useEffect(()=>{I(`api/view-lesson-note-detail/${h}`),console.log("run again!!"),console.log("Readdata:",e);let l=setTimeout(()=>{r=[{label:"This lesson is for what week?",placeholder:"Week 1",name:"week",defaultValue:`${e==null?void 0:e.week}`},{label:"Input the started date",placeholder:"10/02/2024",name:"createDate",defaultValue:`${e==null?void 0:e.createDate}`},{label:"This lesson is for what class?",placeholder:"JSS 1B",name:"classes",defaultValue:`${e==null?void 0:e.classes}`},{label:"This lesson is for what subject?",placeholder:"Mathematics",name:"subject",defaultValue:`${e==null?void 0:e.subject}`},{label:"This lesson is for what topic?",placeholder:"Probabilty",name:"topic",defaultValue:`${e==null?void 0:e.topic}`},{label:"This lesson is for what sub-topic?",placeholder:"Sub-Topic",name:"subTopic",defaultValue:`${e==null?void 0:e.subTopic}`},{label:"This lesson is for how many periods?",placeholder:"2 - 5",name:"period",defaultValue:`${e==null?void 0:e.period}`},{label:"How long will this lesson take?",placeholder:"40 minutes x no of periods",name:"duration",defaultValue:`${e==null?void 0:e.duration}`},{label:"What are your teaching materials?",placeholder:"die, coins, or charts",name:"instructionalMaterial",defaultValue:`${e==null?void 0:e.instructionalMaterial}`},{label:"What are your reference materials?",placeholder:"Integrated Mathematics",name:"referenceMaterial",defaultValue:`${e==null?void 0:e.referenceMaterial}`}],g=r.map(t=>t.defaultValue),clearTimeout(l)},100)},[i,r,g,p,o,e]),console.log(r),s.jsxs("div",{children:[s.jsx(O,{name:`${document.title} `}),s.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 text-blue-950 mt-10",children:r==null?void 0:r.map((l,t)=>{let u=g[t];return s.jsx("div",{children:s.jsxs("div",{className:"text-[12px] ",children:[s.jsx("label",{children:l.label}),s.jsx(z,{className:"w-auto ml-0",placeholder:l.placeholder,defaultValue:u,value:x[t]?x[t].value:u,onChange:d=>{const a=d.target.value;y(n=>{const c=[...n];return c[t]={label:l.name,value:a},c})}})]})})})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[{placeholder:"Previous Knowledge",name:"previousKnowledge",defaultValue:`${i==null?void 0:i.previousKnowledge}`},{placeholder:"Specific Objectives",name:"specificObjectives",defaultValue:`${i==null?void 0:i.specificObjectives}`}].map((l,t)=>s.jsx("div",{children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-1 text-[12px]",children:l.placeholder}),s.jsx("textarea",{className:"w-full col-span-1 bg-white transition-all duration-300 focus:outline-1 focus:outline outline-blue-950 rounded-md py-1 px-2 text-[13px] h-[100px] resize-none mx-0 border",defaultValue:l.defaultValue,onChange:u=>{const d=u.target.value;V(a=>{const n=[...a];return n[t]={label:l==null?void 0:l.name,value:d},n})}})]})}))}),s.jsx("p",{className:"text-[12px] mt-3",children:"Lesson Note"}),s.jsx("div",{className:"w-full my-1  min-h-[300px] border",children:s.jsx(K.CKEditor,{editor:_,data:p==null?void 0:p.content,onChange:(l,t)=>{const u=t.getData();T(u)}})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-16",children:[{placeholder:"Evaluation",name:"evaluation",defaultValue:`${o==null?void 0:o.evaluation}`},{placeholder:"Summary",name:"summary",defaultValue:`${o==null?void 0:o.summary}`},{placeholder:"Presentation",name:"presentation",defaultValue:`${o==null?void 0:o.presentation}`},{placeholder:"Assignment",name:"assignment",defaultValue:`${o==null?void 0:o.assignment}`}].map((l,t)=>(l==null||l.defaultValue,s.jsxs("div",{children:[s.jsx("div",{className:"mb-1 text-[12px]",children:l.placeholder}),s.jsx("textarea",{className:"w-full col-span-1 bg-white transition-all duration-300 focus:outline-1 focus:outline outline-blue-950 rounded-md py-1 px-2 text-[13px] h-[100px] resize-none mx-0 border",defaultValue:l.defaultValue,onChange:u=>{const d=u.target.value;V(a=>{const n=[...a];return n[t]={label:l==null?void 0:l.name,value:d},n})}})]})))}),s.jsx("button",{onClick:M,className:"btn text-white bg-blue-950 mt-3 px-12 hover:bg-blue-900 border-none",children:j?s.jsxs("div",{children:[s.jsx(P,{size:10,color:"white"}),s.jsx("span",{children:"Processing..."})]}):"Submit Improved Note "})]})};export{Y as default};
