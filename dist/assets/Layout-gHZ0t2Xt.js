import{r as p,j as e,u as _,N as P,aT as Pe,aU as b,B as $,aV as Fe,aW as Ve,aX as Me,aY as L,aZ as F,a_ as ie,a$ as Ae,m as S,e as v,aC as T,b0 as ce,b1 as G,b2 as A,b3 as je,E as De,b4 as D,b as ke,I as ne,l as J,_ as E,b5 as Ie,b6 as W,b7 as Le,aa as Ee,L as Te,b8 as ze,b9 as Oe,ba as ge,t as Ce,bb as ye,bc as Be,bd as Ue,be as K,bf as R,bg as Z,bh as q,bi as Q,bj as X,bk as de,bl as ee,bm as se,bn as te,bo as ve,bp as me,bq as le,br as oe,bs as He,bt as $e,bu as Ge,bv as Ye,bw as Je,bx as we,Y as We,by as Ke,bz as Re,bA as re,bB as Ze,bC as qe,bD as Qe,bE as Xe,O as es,bF as Ne,bG as ss}from"./index-CpMs4x3j.js";import{I as ts}from"./index-C-9g8dzi.js";import{a as ls}from"./index-fMSArfgd.js";import{I as Y}from"./Input-Bgxl8oE8.js";/* empty css                         */import{A as ns,a as is}from"./AddNewStudent-DwAeC27Y.js";import{A as os}from"./AddAnyItems-CMNHFVYZ.js";import"./index-DzbfELaA.js";import"./index-sGiGiWsa.js";const _e=({style1:n,style2:l})=>{const t=new Date("2025-04-03T00:00:00"),h=()=>{const o=new Date,w=t.getTime()-o.getTime();return w<=0?{days:0,hours:0,minutes:0,seconds:0}:{days:Math.floor(w/(1e3*60*60*24)),hours:Math.floor(w/(1e3*60*60)%24),minutes:Math.floor(w/(1e3*60)%60),seconds:Math.floor(w/1e3%60)}},[i,s]=p.useState(h());return p.useEffect(()=>{if(!i)return;const o=setInterval(()=>{s(h())},1e3);return()=>clearInterval(o)},[i]),e.jsxs("div",{children:[e.jsxs("h1",{className:`leading-[1.2] mb-2 text-[${l}]`,children:["Countdown to Start ",e.jsx("br",{}),"2nd Term"]}),e.jsxs("h2",{className:`text-red-500 text-[${n}] uppercase font-semibold`,children:[i.days,"d ",i.hours,"h ",i.minutes,"m"," ",i.seconds,"s"]})]})},ae=({log:n,name:l,but:t,propName:h})=>{const{data:i}=_(),s=P(),o=Pe(),w=()=>{document.startViewTransition?document.startViewTransition(()=>{s(L(!1))}):s(L(!1))},r=()=>{document.startViewTransition?document.startViewTransition(()=>{s(L(!1)),s(F(!1))}):(s(L(!1)),s(F(!1)))},[j,a]=p.useState(""),c=m=>{const g=m.target.files[0],y=new FormData;y.append("avatar",g),a(g),s(ie(!0));const f=setTimeout(()=>{Ae(i==null?void 0:i._id,y).then(N=>{var d,u;S(`api/view-school/${i==null?void 0:i._id}`),N.status===201?(v.success("Image has been updated"),s(ie(!1)),r()):(v.error(`${(u=(d=N==null?void 0:N.response)==null?void 0:d.data)==null?void 0:u.message}`),s(ie(!1)),r())}),clearTimeout(f)},50)};return p.useEffect(()=>{},[j]),e.jsxs("div",{className:`border overflow-y-auto w-[250px] text-blue-950  ${(i==null?void 0:i.categoryType)==="Secondary"?"bg-blue-50":"bg-red-50"} shadow-sm min-h-48 rounded-md p-1 ${h==="navs"?"smallph h-[550px] overflow-y-auto":""}`,children:[e.jsx("div",{className:"flex flex-col items-between  w-full",children:l==null?void 0:l.map(({title:m,icon:g,to:y},f)=>e.jsx(b,{to:`${y}`,className:`w-full\r
          `,onClick:r,children:e.jsxs("div",{className:`text-[12px] w-full py-3 font-medium  duration-300 transition-all ${(i==null?void 0:i.categoryType)==="Secondary"?"hover:bg-blue-950":"hover:bg-red-950"} p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between`,children:[e.jsx("div",{children:m}),e.jsx("div",{className:"text-[17px]",children:g})]})},f))}),t&&e.jsx("div",{className:"w-full flex justify-center mt-3",children:e.jsx(b,{to:"/store",onClick:w,children:e.jsx($,{name:"Add to Store",className:`text-[12px] uppercase font-bold ${(i==null?void 0:i.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} text-white rounded-[5px] py-3`})})}),n&&e.jsxs("label",{htmlFor:"id",className:`text-[12px] font-medium py-3 duration-300 transition-all ${(i==null?void 0:i.categoryType)==="Secondary"?"hover:bg-blue-950":"hover:bg-red-950"} p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between`,onClick:()=>{},children:["Upload Avatar",e.jsx("input",{id:"id",className:"hidden",onChange:c,type:"file"}),e.jsx("div",{children:e.jsx(ts,{size:17})})]}),n&&e.jsxs("div",{className:`text-[12px] text-blue-950 font-medium py-3 duration-300 transition-all ${(i==null?void 0:i.categoryType)==="Secondary"?"hover:bg-blue-950":"hover:bg-red-950"} p-2 rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between`,onClick:()=>{s(Fe()),s(Ve(null)),r();const m=setTimeout(()=>{window.location.reload(),o("/"),clearTimeout(m),localStorage.clear()},200)},children:[e.jsx("div",{children:"Log-out"}),e.jsx("div",{children:e.jsx(Me,{size:17})})]}),e.jsx("div",{className:"mt-4"}),e.jsx("hr",{}),e.jsxs("p",{className:"p-2 text-center break-words text-[12px] font-bold uppercase ",children:[(i==null?void 0:i.presentTerm)==="1st Term"&&e.jsx("div",{className:"mt-4 mb-2 px-2 text-center flex flex-col justify-center items-center border mx-2 rounded-md py-2",children:e.jsx("div",{className:" text-[13px] font-medium ",children:e.jsx(_e,{style1:"14px",style2:"12px"})})}),i==null?void 0:i.schoolName]})]})},rs=({children:n,tip:l,side:t})=>e.jsx("div",{className:"w-full ",children:e.jsx("div",{className:`tooltip ${t&&"tooltip-bottom "} -mt-5 w-full  `,"data-tip":l,children:n})}),as=()=>{const n=P();T(i=>i.sessionToggle);const l=()=>{document.startViewTransition?document.startViewTransition(()=>{n(D(!0)),n(G(!1))}):(n(D(!0)),n(G(!1)))},{data:t}=_(),{schoolInfo:h}=ce(t==null?void 0:t._id);return e.jsxs("div",{className:`border w-[250px] ${(t==null?void 0:t.categoryType)==="Secondary"?"bg-blue-50":"bg-red-50"} shadow-sm min-h-42 rounded-md p-1 ${(t==null?void 0:t.categoryType)==="Secondary"?"text-blue-950":"text-green-950"}`,children:[e.jsx("p",{className:"text-[14px] mt-2 font-bold ml-2",children:"Academic Session created"}),e.jsx("div",{className:"flex flex-col items-between  w-full",children:(h==null?void 0:h.length)>0?e.jsx("div",{children:h==null?void 0:h.map((i,s)=>e.jsx("div",{children:s<3&&e.jsx("div",{className:"w-full",onClick:()=>{document.startViewTransition?document.startViewTransition(()=>{n(G(!1)),n(A(!0)),n(je(i==null?void 0:i._id))}):(n(G(!1)),n(A(!0)),n(je(i==null?void 0:i._id)))},children:e.jsx("div",{className:`text-[12px] w-full py- font-medium  duration-300 transition-all ${(t==null?void 0:t.categoryType)==="Secondary"?"hover:bg-blue-950":"hover:bg-red-950"} rounded-md my-1 hover:text-white cursor-pointer flex items-center justify-between border`,children:e.jsxs(rs,{tip:"Add New Term",children:[" ",e.jsxs("div",{className:"w-full flex pl-2 mt-7 mb-2",onClick:()=>{console.log("Let's do this: ",i._id)},children:["Session: ",i==null?void 0:i.year]})]})})},`${s+i}`)},i._id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-1 mt-3",children:[e.jsx(De,{size:13}),e.jsx("p",{className:"mt-3 text-[12px] font-medium",children:"Session hasn't been declared"})]})}),e.jsx("div",{className:"mt-4"}),e.jsx("hr",{}),e.jsxs("div",{className:`flex w-full justify-center items-center cursor-pointer ${(t==null?void 0:t.categoryType)==="Secondary"?"text-blue-900":"text-green-900"} transition-all duraion-300 mt-2`,onClick:l,children:[e.jsx("p",{className:"font-bold",children:"+"}),e.jsx("p",{className:"p-2 text-center break-words text-[12px] font-bold uppercase ",children:"Add New Session"})]})]})},Se=()=>{const n=P(),[l,t]=p.useState(""),[h,i]=p.useState(!1);ke();const{data:s}=_(),o=()=>{document.startViewTransition?document.startViewTransition(()=>{n(D(!1))}):n(D(!1))},w=()=>{i(!0),Ie(s==null?void 0:s._id,{year:l}).then(r=>{var j,a,c;r.status===201?(S(`api/view-school-session/${s==null?void 0:s._id}`),S(`api/view-school/${s==null?void 0:s._id}`),document.startViewTransition?document.startViewTransition(()=>{v.error("Something went wrong"),n(D(!1))}):(n(D(!1)),W((j=r==null?void 0:r.data)==null?void 0:j._id,{term:"1st Term"}).then(()=>{v.success("Term and Session created"),v.success("Session created")}))):document.startViewTransition?document.startViewTransition(()=>{var m;S(`api/view-school-session/${s==null?void 0:s._id}`),S(`api/view-school/${s==null?void 0:s._id}`),console.log("read and Display: ",r),W((m=r==null?void 0:r.data)==null?void 0:m._id,{term:"1st Term"}).then(()=>{var g,y;S(`api/view-school-session/${(g=r==null?void 0:r.data)==null?void 0:g._id}`),S(`api/view-school/${(y=r==null?void 0:r.data)==null?void 0:y._id}`),v.success("Session of First Term created")}),n(D(!1))}):(n(D(!1)),S(`api/view-school-session/${s==null?void 0:s._id}`),S(`api/view-school/${s==null?void 0:s._id}`),console.log("read: ",(a=r==null?void 0:r.data)==null?void 0:a._id),W((c=r==null?void 0:r.data)==null?void 0:c._id,{term:"1st Term"}).then(()=>{var m,g;S(`api/view-school-session/${(m=r==null?void 0:r.data)==null?void 0:m._id}`),S(`api/view-school/${(g=r==null?void 0:r.data)==null?void 0:g._id}`),v.success("Term and Session created"),v.success("Session created")}))}).then(()=>{t(""),i(!1)})};return e.jsxs("div",{className:"flex justify-center bg-blue-50   ",children:[e.jsx(ne,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"w-[300px] sm:w[400px] md:w-[500px] min-h-[300px] border rounded-md bg-white shadow-lg p-4",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Session"}),e.jsx("p",{className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",onClick:o,children:e.jsx(J,{})})]}),e.jsx("hr",{}),e.jsx("p",{className:"mt-2 leading-tight text-[13px] font-medium",children:"Please note that each session you create, holds records of that particular session."}),e.jsx("div",{className:"mt-10 w-full gap-2 flex items-center",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Session Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Y,{placeholder:"Session Year: 2023/2024",className:"mx-0 h-10 w-full",value:l,onChange:r=>{t(r.target.value)}})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:l!==""?e.jsx("div",{children:h?e.jsx("div",{children:e.jsx($,{icon:e.jsx(E,{size:20,color:"white",className:"mb-0"}),name:"creating Session",className:` ${(s==null?void 0:s.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} py-0 mx-0`})}):e.jsx($,{name:"Proceed",className:` ${(s==null?void 0:s.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"}`,onClick:()=>{w()}})}):e.jsx($,{name:"Can't Proceed",className:`bg-[lightgray] ${(s==null?void 0:s.categoryType)==="Secondary"?"text-blue-950":"text-green-950"} mx-0 cursor-not-allowed`})})]})]})},cs=()=>{const n=T(a=>a.termID),l=P(),[t,h]=p.useState(!1),[i,s]=p.useState("");ke();const{data:o}=_(),w=()=>{document.startViewTransition?document.startViewTransition(()=>{l(A(!1))}):l(A(!1))},{sessionData:r}=Le(n),j=()=>{h(!0),W(n,{term:i}).then(a=>{var c,m;console.log(a),a.status===201?(S(`api/view-school-term-detail/${n}`),document.startViewTransition?document.startViewTransition(()=>{S(`api/view-school-session/${o==null?void 0:o._id}`),S(`api/view-school/${o==null?void 0:o._id}`),v.success("Term Session created"),l(A(!1))}):(l(A(!1)),S(`api/view-school-session/${o==null?void 0:o._id}`),S(`api/view-school/${o==null?void 0:o._id}`),v.success("Term Session created"))):(s(""),h(!1),document.startViewTransition?document.startViewTransition(()=>{var g,y;S(`api/view-school-session/${o==null?void 0:o._id}`),S(`api/view-school/${o==null?void 0:o._id}`),v.error(`${(y=(g=a==null?void 0:a.response)==null?void 0:g.data)==null?void 0:y.message}`),l(A(!1))}):(l(A(!1)),S(`api/view-school-term-detail/${n}`),v.error(`${(m=(c=a==null?void 0:a.response)==null?void 0:c.data)==null?void 0:m.message}`)))}).then(()=>{s(""),h(!1)})};return e.jsxs("div",{className:`flex justify-center ${(o==null?void 0:o.categoryType)==="Secondary"?"bg-blue-50":"bg-red-50"}`,children:[e.jsx(ne,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:"w-[320px] md:w-[500px] min-h-[300px] border rounded-md bg-[white] shadow-lg p-4",children:[e.jsxs("p",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Session"}),e.jsx("p",{className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",onClick:w,children:e.jsx(J,{})})]}),e.jsx("hr",{}),e.jsx("p",{className:"mt-2 leading-tight md:text-[13px] font-medium text-[11px]",children:"Please note that each Term you create, holds records of that particular Term."}),e.jsxs("div",{className:"mt-10 w-full gap-2 flex items-center",children:[e.jsxs("div",{className:"w-full mt-1",children:[e.jsxs("label",{className:"font-medium md:text-[12px] text-[10px]",children:["Session Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Y,{placeholder:"Session Year: 2023/2024",className:"mx-0 h-12 md:h-10 md:w-full w-[120px] text-[11px] md:text-[16px]",defaultValue:r==null?void 0:r.year,value:r==null?void 0:r.year})]}),e.jsxs("div",{className:"w-full -mt-5",children:[e.jsxs("label",{className:"font-medium md:text-[12px] text-[10px]",children:["Session Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"select select-info bg-white border-[#3B82F6] select-bordered md:w-full mt-2 text-[9px] md:text-[13px]",value:i,onChange:a=>{s(a.target.value)},children:[e.jsx("option",{selected:!0,children:"Choose Term"}),e.jsx("option",{value:"1st Term",children:"1st Term"}),e.jsx("option",{value:"2nd Term",children:"2nd Term"}),e.jsx("option",{value:"3rd Term",children:"3rd Term"})]})]})]}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:i!==""?e.jsx("div",{children:t?e.jsx("div",{children:e.jsx($,{icon:e.jsx(E,{size:20,color:"white",className:"mb-0"}),name:"creating Term",className:`${(o==null?void 0:o.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} py-0 mx-0`})}):e.jsx($,{name:"Proceed",className:`${(o==null?void 0:o.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} mx-0`,onClick:()=>{j()}})}):e.jsx($,{name:"Can't Proceed",className:`bg-[lightgray] ${(o==null?void 0:o.categoryType)==="Secondary"?"text-blue-950":"text-green-950"} mx-0 cursor-not-allowed`})})]})]})},ds=()=>{var y,f,N,d;const n=P(),l=T(u=>u.toggle),t=T(u=>u.toggleMenu),h=T(u=>u.imageToggle),i=T(u=>u.sessionToggled),s=T(u=>u==null?void 0:u.sessionToggle),o=T(u=>u==null?void 0:u.sessionTermToggle),[w,r]=p.useState(!1),j=()=>{document.startViewTransition?document.startViewTransition(()=>{n(L(!t)),n(F(!1))}):(n(L(!t)),n(F(!1)))},{data:a}=_(),{schoolInfo:c}=ce(a==null?void 0:a._id),{complainData:m}=Ee(a==null?void 0:a._id),g=(f=(y=m==null?void 0:m.map(u=>u.resolve&&u.seen))==null?void 0:y.filter(u=>u===!1))==null?void 0:f.length;return e.jsxs("div",{className:`h-[50px] ${(a==null?void 0:a.categoryType)==="Secondary"?"bg-blue-50":"bg-red-50"} border-b w-full flex justify-center items-center  z-10 fixed top-0 left-0 text-inherit`,onClick:()=>{},children:[e.jsxs("div",{className:"flex items-center gap-2 justify-end w-[90%]",children:[e.jsxs("div",{className:"mr-4 hidden font-medium cursor-pointer xl:flex items-center justify-end px-4 py-2 gap-2 text-[13px] rounded-sm z-30",children:[e.jsx(ls,{className:"text-[30px]"}),e.jsx("div",{className:"xl:mt-1",children:a==null?void 0:a.categoryType})]}),e.jsxs(Te,{to:"/report",className:"relative ml-[10px]",children:[e.jsx(ze,{}),g>0&&e.jsx("span",{className:"-top-2 left-2 text-[11px] mt-1 bg-red-500 text-white font-bold w-4 h-4 rounded-full absolute flex justify-center items-center",children:g>=10?"10+":g})]}),e.jsxs("div",{className:"mx-2 md:mr-5 font-medium cursor-pointer flex items-center bg-slate-200 px-2 md:px-4 h-[35px] py-2 rounded-sm z-30",onClick:()=>{r(!w),n(G(!i))},children:[" ",e.jsx(Oe,{}),e.jsxs("span",{className:"text-[12px] ml-2",children:["Session: ",e.jsxs("span",{children:[c&&((N=c[0])==null?void 0:N.year)," "]})]}),e.jsx("div",{className:"transition-all duration-300 ",children:i?e.jsx(ge,{className:"-rotate-180 duration-300 transition-all"}):e.jsx(ge,{className:"-rotate-0 duration-300 transition-all"})})]}),e.jsxs("div",{className:"flex items-center px-2 py-1 border rounded-full gap-1 md:gap-3 duration-300 transition-all cursor-pointer z-10 bg-white shadow-sm",onClick:()=>{r(!1),n(F(!l)),n(L(!1))},children:[e.jsx("div",{className:"w-8 h-8  rounded-full border flex justify-center items-center",children:h?e.jsx(E,{color:"#172554",size:13}):e.jsx("img",{className:"w-full h-full rounded-full border object-cover",src:a!=null&&a.avatar?a==null?void 0:a.avatar:Ce})}),l?e.jsx(ye,{className:"rotate-180 duration-300 transition-all"}):e.jsx(ye,{className:"rotate-0 duration-300 transition-all"})]}),e.jsx("div",{className:" md:hidden text-[30px] cursor-pointer ml-3  duration-300 transition-all",children:t?e.jsx(J,{className:"duration-500 transition-all",onClick:j}):e.jsx(Be,{className:"duration-500 transition-all",onClick:j})})]}),e.jsx("div",{className:`absolute duration-300 transition-all ${l?"right-6 top-14  ":"right-6 -top-80  "}`,children:e.jsx(ae,{propName:"account",name:[{title:"Account",icon:e.jsx(Ue,{}),to:"settings"}],log:!0})}),e.jsx("div",{className:`absolute duration-300 transition-all ${i?"right-24 top-14  ":"right-24 -top-56  "}`,children:e.jsx(as,{})}),s&&e.jsx("div",{className:" absolute top-0 right-0 w-full md:w-[calc(100%-250px)] backdrop-blur-md  flex items-center justify-center h-screen",children:e.jsx(Se,{})}),((d=a==null?void 0:a.session)==null?void 0:d.length)===0&&e.jsx("div",{className:" absolute top-0 right-0 w-full md:w-[calc(100%-250px)] backdrop-blur-md  flex items-center justify-center h-screen",children:e.jsx(Se,{})}),o&&e.jsx("div",{className:" absolute top-0 right-0 w-full md:w-[calc(100%-250px)] backdrop-blur-md  flex items-center justify-center h-screen",children:e.jsx(cs,{})}),t&&e.jsx("div",{className:`absolute md:hidden duration-300 transition-all ${t?"right-6 top-14  ":"right-6 -top-24  "}`,children:(a==null?void 0:a.categoryType)==="Secondary"?e.jsx(ae,{propName:"navs",name:[{title:"Dashboard",icon:e.jsx(K,{}),to:"/"},{title:"View Staffs",icon:e.jsx(R,{}),to:"view-staff"},{title:"View Students",icon:e.jsx(Z,{}),to:"view-students"},{title:"View Classrooms",icon:e.jsx(q,{}),to:"class-room"},{title:"View Subjects",icon:e.jsx(Q,{}),to:"subjects"},{title:"Complains",icon:e.jsx(X,{}),to:"report"},{title:"Scheme of Work",icon:e.jsx(de,{}),to:"schemes"},{title:"Lesson Notes",icon:e.jsx(ee,{}),to:"lesson-note"},{title:"Gallery",icon:e.jsx(se,{}),to:"view-gallery"},{title:"Store",icon:e.jsx(te,{}),to:"store"},{title:"History",icon:e.jsx(ve,{}),to:"result-history"},{title:"Result History",icon:e.jsx(me,{}),to:"view-student-result-history"},{title:"Settings",icon:e.jsx(le,{}),to:"settings"}],but:!0}):e.jsx(ae,{propName:"navs",name:[{title:"Dashboard",icon:e.jsx(K,{}),to:"/"},{title:"View Staffs",icon:e.jsx(R,{}),to:"view-staff"},{title:"View Students",icon:e.jsx(Z,{}),to:"view-students"},{title:"View Classrooms",icon:e.jsx(q,{}),to:"class-room"},{title:"View Subjects",icon:e.jsx(Q,{}),to:"subjects"},{title:"Complains",icon:e.jsx(X,{}),to:"report"},{title:"Lesson Notes",icon:e.jsx(ee,{}),to:"lesson-note"},{title:"Gallery",icon:e.jsx(se,{}),to:"view-gallery"},{title:"Store",icon:e.jsx(te,{}),to:"store"},{title:"History",icon:e.jsx(ve,{}),to:"result-history"},{title:"Settings",icon:e.jsx(le,{}),to:"settings"}],but:!0})})]})},ms=()=>{const{data:n}=_(),[l,t]=p.useState(""),[h,i]=p.useState(""),[s,o]=p.useState(0),[w,r]=p.useState(""),[j,a]=p.useState(""),[c,m]=p.useState(!1),g=f=>{const N=f.target.files[0],d=URL.createObjectURL(N);a(d),r(N)},y=()=>{m(!0);const f=new FormData;f.append("title",l),f.append("cost",`${s}`),f.append("description",`${h}`),f.append("avatar",w),w!==""?He(n==null?void 0:n._id,f).then(N=>{var d,u;N.status===201?(S(`api/view-store/${n==null?void 0:n._id}`),m(!1),v.success("Product Uploaded"),o(0),a(""),i(""),t(""),r("")):(m(!1),v.error(`${(u=(d=N==null?void 0:N.response)==null?void 0:d.data)==null?void 0:u.message}`),o(0),a(""),i(""),t(""),r("")),i(""),t(""),r("")}).then(()=>{o(0),a(""),i(""),t("")}):(m(!1),v.error("Image is not included"))};return e.jsxs("div",{children:[e.jsx(ne,{position:"top-center",reverseOrder:!0}),e.jsxs("div",{className:`mt-5 text-[13px] font-medium ${(n==null?void 0:n.categoryType)==="Secondary"?"text-blue-950":"text-green-950"} flex justify-start w-full ${(n==null?void 0:n.categoryType)==="Secondary"?"bg-blue-400":"bg-green-400"}`,children:[e.jsx("label",{htmlFor:"assign_subject_timetable",className:"bg-black text-white border-none font-medium py-4 px-9 leading-tight rounded-md cursor-pointer",children:"Add item to Store"}),e.jsx("div",{className:"mt-5"}),e.jsx("input",{type:"checkbox",id:"assign_subject_timetable",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md",role:"dialog",children:[e.jsxs("div",{className:"modal-box  rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Add New Items to Store"}),e.jsx("label",{htmlFor:"assign_subject_timetable",className:`${(n==null?void 0:n.categoryType)==="Secondary"?"hover:bg-blue-50 ":"hover:bg-red-50 "} transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold `,children:e.jsx(J,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 leading-tight text-[13px] font-medium text-left",children:["Please note that by assigning this subject to this class, it automtically becomes one of the class must take suject.",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Product Title: ",l]}),l&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(oe,{className:"text-green-500 text-[25px] mb-1 "})]})]}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Product Cost: ",s>0&&s]}),s&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(oe,{className:"text-green-500 text-[25px] mb-1 "})]})]}),e.jsxs("div",{className:"flex gap-2  items-center",children:[e.jsxs("p",{children:[" Product Description: ",h.slice(0,30),"..."]}),h&&e.jsxs("div",{className:"flex items-center font-bold",children:[e.jsx("span",{children:"selected"}),e.jsx(oe,{className:"text-green-500 text-[25px] mb-1 "})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"mt-10 flex gap-4 w-full justify-start",children:[e.jsx("label",{className:` text-white ${(n==null?void 0:n.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} border px-6 py-3 cursor-pointer rounded-md  mt-4`,htmlFor:"pix",children:"Upload Image"}),j&&e.jsx("img",{className:"w-16 h-10 border rounded-md mt-4 object-cover",src:j}),e.jsx("input",{id:"pix",className:"hidden",type:"file",onChange:g})]})}),e.jsx("div",{className:"mt-4 w-full gap-2 flex flex-col items-center text-left",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px] mt-4",children:["Product Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Y,{className:" w-full mt-2 mb-8 ml-0",placeholder:"ProductTitle",value:l,defaultValue:l,onChange:f=>{t(f.target.value)}}),e.jsxs("div",{className:"flex w-full gap-2 mb-10",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Product Cost ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Y,{value:s,type:"number",defaultValue:s,placeholder:"Product Cost",className:"w-full mt-2 ml-0",onChange:f=>{o(f.target.value)}})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Product Description"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Y,{value:h,placeholder:"Product Description",className:"ml-0 w-full mt-2",defaultValue:h,onChange:f=>{i(f.target.value)}})]})]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300",children:l!==""&&s!==0&&h!==""?e.jsx("label",{htmlFor:"assign_subject_timetable",className:`${(n==null?void 0:n.categoryType)==="Secondary"?"bg-blue-950":"bg-red-950"} text-white py-4 px-8 rounded-md cursor-pointer transition-all duration-300`,onClick:()=>{y()},children:c?e.jsxs("div",{children:[e.jsx(E,{size:10,color:"white"}),e.jsx("span",{className:"ml-2",children:"Loading...."})]}):"Proceed"}):e.jsx($,{name:"Can't Proceed",className:`bg-[lightgray] ${(n==null?void 0:n.categoryType)==="Secondary"?"text-blue-950":"text-green-950"} mx-0 cursor-not-allowed`})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"assign_subject_timetable",children:"Close"})]})]})]})},us=()=>{const n=P();_(),T(t=>t.starting),p.useState("");const l=()=>{document.startViewTransition?document.startViewTransition(()=>{n(F(!1))}):n(F(!1))};return e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"mt-10 px-2 flex flex-col h-[90%]",children:[e.jsxs(b,{to:"/dashboard",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Dashboard",e.jsx(K,{})]}),e.jsxs(b,{to:"/view-staff",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Staff",e.jsx(R,{})]}),e.jsxs(b,{to:"/view-students",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Students",e.jsx(Z,{})]}),e.jsxs(b,{to:"/class-room",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Classrooms",e.jsx(q,{})]}),e.jsxs(b,{to:"/subjects",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Subjects",e.jsx(Q,{})]}),e.jsxs(b,{to:"/report",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Complains",e.jsx(X,{})]}),e.jsxs(b,{to:"/schemes",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Scheme Of Work",e.jsx(de,{})]}),e.jsxs(b,{to:"/lesson-note",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Lesson Note",e.jsx(ee,{})]}),e.jsxs(b,{to:"/view-gallery",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Gallery",e.jsx(se,{})]}),e.jsxs(b,{to:"/store",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Store",e.jsx(te,{})]}),e.jsxs(b,{to:"/result-history/",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Operation History",e.jsx($e,{})]}),e.jsxs(b,{to:"/view-student-result-history/",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Results History",e.jsx(me,{})]}),e.jsx("div",{className:"flex-1"}),e.jsxs(b,{to:"/settings",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-red-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-red-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Settings",e.jsx(le,{})]})]})})})},xs=()=>{const n=P();T(t=>t.starting),p.useState("");const l=()=>{document.startViewTransition?document.startViewTransition(()=>{n(F(!1))}):n(F(!1))};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("div",{className:"my-5 mx-4",children:e.jsx("hr",{})}),e.jsxs("div",{className:"px-2 flex flex-col h-[90%]",children:[e.jsxs(b,{to:"/dashboard",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Dashboard",e.jsx(K,{})]}),e.jsxs(b,{to:"/analytics",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Analytics",e.jsx(Ge,{})]}),e.jsxs(b,{to:"/view-staff",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Staff",e.jsx(R,{})]}),e.jsxs(b,{to:"/view-students",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Students",e.jsx(Z,{})]}),e.jsxs(b,{to:"/class-room",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Classrooms",e.jsx(q,{})]}),e.jsxs(b,{to:"/subjects",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["View Subjects",e.jsx(Q,{})]}),e.jsxs(b,{to:"/report",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Complains",e.jsx(X,{})]}),e.jsxs(b,{to:"/lesson-note",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Lesson Note",e.jsx(ee,{})]}),e.jsxs(b,{to:"/schemes",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Scheme Of Work",e.jsx(de,{})]}),e.jsxs(b,{to:"/view-gallery",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Gallery",e.jsx(se,{})]}),e.jsxs(b,{to:"/store",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Store",e.jsx(te,{})]}),e.jsxs(b,{to:"/result-history/",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Operation History",e.jsx($e,{})]}),e.jsxs(b,{to:"/view-student-result-history/",className:({isActive:t})=>t?"duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ":"duration-500 transition-all p-2 rounded-sm hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[3px] flex items-center justify-between ",onClick:l,children:["Results History",e.jsx(me,{})]}),e.jsx("div",{className:"flex-1"}),e.jsxs(b,{to:"/settings",className:({isActive:t})=>t?"mt-10 duration-500 transition-all p-2 rounded-sm bg-blue-100 text-black cursor-pointer font-medium my-[4px] flex items-center justify-between ":"mt-10 duration-500 transition-all p-2 rounded-sm  flex items-center justify-between hover:bg-blue-100 hover:text-black cursor-pointer font-medium my-[4px]",onClick:l,children:["Settings",e.jsx(le,{})]})]})]})})},hs=({props:n})=>{var y,f,N;const{data:l}=_(),[t,h]=p.useState(""),[i,s]=p.useState(!1),o=P(),[w,r]=p.useState(""),[j,a]=p.useState(""),{studentRecord:c}=Ye(j);let m=(f=(y=l==null?void 0:l.paymentOptions)==null?void 0:y.filter(d=>(d==null?void 0:d.paymentDetails)===t)[0])==null?void 0:f.paymentAmount;const g=()=>{s(!0),Ke({email:l==null?void 0:l.email,paymentAmount:parseFloat(m)}).then(d=>{var u,C,k,x,V,M;((u=d==null?void 0:d.data)==null?void 0:u.status)===201?(o(we({paymentName:t,studentID:c==null?void 0:c._id,name:`${c==null?void 0:c.studentFirstName} ${c==null?void 0:c.studentLastName}`,email:c==null?void 0:c.email,schoolName:l==null?void 0:l.schoolName,schoolAddress:l==null?void 0:l.address,schoolBankDetail:l==null?void 0:l.bankDetails})),window.location.assign((x=(k=(C=d==null?void 0:d.data)==null?void 0:C.data)==null?void 0:k.data)==null?void 0:x.authorization_url),v.success("Added Successfully...!")):v.error(`${(M=(V=d==null?void 0:d.response)==null?void 0:V.data)==null?void 0:M.message}`)}).finally(()=>{s(!1)})};return e.jsx("div",{className:"",children:e.jsxs("div",{className:" text-[13px]  font-medium",children:[e.jsx("label",{htmlFor:"other_payments",className:" transition-all duration-300 cursor-pointer ",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"bg-blue-950 hover:bg-blue-900 transition-all duration-300 text-white border-none font-medium py-4 text-[13px] w-full  px-5 leading-tight flex justify-center items-center rounded-md gap-2 ",children:[e.jsx(Je,{size:20}),e.jsx("div",{children:"Other Payments"})]})})}),e.jsx("div",{className:""}),e.jsx("input",{type:"checkbox",id:"other_payments",className:"modal-toggle"}),e.jsxs("div",{className:"modal rounded-md text-blue-950 text-left",role:"dialog",children:[e.jsxs("div",{className:"modal-box bg-white rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between my-4 ",children:[e.jsx("p",{className:"font-bold",children:"Making Payment for other things"}),e.jsx("label",{htmlFor:"other_payments",className:"hover:bg-blue-50 transition-all duration-300  cursor-pointer rounded-full flex items-center justify-center w-6 h-6 font-bold ",children:e.jsx(J,{})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2 italic leading-tight text-[13px] font-medium",children:["Make payments conveniently without stress using cash, cards, digital wallets, or bank transfers. Digital transactions simplify financial activities, while security measures ensure safe payments!",e.jsx("br",{})]}),e.jsx("div",{className:"mt-10 w-full gap-2 flex flex-col items-center",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Student Info ",e.jsx("span",{className:"text-red-500"})]}),e.jsxs("div",{className:"flex flex-col mb-4",children:[e.jsx("label",{htmlFor:"",className:"mb-1 text-[13px] font-semibold"}),e.jsx("input",{className:"border h-[45px] rounded-md max-w-[325px] outline-none text-[14px] pl-2 flex items-center font-semibold",placeholder:"Enter Student Name",value:w,onChange:d=>r(d.target.value)})]}),e.jsxs("div",{className:"flex flex-col mb-4",children:[e.jsxs("label",{className:"font-medium text-[12px] mb-2",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{className:"border h-[45px] rounded-md max-w-[325px] outline-none text-[14px] pl-2 flex items-center font-semibold",placeholder:"Enter Student ID",value:j,onChange:d=>a(d.target.value)})]})]}),e.jsx("div",{className:"flex w-full gap-2 mb-5",children:e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("label",{className:"font-medium text-[12px]",children:["Payment Mode ",e.jsx("span",{className:"text-red-500 mb-1",children:"*"})]}),e.jsxs("select",{className:"select select-bordered w-full max-w-xs mt-1",value:t,onChange:d=>{h(d.target.value)},children:[e.jsx("option",{selected:!0,children:"Pick what to pay for"}),(N=l==null?void 0:l.paymentOptions)==null?void 0:N.map(d=>e.jsx("option",{value:d.paymentDetails,children:d.paymentDetails}))]})]})}),e.jsxs("label",{className:"font-medium text-[12px]",children:["Payment Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col mb-4",children:[e.jsx("label",{htmlFor:"",className:"mb-1 text-[13px] font-semibold"}),e.jsxs("div",{className:"border h-[45px] rounded-md max-w-[325px] outline-none text-[14px] pl-2 flex items-center font-semibold",children:["₦",parseFloat(m!==void 0?m:0).toLocaleString()]})]})]})}),e.jsx("div",{className:"w-full flex justify-end transition-all duration-300 mt-10",children:j!==""?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{to:"/other-school-payment",className:"bg-red-500 hover:bg-red-600 transition-all duration-300 text-white py-3 px-6 rounded-md cursor-pointer flex",onClick:()=>{o(we({paymentName:t,studentID:c==null?void 0:c._id,name:`${c==null?void 0:c.studentFirstName} ${c==null?void 0:c.studentLastName}`,email:c==null?void 0:c.email,schoolName:l==null?void 0:l.schoolName,schoolAddress:l==null?void 0:l.address,schoolBankDetail:l==null?void 0:l.bankDetails,currency:"NGN",channel:"cash",amount:m}))},children:"Proceed with Cash"}),e.jsxs("label",{className:"bg-blue-950 hover:bg-blue-900 transition-all duration-300 text-white py-3 px-6 rounded-md cursor-pointer flex",onClick:g,children:[i&&e.jsx(We,{size:20,className:"mr-4 animate-spin"}),i?"Loading...":"Proceed with Card"]})]}):e.jsx($,{name:"Can't Proceed",className:"bg-[lightgray] text-blue-950 mx-0 cursor-not-allowed"})})]}),e.jsx("label",{className:"modal-backdrop",htmlFor:"other_payments",children:"Close"})]})]})})},ps=()=>{var d,u,C,k;const n=P(),l=T(x=>x.imageToggle),t=T(x=>x.user),[h,i]=p.useState(!1),{data:s}=_(),{schoolInfo:o,loading:w}=ce(t.id);let r=o,j={};if((r==null?void 0:r.length)>0)for(let x=0;x<(r==null?void 0:r.length);x++)j=r[0];let a="";if(j!==null)for(let x=0;x<((u=(d=j==null?void 0:j.term)==null?void 0:d.reverse())==null?void 0:u.length);x++)a=j==null?void 0:j.term[0];const{termData:c}=Re(a);let m=[];p.useEffect(()=>{if((o==null?void 0:o.length)===1||(o==null?void 0:o.length)===0){for(let x=0;x<(o==null?void 0:o.length);x++)m=o[x].term;(m==null?void 0:m.length)===1?n(re(!0)):n(re(!1))}else n(re(!1))},[]);const[g,y]=p.useState(""),[f,N]=p.useState(!1);return e.jsxs("div",{className:`overflow-y-auto min-h-[100vh] w-full border-r bg-white ${(s==null?void 0:s.categoryType)==="Secondary"?"text-blue-900":"text-green-900"} flex flex-col `,children:[e.jsxs("div",{className:"w-full flex px-2 mt-6 ",children:[e.jsx("div",{className:" w-16 h-16 object-cover flex border rounded-full items-center justify-center ",children:l?e.jsx("div",{className:"flex justify-center items-center w-full h-full object-cover rounded-full border",children:e.jsx(E,{size:20,color:"#172554"})}):e.jsx("img",{className:"w-full h-full object-cover rounded-full border",src:s!=null&&s.avatar?s==null?void 0:s.avatar:Ce})}),e.jsxs("div",{className:"ml-2",children:[e.jsx("div",{className:"break-words font-bold text-[16px]",children:((C=s==null?void 0:s.schoolName)==null?void 0:C.length)>15?e.jsxs("p",{children:[s==null?void 0:s.schoolName.substring(0,15),"..."]}):s==null?void 0:s.schoolName}),e.jsxs("p",{className:"break-words font-medium text-slate-400 text-[14px] mt-2",children:["ID: ",s==null?void 0:s.enrollmentID]}),e.jsxs("p",{className:"break-words font-medium text-slate-400  text-[14px] -mt-1",children:["Session: ",w?"":s==null?void 0:s.presentSession]}),e.jsxs("p",{className:"text-[12px] font-bold",children:["Term: ",w?"":s!=null&&s.presentTerm?s==null?void 0:s.presentTerm:e.jsx("span",{className:"text-red-400 ml-1",children:"Please create TERM"})]})]})]}),e.jsxs("div",{className:"mx-2",children:[" ",s!=null&&s.freeMode?e.jsx("div",{className:"mt-3 py-2 text-center flex flex-col border mx-0 rounded-md py-1 bg-blue-50",children:e.jsxs("div",{className:"mb-2 px-2 text-[12px] text-left font-medium ",children:["You are seeing this, because you are on your First Free Term Mode.",e.jsx("br",{}),e.jsx("p",{className:"mt-1 font-bold ",children:"Thank you for coming on board!"})]})}):e.jsx("div",{children:!(c!=null&&c.plan)&&(c==null?void 0:c.payRef)===""&&e.jsx($,{name:h?e.jsx("span",{className:"ml-3",children:"Processing..."}):"Renew Plan",icon:h&&e.jsx(E,{size:10,color:"white",className:"absolute -mt-1 ml-1"}),className:"text-[14px] w-full uppercase px-0 pr-2 font-bold bg-red-500 ml-0",onClick:()=>{i(!0),Ze(t==null?void 0:t.id,s==null?void 0:s.email).then(x=>{var V,M,z,O;((V=x==null?void 0:x.data)==null?void 0:V.status)===201&&location.replace((O=(z=(M=x==null?void 0:x.data)==null?void 0:M.data)==null?void 0:z.data)==null?void 0:O.authorization_url)}).then(()=>{i(!1)})}})})]}),(s==null?void 0:s.presentTerm)==="1st Term"&&e.jsx("div",{className:"mt-4 px-2 text-center flex flex-col justify-center items-center border mx-2 rounded-md py-4",children:e.jsx("div",{className:" text-[13px] font-medium ",children:e.jsx(_e,{style1:"16px",style2:"14px"})})}),e.jsxs("div",{className:"mt-10 px-2 text-center flex flex-col border mx-2 rounded-md py-4",children:[e.jsxs("div",{className:"mb-4 text-[13px] font-medium ",children:["Encourage Parents to Purchase Learning Materials for thier child by having more items in your Library Store"," "]}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(ms,{})}),e.jsx("div",{className:"mt-2"}),e.jsx(hs,{})]}),e.jsxs("div",{className:"mt-2 px-2 center flex flex-col border mx-2 rounded-md py-1",children:[e.jsx("div",{className:"mb-4 text-[14px] uppercase font-bold",children:"Clocking Students"}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{className:"border text-[14px] rounded-md h-[45px] outline-none pl-2 w ",placeholder:"Student ID",value:g,onChange:x=>y(x.target.value)}),e.jsx($,{name:f?"clocking student...":"Clock-in/Clock-Out",disabled:f,className:`${f?"bg-red-400 cursor-not-allowed animate-pulse ":"bg-red-500"} text-white mx-0 border-none font-medium py-4 px-2 text-[12px] uppercase leading-tight`,onClick:()=>{N(!0),qe(g).then(x=>{var V,M,z,O,ue,xe,he,pe,fe,be;console.log(x),x.status===201?(M=(V=x.data)==null?void 0:V.data)!=null&&M.clockIn?Xe((pe=(he=x.data)==null?void 0:he.data)==null?void 0:pe.schoolIDs,(be=(fe=x.data)==null?void 0:fe.data)==null?void 0:be._id).then(I=>{var B,U,H;I.status===201?(S(`api/view-student-info/${(U=(B=I.data)==null?void 0:B.data)==null?void 0:U._id}`),v.success(`${(H=I.data)==null?void 0:H.studentFirstName}, has been clock out`)):v.error("student has been clocked out yet, Please try again!")}):Qe((O=(z=x.data)==null?void 0:z.data)==null?void 0:O.schoolIDs,(xe=(ue=x.data)==null?void 0:ue.data)==null?void 0:xe._id).then(I=>{var B,U,H;I.status===201?(S(`api/view-student-info/${(U=(B=I.data)==null?void 0:B.data)==null?void 0:U._id}`),v.success(`${(H=I.data)==null?void 0:H.studentFirstName}, has been clock in`)):v.error("student has been clocked in yet, Please try again!")}):v.error("something went wrong")}).finally(()=>{N(!1),y("")})}})]})})]}),e.jsxs("div",{children:[e.jsx(ne,{}),(s==null?void 0:s.categoryType)==="Secondary"||((k=s==null?void 0:s.schoolTags[0])==null?void 0:k.val)==="Secondary School."?e.jsx(xs,{}):e.jsx(us,{})]})]})},ks=()=>{const{data:n}=_(),l=T(C=>C.showStaffComp),t=T(C=>C.showStudent),h=T(C=>C.classroomToggled),i=P(),[s,o]=p.useState(""),[w,r]=p.useState(0),[j,a]=p.useState(0),[c,m]=p.useState(0),[g,y]=p.useState(!1),[f,N]=p.useState(!1),d=()=>{document.startViewTransition?document.startViewTransition(()=>{i(Ne(!1))}):i(Ne(!1))},u=()=>{const C=k=>/^(JSS|SSS|KG|Nursery|kindergarten|Basic|BASIC|Primary)\s[1-6][A-Z]$|^Nur\s[1-6]$|^Pry\s[1-6]$|^KG\s[1-6]$|^SSS\s[1-3](SCIENCE|ART|COMMERCIAL|TECHNICAL)$/.test(k)?(N(!0),v.success(`${k} has been successfully added to your class list`),k.toUpperCase()):(N(!1),console.log(s,f),v.error("Invalid class format. Example: 'JSS 2A' or 'SSS 1E' or 'JSS 2'!"),k.toUpperCase());try{y(!0),ss(n==null?void 0:n._id,{className:C(s.toUpperCase()),class1stFee:w,class2ndFee:j,class3rdFee:c}).then(k=>{k.status===201?(S("api/view-classrooms/"),y(!1),d()):(y(!1),v.error(`${k.response.data.message}`))}).finally(()=>{y(!1)})}catch(k){return k}};return e.jsxs("div",{className:"flex w-[100%] ",children:[e.jsx("div",{className:`md:flex w-[250px] h-[100vh] fixed hidden  transition-all duration-300 z-50 
          ${(n==null?void 0:n.categoryType)==="Secondary"?"text-blue-900":"text-green-900"}`,children:e.jsx(ps,{})}),e.jsx("div",{className:"flex w-[calc(100%)] justify-end",children:e.jsxs("div",{className:"flex flex-col w-[100%] transition-all duration-300 md:w-[calc(100%-250px)] justify-end",children:[e.jsx(ds,{}),e.jsxs("div",{className:"min-h-[calc(100vh-72px)] p-4 m-2 border rounded-md mt-16 relative ",onClick:()=>{},children:[e.jsx(es,{}),l&&e.jsx("div",{className:"top-0 w-full h-full left-0 absolute overflow-hidden rounded-md ",style:{background:`${(n==null?void 0:n.categoryType)==="Secondary"?"rgba(73, 154, 255, 0.2)":"bg-red-200"}`,boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(ns,{})}),t&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(is,{})}),h&&e.jsx("div",{className:"-top-0 w-full h-full left-0 absolute rounded-md overflow-hidden",style:{background:"rgba(73, 154, 255, 0.2)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:e.jsx(os,{upper:!0,fee:!0,base:!0,titleCall:"Creating new classroom",offFn:d,text:"Place the name this would be generally called across the life-span of the school's existance!",placeStart:"JSS 1A",placeEnd:"JSS 1A",startTitle:"Enter Class Name",endTitle:"Class Assigned",setStart:o,start:s,handleFn:u,loading:g,num1:w,num2:j,num3:c,setNumb1:r,setNumb2:a,setNumb3:m})})]})]})})]})};export{ks as default};
